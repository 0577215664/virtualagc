<!DOCTYPE doctype PUBLIC "-//w3c//dtd html 4.0 transitional//en">
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="GENERATOR" content="Mozilla/4.7 [en] (X11; I; Linux
      2.4.16 ppc) [Netscape]">
    <meta name="Author" content="Ronald Burkey">
    <title>Virtual AGC Download Page</title>
    <meta name="author" content="Ronald S. Burkey">
    <script type="text/javascript" src="Header.js"></script>
  </head>
  <body style="background-image: url(gray3.jpg);">
    <script type="text/javascript">document.write(headerTemplate.replace("@TITLE@","Downloads").replace("@SUBTITLE@","Installation Instructions for<br>Linux/Windows/Mac OS X and others"))</script>
    <div align="center"> <br>
      <br>
    </div>
    <table align="center" border="1" cellpadding="2" cellspacing="2">
      <tbody>
        <tr>
          <td colspan="3" rowspan="1" valign="top">
            <div align="center"><big><b>Current Virtual AGC Versions</b></big><br>
            </div>
          </td>
        </tr>
        <tr>
          <td valign="top"><b>For all platforms</b><b><br>
            </b></td>
          <td valign="top"><b>Complete source code:</b></td>
          <td valign="top"><a
              href="https://github.com/virtualagc/virtualagc">Current</a></td>
        </tr>
        <tr>
          <td valign="top"><b>For Windows, Mac, Linux, Solaris, FreeBSD
              (32- or 64-bit 'x86)</b><b><br>
            </b></td>
          <td valign="top"><b>VirtualBox virtual machine (VM):</b><br>
          </td>
          <td valign="top"><a
              href="http://www.ibiblio.org/apollo/Downloads/VirtualAGC-runtime.tar.7z">2016-11-16,






              900MB</a></td>
        </tr>
        <tr>
          <td valign="top"><b>For Ubuntu 14.04 (32-bit 'x86)</b><b><br>
            </b></td>
          <td valign="top"><b>Installer program:<br>
            </b></td>
          <td valign="top"><a
              href="http://www.ibiblio.org/apollo/Downloads/VirtualAGC-installer">2016-11-16,






              27MB</a></td>
        </tr>
        <tr>
          <td valign="top"><b>For Raspberry Pi (Raspbian)</b><b><br>
            </b></td>
          <td valign="top"><b>Tarball:</b></td>
          <td valign="top"><a
href="http://www.ibiblio.org/apollo/Downloads/VirtualAGC-Raspbian-2016-08-13.tar.bz2">2016-08-13</a></td>
        </tr>
      </tbody>
    </table>
    <h2>Introduction</h2>
    <p>This page covers various ways to download and/or install Virtual
      AGC project software.&nbsp; Three methods are currently
      recommended, and a fourth is possible if not really recommended:<br>
    </p>
    <ol>
      <li>If you simply wish to <i>run</i> one of the provided AGC or
        AEA simulations, examine the AGC or AEA program code, and/or do
        visual debugging of (Block II) AGC code, then the easiest thing
        to do is to <a href="#Downloading_Running_or_Updating">download
          and run the provided VirtualBox virtual machine</a>.&nbsp; The
        VM is guaranteed to work properly on any 32-bit or 64-bit 'x86
        platform for which VirtualBox is available, namely Windows, Mac,
        Linux, and Solaris, and (<a
href="https://www.freebsd.org/doc/handbook/virtualization-host-virtualbox.html">according
















          to this page</a>) FreeBSD as well even though the latter is
        not obvious from the VirtualBox website.<br>
      </li>
      <li>If you just happen to have a computer system which is
        currently supported by an installation package, then you can <a
          href="#Platforms_Directly_Supported_by">simply download and
          install the proper installation package</a>.&nbsp; At present,
        however, these platforms are only the following:</li>
      <ol>
        <li>Raspberry Pi</li>
        <li>Ubuntu 14.04 32-bit 'x86.<br>
        </li>
      </ol>
      <li>If you wish to do not only the above, but also wish to delve
        more deeply into the Virtual AGC project code (as opposed to
        just the AGC/AEA code), then you should instead <a
          href="#Downloading_and_Building_Virtual_AGC">download the
          Virtual AGC source code, and perhaps build it yourself</a>.&nbsp;
















        This works on many more platforms, though is more-involved to
        set up, and visual AGC debugging may not be possible easily on
        platforms other than 'x86 Windows, Mac, or Linux.<br>
      </li>
      <li>If you are satisfied with <i>older</i> versions of Virtual
        AGC, many additional computer platforms were once directly
        supported with installer programs, which you can still find <a
          href="download-less-old.html">here</a> or <a
          href="download-old.html">here</a>.&nbsp; Ideally, we would
        like to directly support all major platforms with Virtual AGC
        installer programs, but in practice it is far too hard to do so
        with the resources available at present, so this is no longer
        currently done.</li>
    </ol>
    <p>Note that a lot of detail about known quirks on different
      platforms, and about trouble-shooting, can be found at the older
      links listed in approach #4 above, but isn't found on the present
      page.&nbsp; That's because the information hasn't been updated in
      so long that its reliability is dubious, and because many of the
      platforms mentioned there are long-obsolete.&nbsp; It should also
      be noted that the build-instructions for some platforms presented
      here are similarly out-of-date and may need corrections.<br>
    </p>
    <h2><a name="Downloading_Running_or_Updating"></a>Downloading,
      Running, or Updating Virtual AGC in VirtualBox</h2>
    <h3>Characteristics of the Virtual AGC VM<br>
    </h3>
    <p>The approach described here should work with any 32-bit or 64-bit
      'x86 version of Windows, Mac, Linux, Solaris, or FreeBSD.&nbsp;
      It's nice because it lets you work with the most-commonly-desired
      elements of Virtual AGC, while skipping past the most-annoying and
      tricky setup steps.&nbsp; It provides you with a "virtual
      machine", with Virtual AGC and other things you need in order to
      be able to work with Virtual AGC already pre-installed and
      pre-configured.<br>
    </p>
    <p>When the VM is run, the first thing you see is the VirtualAGC
      GUI, from which you can run an AGC simulation using various
      selectable options, browse nicely syntax-highlighted AGC source
      code, or various other things.&nbsp; In the screenshots below,
      you'll also notice a "website" desktop icon, which lets you browse
      to the website you happen to be looking at right at this instant
      not a big deal (you're already doing it, right?), but convenient
      for making downloads directly into the VM.<br>
    </p>
    <table width="100%" cellpadding="2" cellspacing="2">
      <tbody>
        <tr>
          <td align="center" valign="top"><a
              href="VirtualAGC-runtime-gui.jpg"><img alt="" title="Click
                to enlarge" src="small-VirtualAGC-runtime-gui.jpg"
                height="265" width="360" border="2"></a><br>
          </td>
          <td align="center" valign="top"><a
              href="VirtualAGC-runtime-sim.jpg"><img alt="" title="Click
                to enlarge" src="small-VirtualAGC-runtime-sim.jpg"
                height="265" width="360" border="2"></a><br>
          </td>
          <td align="center" valign="top"><a
              href="VirtualAGC-runtime-browse.jpg"><img alt=""
                title="Click to enlarge"
                src="small-VirtualAGC-runtime-browse.jpg" height="265"
                width="360" border="2"></a><br>
          </td>
        </tr>
      </tbody>
    </table>
    <p align="left">The other main thing the VM allows you to do is to
      work with the AGC source code in <a href="http://codeblocks.org/">Code::Blocks</a>.&nbsp;
















      Code::Blocks is an Integrated Development Environment (IDE), which
      means that you can edit the AGC source code and reassemble it ...
      but more importantly, it means you can <i>visually debug</i> it:
      i.e., single-step through the AGC code, examine AGC variables, and
      so forth, so that you can get a very intimate understanding of how
      the AGC code works, if that's something that interests you.&nbsp;
      Most of the desktop icons in the images above are for debugging
      the various versions of AGC code in Code::Blocks.&nbsp; For
      example, in the VM screenshot below, the Luminary 131 (Apollo 13
      LM) code is being debugged, and the program is at line 379 (the <tt>EXTEND</tt>
      instruction) of the Fresh Start and Restart section of the code.<br>
    </p>
    <p align="center"><br>
      <a href="VirtualAGC-runtime-dbg.jpg"><img alt="" title="Click to
          enlarge" src="small-VirtualAGC-runtime-dbg.jpg" height="530"
          width="720" border="2"></a><br>
    </p>
    <p>Okay, enough of the sales pitch already!&nbsp; What's do you
      actually have to do to install the thing?<br>
    </p>
    <h3>Installation of the Virtual AGC VM<br>
    </h3>
    <p>It's hard to pin down exactly what computer resources you'll need
      to run the VM.&nbsp; The minimum is probably around 2 GB of RAM
      and 12GB of free disk space, but the more of everything you have,
      the better.&nbsp; In particular, you will have a far more
      satisfactory experience if your CPU has <a
        href="https://en.wikipedia.org/wiki/X86_virtualization">VT-x
        (Intel) or AMD-V (AMD) extensions</a>.&nbsp; The VM itself
      requires only about 5GB of disk space, but in the process of
      decompressing the downloaded VM, you'll temporarily need a lot
      more (hence the 12GB mentioned).<br>
    </p>
    <p>Before doing anything with Virtual AGC as such, you should take
      care of the following:<br>
    </p>
    <ul>
      <li>If VirtualBox is not already installed, <a
          href="https://www.virtualbox.org">download and install
          VirtualBox</a>, using whatever version is suitable for your
        computer system.&nbsp; The Virtual AGC virtual machine (VM) you
        will download was created with <a
          href="https://www.virtualbox.org/wiki/Download_Old_Builds_4_3">VirtualBox
















          4.3.40</a>, but it should work with later versions as well.</li>
      <li>The VM is compressed in tar.7z form for downloading, so if
        your operating system doesn't already have software support for
        tar.7z archives, you need to install extra software that
        provides it.&nbsp; In Linux, you're probably okay without doing
        anything, or at worst just using your distribution's software
        repository.&nbsp; For other platforms, a little googling reveals
        that the program <a href="http://www.7-zip.org/download.html">7zip</a>
        provides tar.7z for Windows, and there are "unofficial"
        installers for Mac, Solaris, and FreeBSD.&nbsp; However, various
        other programs work as well, I think, such as <a
          href="http://www.winzip.com/win/en/index.htm">WinZip</a>.</li>
    </ul>
    <p>Then to actually install the VirtualAGC VM, you do the following.
      <br>
    </p>
    <ol>
      <li>Download the current compressed VM, as listed at the top of
        this page.<br>
      </li>
      <li>Uncompress it, resulting in a folder called
        "VirtualAGC-runtime".&nbsp; This may (or may not) be a 2-step
        process, in which the .tar.7z file is first uncompressed into a
        .tar file, which in turn needs to be uncompressed to get the
        mentioned folder.&nbsp; The .tar.7z (and .tar) file are no
        longer used after that and may be deleted ... though obviously <i>we'd</i>
        prefer you retained it for a while to make sure you don't need
        to download it again if some mishap occurs.&nbsp; VirtualBox
        tends to store all of its virtual machines in the same folder
        (on Linux, for example, that folder is "~/VirtualBox VMs"), so
        although it's not necessary to do so, you might want to move the
        VirtualAGC-runtime folder into the corresponding "VirtualBox
        VMs" folder on your computer.</li>
      <li>In whatever file-system browser your computer has, descend
        into the VirtualAGC-runtime folder, and double-click the mouse
        on the file VirtualAGC-runtime.vbox.&nbsp; This makes VirtualBox
        aware of your VM, and may or may not actually immediately run
        it.&nbsp; At any rate, the VM will be visible in VirtualBox's
        manager program, and you can run it from there.</li>
    </ol>
    <p>In its as-downloaded form, the VM is typically configured to use
      1GB of RAM and 2 CPU cores.&nbsp; You can dial these settings down
      in VirtualBox, but you may need to scale your expectations at the
      same time.&nbsp; For example, with 512GB of RAM and 1 CPU core,
      you may find that simulation and debugging works perfectly fine,
      but browsing the source code may be miserable, due to the fact
      that modern browsers (Mozilla Firefox is what's included in the
      VM) take enormous amounts of RAM.<br>
    </p>
    <h3>Updating the Virtual AGC VM</h3>
    <p>Because the VM is such a large download, you don't want to have
      to download it every time there's updated Virtual AGC software!<br>
    </p>
    <p>Because the VM is based on 32-bit Ubuntu 14.04, which (surprise!)
      happens to be one of the <a
        href="#Platforms_Directly_Supported_by">target platforms
        supported directly by a Virtual AGC installer program</a>, the
      updating the VM to new Virtual AGC versions is generally quite
      simple.&nbsp; Do all of the following from <i>within</i> the VM
      itself:<br>
    </p>
    <ol>
      <li>Exit from the VirtualAGC program, if it's running in the
        VM.&nbsp; (In other words, we just want the VM desktop, without
        any programs running on it.)<br>
      </li>
      <li>Download the current Virtual AGC Ubuntu 14.04 32-bit
        installer, as listed at the top of this page.<a
          href="http://www.ibiblio.org/apollo/Download/VirtualAGC-installer"></a></li>
      <li>Make the VirtualAGC-installer executable:&nbsp; right-click on
        it, and on the pop-up list that appears choose
        Properties/Permissions, and change the Execute setting to "Only
        owner".</li>
      <li>Double-click VirtualAGC-installer to run it, accepting all of
        the defaults offered to you by the installer program.<br>
      </li>
    </ol>
    <h2><a name="Platforms_Directly_Supported_by"></a>Platforms Directly
      Supported by Virtual AGC Installers</h2>
    <h3>Virtual AGC Installer for Raspberry Pi (Raspbian)</h3>
    Installation is trivial:<br>
    <ol>
      <li>Download the current Raspberry Pi installation tarball, as
        listed at the top of this page.<a
href="http://www.ibiblio.org/apollo/Downloads/VirtualAGC-Raspbian-2016-08-13.tar.bz2"></a></li>
      <li>Unpack the installation tarball somewhere:&nbsp; "tar --bzip2
        -xvf VirtualAGC-Raspbian-<i>VERSION</i>.tar.bz2".<br>
      </li>
    </ol>
    This gives you a directory called lVirtualAGC/.&nbsp; To run the
    program, simply do the following from the command line, or set up a
    desktop icon that does the equivalent:<br>
    <blockquote> sudo apt-get install libwxgtk2.8-0 libsdl libncurses5
      liballegro4 tk<br>
      cd lVirtualAGC/Resources<br>
      ../bin/VirtualAGC<br>
    </blockquote>
    <h3>Installer for Ubuntu 14.04 32-bit 'x86 Linux</h3>
    Installation:<br>
    <ol>
      <li>Install the following system libraries from the Ubuntu
        repository:&nbsp; tk, libsdl1.2, libncurses5, liballegro4.4,
        libgtk2.0, libwxgtk2.8.</li>
      <li>Download the Virtual AGC Ubuntu installer, as listed at the
        top of this page.<br>
      </li>
      <li>Make the VirtualAGC-installer executable:&nbsp; some ways of
        doing that are to change its desktop-icon properties permissions
        to "executable", or to do "chmod +x VirtualAGC-installer" from
        the command line.</li>
      <li>Double-click VirtualAGC-installer to run it.<br>
      </li>
    </ol>
    A desktop icon called "Virtual AGC" will be installed unless you
    deselect it.&nbsp; Additionally, a program group will be placed on
    your desktop start menu called "Virtual AGC", and it will contain
    both the <span style="font-weight: bold;">VirtualAGC</span> program
    and an uninstaller program.&nbsp; On some systems the start menu may
    not be immediately updated and therefore you may not see the
    "Virtual AGC" program group until you log in the next time.<br>
    <br>
    If you try to use the ACA simulation (joystick) and it doesn't work,
    <a href="yaTelemetry.html#Joystick_configuration_for_use_with_the">read
about





































      configuring it</a>.<br>
    <h2><a name="Downloading_and_Building_Virtual_AGC"></a>Downloading
      and Building Virtual AGC from Source</h2>
    <table align="center" border="1" cellpadding="2" cellspacing="2">
      <tbody>
        <tr>
          <td valign="top"><i>(This entire section is under
              construction.&nbsp; Except for the Raspberry Pi, Linux,
              and iPhone sub-sections, all of the sub-sections related
              to other platforms are so far out of date and unworkable
              not that it's not even funny.&nbsp; Right now, all of the
              descriptive material in those sub-sections is a
              hodge-podge of ancient, presumably unworkable instructions
              related to old operating system versions and old Virtual
              AGC versions, intermixed with new, untested, stream of
              consciousness records of the things I'm trying right
              now.&nbsp; I'm updating these sub-sections as fast as I
              can work out the issues.)</i></td>
        </tr>
      </tbody>
    </table>
    <h3>Limitation</h3>
    <p>Building Virtual AGC from source actually has a limitation
      compared to running the VM as described above, which is that while
      the VM is already set up for visual debugging of AGC code using
      Code::Blocks, this capability is not a part of Virtual AGC
      proper.&nbsp; That is, it has its own set of installations,
      requirements, and setups, distinct from those of building Virtual
      AGC proper ... which is what's discussed below.&nbsp; If (once
      Virtual AGC is built and working satisfactorily) you want to do
      visual debugging, you need to install Code::Blocks and should
      consult <a
href="https://github.com/virtualagc/virtualagc/wiki/DevelopmentWithCodeBlocks">the
















        instructions for development using Code::Blocks on our GitHub
        wiki</a>, as well as <a
        href="https://github.com/virtualagc/virtualagc/wiki/VisualDebugging">the
















        instructions for visual debugging</a>.<br>
    </p>
    <h3>Getting the Source Code<br>
    </h3>
    <p>The complete up-to-the-moment source code is available from <a
        href="https://github.com/virtualagc/virtualagc">GitHub</a>.&nbsp;
















      There are several ways which one might choose to download it, such
      as <a
        href="https://github.com/virtualagc/virtualagc/archive/master.zip">in
















        a zipfile</a> or using the 'git' program, which in Linux (for
      example) would look like this:<br>
    </p>
    <blockquote>
      <p>git clone https://github.com/virtualagc/virtualagc<br>
      </p>
    </blockquote>
    In either case, you end up with a folder called virtualagc.&nbsp;
    What you do with it after that depends on which platform you intend
    to run Virtual AGC on, and that's the topic of the next few
    sections.<br>
    <h3>Linux </h3>
    <p>I would recommend reading <a
href="https://github.com/rburkey2005/virtualagc/blob/master/README.md#linux-1">the


































        instructions at the GitHub repository</a>.<br>
    </p>
    <h3> <span style="font-weight: bold;"></span><span
        style="font-weight: bold;"></span>Raspberry Pi (Raspbian) </h3>
    This really isn't any different from building it on <a
      href="#BuildLinux">any other Linux system</a>, but I'll go through
    the steps for you anyway, which should work even on a completely new
    Raspbian install.&nbsp; Laszlo Morocz provided the original
    instructions, but I have tweaked them somewhat:<br>
    <ul>
      <li>Tested with the 2016-05-27 version of Raspbian-Jessie.<br>
      </li>
      <li>The build goes a lot faster if you do it on (say) a physical
        hard disk on the USB port, rather than on the standard SD card.</li>
    </ul>
    <p>You can then do the following, from a command line:<br>
    </p>
    <blockquote>
      <p>sudo apt-get install wx2.8-headers libwxgtk2.8-0
        libwxgtk2.8-dev libsdl-dev libncurses5-dev liballegro4-dev git<br>
        git clone https://www.github.com/rburkey2005/virtualagc<br>
        cd virtualagc<br>
        make<br>
      </p>
    </blockquote>
    The end result of this rather lengthy process is the directory
    (within the virtualagc/ directory containing the complete source
    tree)&nbsp; called VirtualAGC/temp/lVirtualAGC/, which in fact
    contains everything you need to run the program, which you can do
    either in-place, or after copying it to some other location.&nbsp;
    To actually run the program (say, in place), you do this:<br>
    <blockquote>cd VirtualAGC/temp/lVirtualAGC/Resources<br>
      ../bin/VirtualAGC<br>
    </blockquote>
    Or, of course, you could create a desktop icon that does basically
    this same thing.<br>
    <br>
    Laszlo mentions the additional (disquieting) fact that the CPU
    utilization rather high, and indeed if you ran every available
    option on an early-model Pi, you could find yourself using close to
    100% of the CPU.&nbsp; For the default configuration of VirtualAGC
    (Lunar Module AGC with DSKY and Telemetry but without abort system
    or IMU), I find the following:<br>
    <ul>
      <li>Pi B+:&nbsp; 80% CPU utilization.&nbsp; <br>
      </li>
      <li>Pi 3: 40% CPU utilization.<br>
      </li>
    </ul>
    <p>If that's too much for you, there are some things you may be able
      to do to make it more efficient.&nbsp; First, note that the
      VirtualAGC program — which isn't a component of the simulation,
      but merely a convenient graphical interface so that you don't have
      to memorize command-line options for the actual components — takes
      25-30% of the CPU (for either of the two Pi models mentioned
      above) by itself.&nbsp; You don't really need to run it if you
      don't want to.&nbsp; But how do you run a simulation easily
      without VirtualAGC?&nbsp; Well, if you run the simulation just <i>once</i>
      from VirtualAGC, and exit the simulation immediately after
      starting it, you'll find that it has automatically created a
      script called "simulate" which can be used to start that exact
      configuration of the simulation without running VirtualAGC
      itself.&nbsp; As a result, you get CPU utilizations closer to 50%
      or 10%, respectively, on the two Pi models mentioned above.&nbsp;
      To just run that script, you do this:</p>
    <ul>
    </ul>
    <blockquote>
      <blockquote>
        <p>cd VirtualAGC/temp/lVirtualAGC/Resources<br>
          ./simulate<br>
        </p>
      </blockquote>
    </blockquote>
    <ol>
    </ol>
    <h3><a name="FreeBSD"></a>FreeBSD</h3>
    The following steps were tried under <a
      href="http://pcbsd.org/download/">PC-BSD 10.3, desktop version</a>,
    since installation of actual FreeBSD is too hard for any mortal.<br>
    <ol>
      <li>Using the 'AppCafe', I installed all of the packages (of which
        there were 3) for wx28-gtk2 2.8.12_6.</li>
      <li>I installed GNU 'make' (gmake) with the command "sudo pkg
        install gmake".</li>
      <li>In the Virtual AGC source directory (which for me was
        ~/git/virtualagc), I ran "gmake FREEBSD=yes".<br>
      </li>
    </ol>
    This didn't actually work, because the source tree needs various
    fixups before it can work, but if it had worked:<br>
    <br>
    You'll find that this has created a directory
    VirtualAGC/temp/lVirtualAGC/<span style="font-weight: bold;"></span>.&nbsp;
I'd
suggest





































    you should also<br>
    <br>
    <div style="margin-left: 40px;"><span style="font-family: Courier
        New,Courier,monospace;">mv VirtualAGC/temp/lVirtualAGC
        ~/VirtualAGC</span><br>
    </div>
    <br>
    (assuming you don't already have a directory ~/VirtualAGC/).&nbsp;
    This isn't really necessary, but duplicates the setup that Virtual
    AGC's Linux installer programs use.<br>
    <br>
    I'd also suggest that you make a desktop icon called "Virtual AGC"
    that links to ~/VirtualAGC/bin/VirtualAGC.&nbsp; The image normally
    used for the desktop icon is found at&nbsp;
    ~/VirtualAGC/bin/ApolloPatch2.png.&nbsp; The end result of these
    manipulations is something identical to what the Linux binary
    installer would have produced except that it will actually work and
    that there won't be any uninstaller program.<br>
    <br>
    If you try to use the ACA simulation (joystick) and it doesn't
    work,&nbsp;<a
      href="yaTelemetry.html#Joystick_configuration_for_use_with_the">read
about





































      configuring it</a>.<br>
    <h3><a name="Solaris"></a>Solaris</h3>
    I tried these things using Solaris 11.3.&nbsp; Note that my
    knowledge of Solaris is mid-way between "completely ignorant" and
    "dangerously misinformed".<br>
    <ol>
      <li>Installed wxWidgets, gtk2, tcl-8, and tk-8 using the Package
        Manager.</li>
      <li>In the Virtual AGC source directory (which for me was
        ~/git/virtualagc), I ran "gmake".</li>
    </ol>
    This didn't actually work, because the source tree needs various
    fixups before it can work, but if it had worked:<br>
    <br>
    You'll find that this has created a directory
    VirtualAGC/temp/lVirtualAGC/<span style="font-weight: bold;"></span>.&nbsp;
I'd
suggest





































    you should also<br>
    <br>
    <div style="margin-left: 40px;"><span style="font-family: Courier
        New,Courier,monospace;">mv VirtualAGC/temp/lVirtualAGC
        ~/VirtualAGC</span><br>
    </div>
    <br>
    (assuming you don't already have a directory ~/VirtualAGC/).&nbsp;
    This isn't really necessary, but duplicates the setup that Virtual
    AGC's Linux installer programs use.<br>
    <br>
    I'd also suggest that you make a desktop icon called "Virtual AGC"
    that links to ~/VirtualAGC/bin/VirtualAGC.&nbsp; The image normally
    used for the desktop icon is found at&nbsp;
    ~/VirtualAGC/bin/ApolloPatch2.png.&nbsp; The end result of these
    manipulations is something identical to what the Linux binary
    installer would have produced except that it will actually work and
    that there won't be any uninstaller program.<br>
    <br>
    If you try to use the ACA simulation (joystick) and it doesn't
    work,&nbsp;<a
href="file:///home/rburkey/git/virtualagc-web/yaTelemetry.html#Joystick_configuration_for_use_with_the">read
about





































      configuring it</a>.<br>
    <h3><a name="Mac_OS_X"></a>Mac OS X<br>
    </h3>
    Note that <span style="font-style: italic;">personally</span> I
    build the Mac OS X version of the Virtual AGC binaries <a
      href="#Cross-Compiling">in Linux</a> rather than in Mac OS
    X.&nbsp; Nevertheless, in development snapshot 20090415 and later,
    it's possible to build the Mac OS X version of Virtual AGC natively
    from Mac OS X 10.5.&nbsp; I've only tried it in 10.5.6 (Intel)
    myself.&nbsp; Anything I say below about building in 10.4 is pure
    speculation.&nbsp; Note also that since I don't use this procedure
    myself, you can't expect that I try it out for every development
    snapshot.&nbsp; Building the Mac version natively according to the
    instructions below gives you something functionally identical to the
    binary download package, except that you won't have the alternate
    joystick handler (<span style="font-weight: bold;">yaACA</span>), so
    if the primary joystick handler (<span style="font-weight: bold;">yaACA3</span>)
    doesn't work for your joystick model then you won't be able to use a
    joystick.<br>
    <br>
    Note that most of the steps below are one-time setup, and that the
    actual build after setup is complete is quite simple.<br>
    <ol>
      <li>Mac OS X 10.5 includes <span style="font-weight: bold;">wxWidgets</span>
        2.8.4, which in theory is too early a version.&nbsp;
        Nevertheless, it appears to work and I won't quibble about
        it.&nbsp; Mac OS X 10.4 includes <span style="font-weight:
          bold;">wxWidgets</span> 2.5, which is definitely (I think) not
        going to work, so you'll want to install <span
          style="font-weight: bold;">wxWidgets</span> 2.8.9 or later;
        probably you'll need to do this <a
          href="http://www.wxwidgets.org">from source</a>.</li>
      <li><span style="font-weight: bold;">SDL</span>, which is needed
        for the joystick handler program (<span style="font-weight:
          bold;">yaACA3</span>) is also pre-installed, but I haven't
        figured out how to use it.&nbsp; (<span style="font-weight:
          bold;">Hint</span>: if from a command line a program called
        "sdl-config" is in your PATH, you <span style="font-style:
          italic;">don't</span> need to install <span
          style="font-weight: bold;">SDL</span>; if it isn't, then you
        do.)&nbsp; So what I did was to <a href="http://www.libsdl.org">download





































          the source tarball</a>, unpack it, configure it
        ("./configure"), build it ("make"), and install it ("sudo make
        install").&nbsp; This puts <span style="font-weight: bold;">SDL</span>
        into /usr/local, where it won't conflict with your
        already-installed version.</li>
      <li>From a command-line, cd to some (preferably empty) working
        directory and unpack the Virtual AGC development-snapshot
        tarball ("tar -xjf yaAGC-dev-<span style="font-style: italic;">YYYYMMDD</span>.tar.bz2"),
thus
creating





































        a sub-folder called yaAGC/ containing the Virtual AGC source
        tree.</li>
      <li>Browse to the web to download the <a style="font-weight:
          bold;" href="http://software.jessies.org/terminator/">Terminator</a>
        application's dmg file.</li>
      <li>Double-click the <span style="font-weight: bold;">Terminator</span>
        dmg file, and once it's open find the <span style="font-weight:
          bold;">Terminator</span> application (<img style="width: 20px;
          height: 20px;" alt="" src="Terminator.png" align="middle"
          height="41" width="42">).</li>
      <li>Drag the <span style="font-weight: bold;">Terminator</span>
        application from the open dmg file to the working directory in
        which you created yaAGC/ in step 3 above.<br>
      </li>
      <li>From a command line in that working directory, make a tarball
        from Terminator.app ("tar -cjvf Terminator.app.tar.bz2
        Terminator.app").&nbsp; Once you have the tarball, you can
        eliminate the <span style="font-weight: bold;">Terminator</span>
        app itself, along with its dmg file.<br>
      </li>
      <li>From the working directory (not from within the yaAGC/
        directory) you would build Virtual AGC using the command "make
        -C yaAGC MACOSX=yes".&nbsp; In the&nbsp; folder
        yaAGC/VirtualAGC/temp/, you should now find the <span
          style="font-weight: bold;">VirtualAGC</span> application (<img
          style="width: 20px; height: 20px;" alt=""
          src="ApolloPatch3.png" align="middle" height="40" width="40">).<br>
      </li>
      <li>If you like, drag the <span style="font-weight: bold;">VirtualAGC</span>
        application from yaAGC/VirtualAGC/temp/ to the desktop.&nbsp;
        (It's better to drag rather than to use a 'cp' command, to make
        sure that Mac OS X admits that the folder is actually an
        application.)<br>
      </li>
      <li>Y<span style="font-weight: bold;"></span>ou're ready to go!</li>
    </ol>
    And don't forget to read the <a href="download.html#Prerequisites">prerequisites</a>,
    the <a href="faq.html#Troubleshooting">trouble-shooting tips</a>,
    and the <a href="download.html#Some_platform-specific_odditities">list





































      of quirks</a> for this platform.
    <h3><a name="BuildOther"></a>Windows<br>
    </h3>
    <span style="font-weight: bold;"></span> Note that <span
      style="font-style: italic;">personally</span> I build the Windows
    version of the Virtual AGC binaries <a
      href="download.html#Cross-Compiling">in Linux</a> rather than in
    Windows.&nbsp; However, Onno Hommes (thanks, Onno!) has worked out
    the build procedures, so for versions of May 2009 and later, you
    should be able to do a native build on Windows.&nbsp; I have tried
    it only on Windows XP and Windows 7.&nbsp; Since I have no interest
    in it myself, this capability is not tested for every development
    snapshot.&nbsp; First-time setup of the Windows box is somewhat
    time-consuming, but the build is pretty easy after that.&nbsp; I
    have information only on using open-source tools for this, and if
    you wish to use tools like Microsoft Visual C++ you'll have to work
    out the details for yourself.&nbsp; (If you do, expect it to be easy
    to build the AGC and AGS CPU simulation programs and more difficult
    to build the various GUI interfaces such as the DSKY and DEDA.)<br>
    <br>
    The trick is to install a Linux-like environment in which to build
    the Virtual AGC software; but the Virtual AGC software itself does
    not then need the Linux-like environment to run.&nbsp; Here are the
    steps for first-time setup.&nbsp; I fear that a certain amount of
    knowledge of UNIX-like systems is needed, so if you are a pure
    Windows person you may find that the following steps are more
    trouble to figure out than they are worth to you.<br>
    <ol>
      <li>Install the <a href="http://www.mingw.org">MinGW</a>
        compiler, using the downloadable setup.exe file.&nbsp; Use the
        default choices for installation directory, etc.&nbsp; Among the
        options you should choose (if given the choice) are installation
        of the <span style="font-weight: bold;">g++</span> compiler and
        of <span style="font-weight: bold;">make</span>.</li>
      <li>Install the <a href="http://www.mingw.org">Msys</a>
        (Linux-like command shell) environment using the downloadable
        setup.exe file.<br>
      </li>
      <li>Run <span style="font-weight: bold;">Msys</span>, to bring up
        a command shell.&nbsp; If you are unlucky enough to have a
        Windows user name containing spaces, you will encounter
        difficulties.&nbsp; For example, my home directory in <span
          style="font-weight: bold;">Msys</span> is "/home/Ron Burkey",
        and this messes up some of the build steps that need to be
        performed.&nbsp; My solution to this was to create a directory
        called "/home/rburkey" and to 'cd' to that directory whenever
        starting up Msys.&nbsp; It would also be wise to change the
        value of the HOME environment variable to reflect this
        change.&nbsp; When I refer below to your "home directory", I
        mean whatever your equivalent of "/home/rburkey" is.<br>
      </li>
      <li>Install the <a href="http://www.libsdl.org">SDL library</a>.&nbsp;
You
should





































        find that there is a download file specifically labeled as a
        Win32 development package for <span style="font-weight: bold;">MinGW</span>.&nbsp;
Within
your





































        <span style="font-weight: bold;">Msys</span> home directory,
        unpack the download file, 'cd' into the directory it creates,
        and run the command "make install-sdl prefix=/usr/local".&nbsp;
        The /usr directory withing <span style="font-weight: bold;">Msys</span>
        will probably correspond to something like c:\msys\1.0\ in your
        Windows filesystem. &nbsp; <span style="font-weight: bold;">Note:</span>&nbsp;




































        <span style="font-style: italic;">All</span> software needed to
        build Virtual AGC will be installed under /usr/local, so
        eventually it will be populated with sub-directories such as
        /usr/local/bin, /usr/local/include, /usr/local/lib, and so
        on.&nbsp; The Virtual AGC makefiles are hard-coded to assume
        these installation locations.&nbsp; Note, however, that the
        Virtual AGC binaries you are going to create are <span
          style="font-style: italic;">not</span> installed under
        /usr/local.</li>
      <li>Obtain a source tarball of <a
          href="http://www.wxwidgets.org/">wxWidgets</a>.&nbsp; At
        present, Virtual AGC binary packages are always built with <span
          style="font-weight: bold;">wxWidgets</span> 2.8.9, so 2.8.9 is
        a safe choice though it is not the only choice which
        works.&nbsp; Unpack the tarball in your home directory, 'cd'
        into the directory this creates, and then do "./configure",
        "make", and "make install".&nbsp; The "configure" step will
        accept various command-line options that select unicode vs.
        ansi, static linking vs. dynamic linking, etc., but the default
        options seem to work fine.</li>
      <li>Install <a href="http://sourceware.org/pthreads-win32/">POSIX
          Threads for Windows</a> ("pthreads").&nbsp; There may be a
        number of methods that work, but here is what I did:&nbsp;
        Unpack the source tarball, 'cd' into the directory it creates,
        then run the command "make clean GC-inlined".&nbsp; This creates
        various files that you should copy into /usr/local as
        follows:&nbsp; copy *.dll into /usr/local/bin; copy *.h into
        /usr/local/include; copy the single libpthread*.a file created
        into /usr/local/lib and rename it libpthread.a.</li>
      <li>Install <a
          href="http://gnuwin32.sourceforge.net/packages/readline.htm">GNU
readline





































          for Windows</a>.&nbsp; You should find zipfiles of both
        "binaries" and "developer files" are available for
        download.&nbsp; They should both be downloaded and unpacked into
        /usr/local.&nbsp; (I.e., each zipfile contains directories like
        bin/, include/, lib/, and so on, and we want these to be merged
        into /usr/local/bin/, usr/local/include/, etc.)</li>
      <li>Install a regular-expression library.&nbsp; The <a
          href="http://www.mingw.org">MinGW project</a> has a
        "contributed" regex library ("libgnurx") that you can use.&nbsp;
        Download both the "bin" and "dev" tarballs and unpack them into
        /usr/local.<br>
      </li>
    </ol>
    If all of this was done correctly, you should now be able to build
    Virtual AGC, as follows:<br>
    <ol style="list-style-type: lower-alpha;">
      <li>Unpack the development tarball in your home directory: "tar
        -xjvf yaAGC-dev-<span style="font-style: italic;">YYYYMMDD</span>.tar.bz2".</li>
      <li>Build it: "make -C yaAGC WIN32=yes".</li>
      <li>On Windows 7&nbsp; (but not on XP) I found it necessary
        additionally to copy c:\MinGW\bin\mingwm10.dll to
        yaAGC/VirtualAGC/temp/lVirtualAGC/Resources/.&nbsp; Whether this
        is a difference between Windows 7 and XP, or whether it's some
        ghastly improvement to MinGW since the time I installed it last
        on XP, I can't say at the present time (and am not too motivated
        to figure out).<br>
      </li>
    </ol>
    This will create a directory yaAGC/VirtualAGC/temp/lVirtualAGC/
    which is the "installation directory".&nbsp; When you download and
    run the Virtual AGC Win32 setup.exe file, this is the directory you
    get, except that the setup program copies "lVirtualAGC/" to
    "c:\Program Files\" and renames it "Virtual AGC".&nbsp; In fact,
    this directory is relocatable, and you can move it wherever you
    like; nor does it need to remain within the <span
      style="font-weight: bold;">Msys</span> environment.&nbsp; Whether
    you leave this directory in place, or whether you move it to Program
    Files, you really need to create a desktop icon in order to run the
    program.&nbsp; The desktop icon should point to
    lVirtualAGC\bin\VirtualAGC.exe as the executable, and should use a
    "starting directory" of lVirtualAGC\Resources\.&nbsp; The graphic
    normally used for the desktop icon is ApolloPatch2.jpg in the
    lVirtualAGC\Resources directory.<br>
    <br>
    And don't forget to read the <a href="download.html#Prerequisites">prerequisites</a>,
    the <a href="faq.html#Troubleshooting">trouble-shooting tips</a>,
    and the <a href="download.html#Some_platform-specific_odditities">list





































      of quirks</a> for this platform.<br>
    <h3><a name="iPhone"></a>iPhone</h3>
    For development snapshot 20090802 and later, it's possible to build
    <span style="font-weight: bold;">yaAGC</span>—not the entire Virtual
    AGC suite, just <b>yaAGC</b>—from (I guess) a Mac, if you've
    downloaded an iPhone development kit.&nbsp; From the "I guess" in
    the preceding sentence, you'll probably be able to deduce that I'm
    just parrotting someone else's words and don't really know what I'm
    talking about ... and you'd be right.&nbsp; The instructions and
    mods necessary to do it came from Alberto Galdo (thanks,
    Alberto!).&nbsp; If you try it and it doesn't work, blame me for not
    implementing Alberto's instructions properly.&nbsp; We'll zero in on
    it eventually.<br>
    <br>
    To build, simply 'cd' into the yaAGC/yaAGC/ folder and do this:<br>
    <br>
    <div style="margin-left: 40px;">make IPHONE=yes<br>
    </div>
    <br>
    As for how useful <span style="font-weight: bold;">yaAGC</span> by
    itself is, it's obviously only marginally useful until such time as
    there's a DSKY.&nbsp; You should be able to do command-line
    debugging, however, so you could in theory run and debug AGC code.<br>
    <h2><a name="Running_the_Validation_Suite"></a>Running the
      Validation Suite of the simulated AGC<br>
    </h2>
    Having installed the software as above, you can test the emulated
    CPU and DSKY using the "validation suite".&nbsp; <br>
    <ol>
      <li>Run the <span style="font-weight: bold;">VirtualAGC</span>
        program, select "Validation suite" as the simulation type, and
        hit the "Run" button. </li>
      <li>A code of "00" will appear in the PROG area of the DSKY, and
        the OPR ERR lamp will flash.&nbsp; This means that the
        validation program is ready to start.<br>
      </li>
      <li>Press the PRO key on the DSKY.&nbsp; The OPR ERR light will go
        off and the validation program will begin.<br>
      </li>
      <li>There is no indication that the test is running.&nbsp; The
        test takes about 77 seconds.</li>
      <li>If all tests are passed, then the PROG area on the DSKY will
        show the code "77", and the OPR ERR lamp will flash.&nbsp; (The
        return code is 77 because 77 is the largest 2-digit octal
        number.&nbsp; It is just a coincidence that the test duration is
        also 77 seconds.)<br>
      </li>
      <li>If some tests fail, an error code other than "00" or "77" will
        be displayed in the PROG area on the DSKY, and the OPR ERR lamp
        will flash.</li>
      <li>In the latter case, you can proceed from one test to the next
        by pressing the PRO key.&nbsp; The meanings of the error codes
        are determined by reading the file Validation/Validation.agc.</li>
    </ol>
    If this doesn't work for some reason, refer to the trouble-shooting
    info in the <a href="faq.html">FAQ</a>.<br>
    <br>
    <br>
    <hr style="width: 100%; height: 2px;">
    <center><i><font size="-1">Last modified by <a
            href="mailto:info@sandroid.org">Ronald Burkey</a> on
          2016-11-17.<br>
          <br>
          <a href="http://www.ibiblio.org"><img style="border: 0px solid
              ; width: 300px; height: 100px;" alt="Virtual AGC is hosted
              by ibiblio.org" src="hosted.png" height="100" width="300"></a><br>
        </font></i></center>
    <br>
  </body>
</html>
