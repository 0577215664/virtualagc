<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta content="text/html;charset=ISO-8859-1" http-equiv="Content-Type">
<title>Assembly listing generated by yaYUL</title>
<style type="text/css">
p.nobreak { white-space:nowrap; }
a { text-decoration:none; }
a:visited { COLOR: #000850; }
</style>
<style type="text/css">
.op{
font-weight: bold;
color: #993300;
}
</style>
<style type="text/css">
.dn{
color: #009900;
}
</style>
<style type="text/css">
.fe{
color: #FF0000;
}
</style>
<style type="text/css">
.in{
color: #FF6600;
}
</style>
<style type="text/css">
.ps{
color: #336600;
}
</style>
<style type="text/css">
.sm{
color: #0000FF;
}
</style>
<style type="text/css">
.wn{
color: #FF9900;
}
</style>
<style type="text/css">
.co{
font-style: italic;
color: #993399;
}
</style>
</head>
<body>
<p class="nobreak">
<span style="font-family: monospace;">
<pre>
<h1>Source Code</h1>
</pre>
</span>
</p>
<table style="text-align: left;" border="1" cellpadding="2" cellspacing="2">
<tbody>
<tr>
<td style="white-space: nowrap; vertical-align: middle;">
<img alt="" src="Apollo32.png" style="width: 32px; height: 32px;" align="left">
</td>
<td style="vertical-align: middle;">
These source-code files were obtained by digitally photographing the
Colossus 237 program listing from the private collection of original
AGC developer Fred Martin, and then modifying pre-existing Colossus 249
(Apollo 9) source files to incorporate changes. Note that the page images 
<a href="http://www.ibiblio.org/apollo/ScansForConversion/Colossus237/">
presented online</a> are of reduced quality, and that additional images 
are available.  Report any conversion errors or legibility 
problems in page images to info@sandroid.org. 
Notations on the program listing read, in part:<br>
<br>
<pre>
	GAP: ASSEMBLE REVISION 237 OF AGC PROGRAM COLOSSUS 
	BY NASA 2021111-031  1:17 AUG. 24, 1968
</pre>
</td></tr></tbody></table>

<p class="nobreak">
<span style="font-family: monospace;">
<pre>
032234,000002:                                                                                                 <span class="co">#  Copyright:    Public domain.</span>
032235,000003:                                                                                                 <span class="co">#  Filename:      LUNAR_AND_SOLAR_EPHEMERIDES_SUBROUTINES.agc</span>
032236,000004:                                                                                                 <span class="co">#  Purpose:      Part of the source code for Colossus build 237.</span>
032237,000005:                                                                                                 <span class="co">#                This is for the Command Module's (CM) Apollo Guidance</span>
032238,000006:                                                                                                 <span class="co">#                Computer (AGC), we believe for Apollo 8.</span>
032239,000007:                                                                                                 <span class="co">#  Assembler:    yaYUL</span>
032240,000008:                                                                                                 <span class="co">#  Contact:      Jim Lawton &lt;jim DOT lawton AT gmail DOT com></span>
032241,000009:                                                                                                 <span class="co">#  Website:      www.ibiblio.org/apollo/index.html</span>
032242,000010:                                                                                                 <span class="co">#  Page scans:   www.ibiblio.org/apollo/ScansForConversion/Colossus237/</span>
032243,000011:                                                                                                 <span class="co">#  Mod history:  2011-02-27 JL    Adapted from corresponding Colossus 249 file.</span>
032244,000012: 
032245,000013:                                                                                                 <span class="co"># # Page 736</span>
032246,000014:                                                                                                 <span class="co">#  LUNAR AND SOLAR EPHEMERIDES SUBROUTINES</span>
032247,000015: 
032248,000016:                                                                                                 <span class="co">#  FUNCTIONAL DESCRIPTION</span>
032249,000017: 
032250,000018:                                                                                                 <span class="co">#        THESE SUBROUTINES ARE USED TO DETERMINE THE POSITION AND VELOCITY</span>
032251,000019:                                                                                                 <span class="co">#        VECTORS OF THE SUN AND THE MOON RELATIVE TO THE EARTH AT THE</span>
032252,000020:                                                                                                 <span class="co">#        SPECIFIED GROUND ELAPSED TIME INPUT BY THE USER.</span>
032253,000021: 
032254,000022:                                                                                                 <span class="co">#        THE POSITION OF THE MOON IS STORED IN THE COMPUTER IN THE FORM OF</span>
032255,000023:                                                                                                 <span class="co">#        A NINTH DEGREE POLYNOMIAL APPROXIMATION WHICH IS VALID OVER A 15</span>
032256,000024:                                                                                                 <span class="co">#        DAY INTERVAL BEGINNING SHORTLY BEFORE LAUNCH.  THEREFORE THE TIME</span>
032257,000025:                                                                                                 <span class="co">#        INPUT BY THE USER SHOULD FALL WITHIN THIS 15 DAY INTERVAL.</span>
032258,000026: 
032259,000027:                                                                                                 <span class="co">#        LSPOS COMPUTES THE POSITION VECTORS OF THE SUN AND THE MOON.</span>
032260,000028: 
032261,000029:                                                                                                 <span class="co">#        LUNPOS COMPUTES THE POSITION VECTOR OF THE MOON.</span>
032262,000030: 
032263,000031:                                                                                                 <span class="co">#        LUNVEL COMPUTES THE VELOCITY VECTOR OF THE MOON.</span>
032264,000032: 
032265,000033:                                                                                                 <span class="co">#        SOLPOS COMPUTES THE POSITION VECTOR OF THE SUN.</span>
032266,000034: 
032267,000035:                                                                                                 <span class="co">#  CALLING SEQUENCE</span>
032268,000036: 
032269,000037:                                                                                                 <span class="co">#        DLOAD  CALL</span>
032270,000038:                                                                                                 <span class="co">#               TIME               GROUND ELAPSED TIME</span>
032271,000039:                                                                                                 <span class="co">#               SUBROUTINE         LSPOS OR LUNPOS OR LUNVEL OR SOLPOS</span>
032272,000040: 
032273,000041:                                                                                                 <span class="co">#  INPUT</span>
032274,000042: 
032275,000043:                                                                                                 <span class="co">#        1) SPECIFIED GROUND ELAPSED TIME IN CS X B-28 LOADED IN MPAC.</span>
032276,000044: 
032277,000045:                                                                                                 <span class="co">#        2) TIMEMO - TIME AT THE CENTER OF THE RANGE OVER WHICH THE LUNAR</span>
032278,000046:                                                                                                 <span class="co">#           POSITION POLYNOMIAL IS VALID IN CS X B-42.</span>
032279,000047: 
032280,000048:                                                                                                 <span class="co">#        3) VECOEM - VECTOR COEFFICIENTS OF THE LUNAR POSITION POLYNOMIAL</span>
032281,000049:                                                                                                 <span class="co">#           LOADED IN DESCENDING SEQUENCE IN METERS/CS**N X B-2</span>
032282,000050: 
032283,000051:                                                                                                 <span class="co">#        4) RESO - POSITION VECTOR OF THE SUN RELATIVE TO THE EARTH AT</span>
032284,000052:                                                                                                 <span class="co">#           TIMEMO IN METERS X B-38.</span>
032285,000053: 
032286,000054:                                                                                                 <span class="co">#        5) VESO - VELOCITY VECTOR OF THE SUN RELATIVE TO THE EARTH AT</span>
032287,000055:                                                                                                 <span class="co">#           TIMEMO IN METERS/CS X B-9.</span>
032288,000056: 
032289,000057:                                                                                                 <span class="co">#        6) OMEGAES - ANGULAR VELOCITY OF THE VECTOR RESO AT TIMEMO IN</span>
032290,000058:                                                                                                 <span class="co">#           REV/CS X B+26.</span>
032291,000059: 
032292,000060:                                                                                                 <span class="co">#        ALL EXCEPT THE FIRST INPUT ARE INCLUDED IN THE PRE-LAUNCH</span>
032293,000061:                                                                                                 <span class="co">#        ERASABLE DATA LOAD.</span>
032294,000062: 
032295,000063:                                                                                                 <span class="co">#  OUTPUT - LSPOS</span>
032296,000064:                                                                                                 <span class="co"># # Page 737</span>
032297,000065:                                                                                                 <span class="co">#        1) 2D OF VAC AREA CONTAINS THE POSITION VECTOR OF THE SUN RELATIVE</span>
032298,000066:                                                                                                 <span class="co">#           TO THE EARTH AT TIME INPUT BY THE USER IN METERS X B-38.</span>
032299,000067: 
032300,000068:                                                                                                 <span class="co">#        2) MPAC CONTAINS THE POSITION VECTOR OF THE MOON RELATIVE TO THE</span>
032301,000069:                                                                                                 <span class="co">#           EARTH AT TIME INPUT BY THE USER IN METERS X B-29.</span>
032302,000070: 
032303,000071:                                                                                                 <span class="co">#  OUTPUT - LUNPOS</span>
032304,000072: 
032305,000073:                                                                                                 <span class="co">#        MPAC CONTAINS THE POSITION VECTOR OF THE MOON RELATIVE TO THE</span>
032306,000074:                                                                                                 <span class="co">#        EARTH AT THE TIME INPUT BY USER IN METERS X B-29.</span>
032307,000075: 
032308,000076:                                                                                                 <span class="co">#  OUTPUT - LUNVEL</span>
032309,000077: 
032310,000078:                                                                                                 <span class="co">#        MPAC CONTAINS THE VELOCITY VECTOR OF THE MOON RELATIVE TO THE</span>
032311,000079:                                                                                                 <span class="co">#        EARTH AT THE TIME INPUT BY THE USER IN METERS/CS X B-7.</span>
032312,000080: 
032313,000081:                                                                                                 <span class="co">#  OUTPUT - SOLPOS</span>
032314,000082: 
032315,000083:                                                                                                 <span class="co">#        MPAC CONTAINS THE POSITION VECTOR OF THE SUN RELATIVE TO THE EARTH</span>
032316,000084:                                                                                                 <span class="co">#        AT TIME INPUT BY THE USER IN METERS X B-38.</span>
032317,000085: 
032318,000086:                                                                                                 <span class="co">#  SUBROUTINES USED</span>
032319,000087: 
032320,000088:                                                                                                 <span class="co">#        NONE</span>
032321,000089: 
032322,000090:                                                                                                 <span class="co">#  REMARKS</span>
032323,000091: 
032324,000092:                                                                                                 <span class="co">#        THE VAC AREA IS USED FOR STORAGE OF INTERMEDIATE AND FINAL RESULTS</span>
032325,000093:                                                                                                 <span class="co">#        OF COMPUTATIONS.</span>
032326,000094: 
032327,000095:                                                                                                 <span class="co">#        S1, X1 AND X2 ARE USED BY THESE SUBROUTINES.</span>
032328,000096:                                                                                                 <span class="co">#        PRELAUNCH ERASABLE DATA LOAD ARE ONLY ERASABLE STORAGE USED BY</span>
032329,000097:                                                                                                 <span class="co">#        THESE SUBROUTINES.</span>
032330,000098:                                                                                                 <span class="co">#        RESTARTS DURING OPERATION OF THESE SUBROUTINES MUST BE HANDLED BY</span>
032331,000099:                                                                                                 <span class="co">#        THE USER.</span>
032332,000100: 
032333,000101: 36,2502                                          <span class="ps">BANK    </span> 36                                    
032334,000102: 26,2000                                          <span class="ps">SETLOC  </span> <a href="TAGS_FOR_RELATIVE_SETLOC_AND_BLANK_BANK_CARDS.agc.html#455048454D">EPHEM</a>                                 
032335,000103: 26,2000                                          <span class="ps">BANK    </span>                                       
032336,000104: 
032337,000105: 26,2110                                          <span class="ps">COUNT*  </span> $$/<a href="TAGS_FOR_RELATIVE_SETLOC_AND_BLANK_BANK_CARDS.agc.html#455048454D">EPHEM</a>                              
032338,000106: 26,2110  0003777                                 <span class="ps">EBANK=  </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#454E442D4537">END-E7</a>                                
<a name="4C53504F53"></a>032339,000107: 26,2110           77774        <span class="sm">LSPOS   </span>          <span class="in">AXT,2   </span>                                       <span class="co">#  COMPUTES POSITION VECTORS OF BOTH THE</span>
032340,000108: 26,2111           54161                                   <a href="#52455341">RESA</a>                                  <span class="co">#  SUN AND THE MOON.  THE POSITION VECTOR</span>
032341,000109: 26,2112           52170                          <span class="in">AXT,1   </span> <span class="in">GOTO      </span>                            <span class="co">#  OF THE SUN IS STORED IN 2D OF THE VAC</span>
032342,000110: 26,2113           54143                                   <a href="#524553">RES</a>                                   <span class="co">#  AREA.  THE POSITION VECTOR OF THE MOON</span>
032343,000111: 26,2114           54126                                   <a href="#4C5354494D45">LSTIME</a>                                <span class="co">#  IS STORED IN MPAC.</span>
<a name="4C554E504F53"></a>032344,000112: 26,2115           52170        <span class="sm">LUNPOS  </span>          <span class="in">AXT,1   </span> <span class="in">GOTO      </span>                            <span class="co">#  COMPUTES THE POSITION VECTOR OF THE MOON</span>
032345,000113: 26,2116           54162                                   <a href="#52454D">REM</a>                                   <span class="co">#  AND STORES IT IN MPAC.</span>
032346,000114: 26,2117           54126                                   <a href="#4C5354494D45">LSTIME</a>                                
032347,000115:                                                                                                 <span class="co"># # Page 738</span>
<a name="4C554E56454C"></a>032348,000116: 26,2120           52170        <span class="sm">LUNVEL  </span>          <span class="in">AXT,1   </span> <span class="in">GOTO      </span>                            <span class="co">#  COMPUTES THE VELOCITY VECTOR OF THE MOON</span>
032349,000117: 26,2121           54173                                   <a href="#56454D">VEM</a>                                   <span class="co">#  AND STORES IT IN MPAC.</span>
032350,000118: 26,2122           54126                                   <a href="#4C5354494D45">LSTIME</a>                                
<a name="534F4C504F53"></a>032351,000119: 26,2123           76020        <span class="sm">SOLPOS  </span>          <span class="in">STQ     </span> <span class="in">AXT,1     </span>                            <span class="co">#  COMPUTES THE POSITION VECTOR OF THE SUN</span>
032352,000120: 26,2124           00047                                   <a href="ERASABLE_ASSIGNMENTS.agc.html#5832">X2</a>                                    <span class="co">#  AND STORES IT IN MPAC.</span>
032353,000121: 26,2125           54143                                   <a href="#524553">RES</a>                                   
<a name="4C5354494D45"></a>032354,000122: 26,2126           54201        <span class="sm">LSTIME  </span>          <span class="in">SETPD   </span> <span class="in">SR        </span>                            
032355,000123: 26,2127           00001                                   0D                                    
032356,000124: 26,2130           20617                                   14D                                   
032357,000125: 26,2131           57571                          <span class="in">TAD     </span> <span class="in">DCOMP     </span>                            
032358,000126: 26,2132           01707                                   <a href="ERASABLE_ASSIGNMENTS.agc.html#54455048454D">TEPHEM</a>                                
032359,000127: 26,2133           57571                          <span class="in">TAD     </span> <span class="in">DCOMP     </span>                            
032360,000128: 26,2134           02034                                   <a href="ERASABLE_ASSIGNMENTS.agc.html#54494D454D4F">TIMEMO</a>                                
032361,000129: 26,2135           66261                          <span class="in">SL      </span> <span class="in">SSP       </span>                            
032362,000130: 26,2136           20221                                   16D                                   
032363,000131: 26,2137           00051                                   <a href="ERASABLE_ASSIGNMENTS.agc.html#5331">S1</a>                                    
032364,000132: 26,2140           00006                                   6D                                    
032365,000133: 26,2141           77650                          <span class="in">GOTO    </span>                                       
032366,000134: 26,2142           00046                                   <a href="ERASABLE_ASSIGNMENTS.agc.html#5831">X1</a>                                    
<a name="524553"></a>032367,000135: 26,2143           41206        <span class="sm">RES     </span>          <span class="in">PUSH    </span> <span class="in">DMP       </span>                            <span class="co">#                                     PD- 2</span>
032368,000136: 26,2144           02147                                   <a href="ERASABLE_ASSIGNMENTS.agc.html#4F4D4547414553">OMEGAES</a>                               
032369,000137: 26,2145           71406                          <span class="in">PUSH    </span> <span class="in">COS       </span>                            <span class="co">#                                     PD- 4</span>
032370,000138: 26,2146           65361                          <span class="in">VXSC    </span> <span class="in">PDDL      </span>                            <span class="co">#                                     PD- 8</span>
032371,000139: 26,2147           02133                                   <a href="ERASABLE_ASSIGNMENTS.agc.html#5245534F">RESO</a>                                  
032372,000140: 26,2150           63356                          <span class="in">SIN     </span> <span class="in">PDVL      </span>                            <span class="co">#                                     PD-10</span>
032373,000141: 26,2151           02133                                   <a href="ERASABLE_ASSIGNMENTS.agc.html#5245534F">RESO</a>                                  
032374,000142: 26,2152           53406                          <span class="in">PUSH    </span> <span class="in">UNIT      </span>                            <span class="co">#                                     PD-16</span>
032375,000143: 26,2153           53435                          <span class="in">VXV     </span> <span class="in">UNIT      </span>                            
032376,000144: 26,2154           02141                                   <a href="ERASABLE_ASSIGNMENTS.agc.html#5645534F">VESO</a>                                  
032377,000145: 26,2155           76435                          <span class="in">VXV     </span> <span class="in">VSL1      </span>                            <span class="co">#                                     PD-10</span>
032378,000146: 26,2156           53361                          <span class="in">VXSC    </span> <span class="in">VAD       </span>                            <span class="co">#                                     PD-02</span>
032379,000147: 26,2157           52172                          <span class="in">VSL1    </span> <span class="in">GOTO      </span>                            <span class="co">#  RES IN METERS X B-38 IN MPAC.</span>
032380,000148: 26,2160           00047                                   <a href="ERASABLE_ASSIGNMENTS.agc.html#5832">X2</a>                                    
<a name="52455341"></a>032381,000149: 26,2161           14003        <span class="sm">RESA    </span>          <span class="in">STODL   </span> 2D                                    <span class="co">#  RES IN METERS X B-38 IN 2D OF VAC. PD- 0</span>
<a name="52454D"></a>032382,000150: 26,2162           63370        <span class="sm">REM     </span>          <span class="in">AXT,1   </span> <span class="in">PDVL      </span>                            <span class="co">#                                     PD- 2</span>
032383,000151: 26,2163           00066                                   54D                                   
032384,000152: 26,2164           02037                                   <a href="ERASABLE_ASSIGNMENTS.agc.html#5645434F454D">VECOEM</a>                                
<a name="52454D41"></a>032385,000153: 26,2165           52761        <span class="sm">REMA    </span>          <span class="in">VXSC    </span> <span class="in">VAD*      </span>                            
032386,000154: 26,2166           00001                                   0D                                    
032387,000155: 26,2167           02133                                   <a href="ERASABLE_ASSIGNMENTS.agc.html#5645434F454D">VECOEM</a>     +60D,1                     
032388,000156: 26,2170           72500                          <span class="in">TIX,1   </span> <span class="in">VSL2      </span>                            <span class="co">#  REM IN METERS X B-29 IN MPAC.</span>
032389,000157: 26,2171           54165                                   <a href="#52454D41">REMA</a>                                  
032390,000158: 26,2172           77616                          <span class="in">RVQ     </span>                                       
<a name="56454D"></a>032391,000159: 26,2173           65370        <span class="sm">VEM     </span>          <span class="in">AXT,1   </span> <span class="in">PDDL      </span>                            <span class="co">#                                     PD- 2</span>
032392,000160: 26,2174           00060                                   48D                                   
032393,000161: 26,2175           14214                                   <a href="#4E494E454234">NINEB4</a>                                
032394,000162: 26,2176           74206                          <span class="in">PUSH    </span> <span class="in">VXSC      </span>                            <span class="co">#                                     PD- 4</span>
032395,000163: 26,2177           02037                                   <a href="ERASABLE_ASSIGNMENTS.agc.html#5645434F454D">VECOEM</a>                                
<a name="56454D41"></a>032396,000164: 26,2200           77761        <span class="sm">VEMA    </span>          <span class="in">VXSC    </span>                                       
032397,000165: 26,2201           00001                                   0D                                    
032398,000166:                                                                                                 <span class="co"># # Page 739</span>
032399,000167: 26,2202           14005                          <span class="in">STODL   </span> 4D                                    <span class="co">#                                     PD- 2</span>
032400,000168: 26,2203           41425                          <span class="in">DSU     </span> <span class="in">PUSH      </span>                            <span class="co">#                                     PD- 4</span>
032401,000169: 26,2204           14216                                   <a href="#4F4E454234">ONEB4</a>                                 
032402,000170: 26,2205           53357                          <span class="in">VXSC*   </span> <span class="in">VAD       </span>                            
032403,000171: 26,2206           02125                                   <a href="ERASABLE_ASSIGNMENTS.agc.html#5645434F454D">VECOEM</a>     +54D,1                     
032404,000172: 26,2207           00005                                   4D                                    
032405,000173: 26,2210           72500                          <span class="in">TIX,1   </span> <span class="in">VSL2      </span>                            <span class="co">#  VEM IN METERS/CS X B-7 IN MPAC.</span>
032406,000174: 26,2211           54200                                   <a href="#56454D41">VEMA</a>                                  
032407,000175: 26,2212           77616                          <span class="in">RVQ     </span>                                       
<a name="4E494E454234"></a>032408,000176: 26,2213           22000 00000  <span class="sm">NINEB4  </span>          <span class="ps">2DEC    </span> 9.0        B-4                        
<a name="4F4E454234"></a>032409,000177: 26,2215           02000 00000  <span class="sm">ONEB4   </span>          <span class="ps">2DEC    </span> 1.0        B-4                        

End of include-file LUNAR_AND_SOLAR_EPHEMERIDES_SUBROUTINES.agc.  Parent file is <a href="MAIN.agc.html">MAIN.agc</a>
</pre>
</span>
</p>
</body>
</html>
