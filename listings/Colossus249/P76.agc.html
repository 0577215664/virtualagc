<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta content="text/html;charset=ISO-8859-1" http-equiv="Content-Type">
<title>Assembly listing generated by yaYUL</title>
<style type="text/css">
p.nobreak { white-space:nowrap; }
a { text-decoration:none; }
a:visited { COLOR: #000850; }
</style>
<style type="text/css">
.op{
font-weight: bold;
color: #993300;
}
</style>
<style type="text/css">
.dn{
color: #009900;
}
</style>
<style type="text/css">
.fe{
color: #FF0000;
}
</style>
<style type="text/css">
.in{
color: #FF6600;
}
</style>
<style type="text/css">
.ps{
color: #336600;
}
</style>
<style type="text/css">
.sm{
color: #0000FF;
}
</style>
<style type="text/css">
.wn{
color: #FF9900;
}
</style>
<style type="text/css">
.co{
font-style: italic;
color: #993399;
}
</style>
</head>
<body>
<p class="nobreak">
<span style="font-family: monospace;">
<pre>
<h1>Source Code</h1>
</pre>
</span>
</p>
<table style="text-align: left;" border="1" cellpadding="2" cellspacing="2">
<tbody>
<tr>
<td style="white-space: nowrap; vertical-align: middle;">
<img alt="" src="Apollo32.png" style="width: 32px; height: 32px;" align="left">
</td>
<td style="vertical-align: middle;">
These source-code files were derived originally from the scan from MIT's Dibner Institute's 
now-discontinued website titled "History of Recent Science and Technology", which
in turn was originally created by Gary Neff, though his high-quality scans were
unfortunately reduced in legibility when presented online.
The markings on the front of the
printout imply that it was the original AGC developer Norm Brodeur's copy.  
A scan by Ron Burkey has superceded it, made from a more-legible copy from the collection of original
AGC developer Fred Martin.  The source code was transcribed from
those images by Ron Burkey.  Note that the page images 
<a href="http://www.ibiblio.org/apollo/ScansForConversion/Colossus249-Martin/">
presented online</a> are of reduced quality, and that higher-quality images 
are available.  Report any conversion errors or legibility 
problems in page images to info@sandroid.org. 
Notations on the program listing read, in part:<br>
<br>
<pre>
	ASSEMBLE REVISION 249 OF AGC PROGRAM COLOSSUS BY NASA 2021111-041
	20'35 OCT. 28,1968
</pre>
Note that the date is the date of the printout, not the date of the program revision.
</td></tr></tbody></table>

<p class="nobreak">
<span style="font-family: monospace;">
<pre>
021631,000002:                                                                                                  <span class="co">#  Copyright:    Public domain.</span>
021632,000003:                                                                                                  <span class="co">#  Filename:     P76.agc</span>
021633,000004:                                                                                                  <span class="co">#  Purpose:      Part of the source code for Colossus, build 249.</span>
021634,000005:                                                                                                  <span class="co">#                It is part of the source code for the Command Module's (CM)</span>
021635,000006:                                                                                                  <span class="co">#                Apollo Guidance Computer (AGC), possibly for Apollo 8 and 9.</span>
021636,000007:                                                                                                  <span class="co">#  Assembler:    yaYUL</span>
021637,000008:                                                                                                  <span class="co">#  Reference:    pp. 504-506 of 1701.pdf.</span>
021638,000009:                                                                                                  <span class="co">#  Contact:      Ron Burkey &lt;info@sandroid.org>.</span>
021639,000010:                                                                                                  <span class="co">#  Website:      www.ibiblio.org/apollo.</span>
021640,000011:                                                                                                  <span class="co">#  Mod history:  08/12/04 RSB.   Adapted from corresponding Luminary131</span>
021641,000012:                                                                                                  <span class="co">#                                file.</span>
021642,000013: 
021643,000014:                                                                                                  <span class="co">#  The contents of the "Colossus249" files, in general, are transcribed </span>
021644,000015:                                                                                                  <span class="co">#  from a scanned document obtained from MIT's website,</span>
021645,000016:                                                                                                  <span class="co">#  http://hrst.mit.edu/hrs/apollo/public/archive/1701.pdf.  Notations on this</span>
021646,000017:                                                                                                  <span class="co">#  document read, in part:</span>
021647,000018: 
021648,000019:                                                                                                  <span class="co">#        Assemble revision 249 of AGC program Colossus by NASA</span>
021649,000020:                                                                                                  <span class="co">#        2021111-041.  October 28, 1968.  </span>
021650,000021: 
021651,000022:                                                                                                  <span class="co">#        This AGC program shall also be referred to as</span>
021652,000023:                                                                                                  <span class="co">#                                Colossus 1A</span>
021653,000024: 
021654,000025:                                                                                                  <span class="co">#        Prepared by</span>
021655,000026:                                                                                                  <span class="co">#                        Massachusetts Institute of Technology</span>
021656,000027:                                                                                                  <span class="co">#                        75 Cambridge Parkway</span>
021657,000028:                                                                                                  <span class="co">#                        Cambridge, Massachusetts</span>
021658,000029:                                                                                                  <span class="co">#        under NASA contract NAS 9-4065.</span>
021659,000030: 
021660,000031:                                                                                                  <span class="co">#  Refer directly to the online document mentioned above for further information.</span>
021661,000032:                                                                                                  <span class="co">#  Please report any errors (relative to 1701.pdf) to info@sandroid.org.</span>
021662,000033: 
021663,000034:                                                                                                  <span class="co">#  In some cases, where the source code for Luminary 131 overlaps that of </span>
021664,000035:                                                                                                  <span class="co">#  Colossus 249, this code is instead copied from the corresponding Luminary 131</span>
021665,000036:                                                                                                  <span class="co">#  source file, and then is proofed to incorporate any changes.</span>
021666,000037: 
021667,000038:                                                                                                  <span class="co">#  Page 504</span>
021668,000039:                                                                                                  <span class="co">#  1)    PROGRAM NAME -- TARGET DELTA V PROGRAM (P76).</span>
021669,000040:                                                                                                  <span class="co">#  2)    FUNCTIONAL DESCRIPTION -- UPON ENTRY BY ASTRONAUT ACTION, P76 FLASHES DSKY REQUESTS TO THE ASTRONAUT</span>
021670,000041:                                                                                                  <span class="co">#        TO PROVIDE VIA DSKY (1) THE DELTA V TO BE APPLIED TO THE OTHER VEHICLE STATE VECTOR AND (2) THE</span>
021671,000042:                                                                                                  <span class="co">#        TIME (TIG) AT WHICH THE OTHER VEHICLE VELOCITY WAS CHANGED BY EXECUTION OF A THRUSTING MANEUVER. THE</span>
021672,000043:                                                                                                  <span class="co">#        OTHER VEHICLE STATE VECTOR IS INTEGRATED TO TIG AND UPDATED BY THE ADDITION OF DELTA V (DELTA V HAVING</span>
021673,000044:                                                                                                  <span class="co">#        BEEN TRANSFORMED FROM LV TO REF COSYS).  USING INTEGRVS, THE PROGRAM THEN INTEGRATES THE OTHER</span>
021674,000045:                                                                                                  <span class="co">#        VEHICLE STATE VECTOR TO THE STATE VECTOR OF THIS VEHICLE, THUS INSURING THAT THE W-MATRIX AND BOTH VEHICLE</span>
021675,000046:                                                                                                  <span class="co">#        STATES CORRESPOND TO THE SAME TIME.</span>
021676,000047:                                                                                                  <span class="co">#  3)    ERASABLE INIITIALIZATION REQUIRED -- NONE.</span>
021677,000048:                                                                                                  <span class="co">#  4)    CALLING SEQUENCES AND EXIT MODES -- CALLED BY ASTRONAUT REQUEST THRU DSKY V 37 E 76E.</span>
021678,000049:                                                                                                  <span class="co">#        EXITS BY TCF ENDOFJOB.</span>
021679,000050:                                                                                                  <span class="co">#  5)    OUTPUT -- OTHER VEHICLE STATE VECTOR INTEGRATED TO TIG AND INCREMENTED BY DELTA V IN REF COSYS.</span>
021680,000051:                                                                                                  <span class="co">#        THE PUSHLIST CONTAINS THE MATRIX BY WHICH THE INPUT DELTA V MUST BE POST-MULTIPLIED TO CONVERT FROM LV</span>
021681,000052:                                                                                                  <span class="co">#        TO REF COSYS.</span>
021682,000053:                                                                                                  <span class="co">#  6)    DEBRIS -- OTHER VEHICLE STATE VECTOR.</span>
021683,000054:                                                                                                  <span class="co">#  7)    SUBROUTINES CALLED -- BANKCALL, GOXDSPF, CSMPREC (OR LEMPREC), ATOPCSM (OR ATOPLEM), INTSTALL, INTWAKE, PHASCHNG</span>
021684,000055:                                                                                                  <span class="co">#        INTPRET, INTEGRVS, AND MINIRECT.</span>
021685,000056:                                                                                                  <span class="co">#  8)    FLAG USE -- MOONFLAG, CMOONFLG, INTYPFLG, RASFLAG, AND MARKCT.</span>
021686,000057: 
021687,000058: 30,2000                                           <span class="ps">BANK    </span> 30                                    
021688,000059: 13,2000                                           <span class="ps">SETLOC  </span> <a href="TAGS_FOR_RELATIVE_SETLOC.agc.html#5037364C4F43">P76LOC</a>                                
021689,000060: 13,2000                                           <span class="ps">BANK    </span>                                       
021690,000061: 
021691,000062: 13,2036                                           <span class="ps">COUNT*  </span> $$/<a href="#503736">P76</a>                                
021692,000063: 
021693,000064: 13,2036  E7,1412                                  <span class="ps">EBANK=  </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#544947">TIG</a>                                   
021694,000065: 
<a name="503736"></a>021695,000066: 13,2036           05435        <span class="sm">P76     </span>           <span class="op">TC      </span> <a href="SERVICE_ROUTINES.agc.html#5550464C4147">UPFLAG</a>                                
021696,000067: 13,2037           00031                           <span class="ps">ADRES   </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#545241434B464C47">TRACKFLG</a>                              
021697,000068: 
021698,000069: 13,2040           32163                           <span class="op">CAF     </span> <a href="#5630364E3834">V06N84</a>                                <span class="co">#  FLASH LAST DELTA V</span>
021699,000070: 13,2041           04555                           <span class="op">TC      </span> <a href="INTER-BANK_COMMUNICATION.agc.html#42414E4B43414C4C">BANKCALL</a>                              <span class="co">#  AND WAIT FOR KEYBOARD ACTION.</span>
021700,000071: 13,2042           20624                           <span class="ps">CADR    </span> <a href="DISPLAY_INTERFACE_ROUTINES.agc.html#474F464C415348">GOFLASH</a>                               
021701,000072: 13,2043           12155                           <span class="op">TCF     </span> <a href="#454E44503736">ENDP76</a>                                
021702,000073: 13,2044           02046                           <span class="op">TC      </span> +2                                    <span class="co">#  PROCEED</span>
021703,000074: 13,2045           02040                           <span class="op">TC      </span> -5                                    <span class="co">#  STORE DATA AND REPEAT FLASHING</span>
021704,000075: 13,2046           32164                           <span class="op">CAF     </span> <a href="#5630364E3834">V06N84</a>     +1                         <span class="co">#  FLASH VERB 06 NOUN 33, DISPLAY LAST TIG,</span>
021705,000076: 13,2047           04555                           <span class="op">TC      </span> <a href="INTER-BANK_COMMUNICATION.agc.html#42414E4B43414C4C">BANKCALL</a>                              <span class="co">#  AND WAIT FOR KEYBOARD ACTION.</span>
021706,000077: 13,2050           20624                           <span class="ps">CADR    </span> <a href="DISPLAY_INTERFACE_ROUTINES.agc.html#474F464C415348">GOFLASH</a>                               
021707,000078: 13,2051           12155                           <span class="op">TCF     </span> <a href="#454E44503736">ENDP76</a>                                
021708,000079: 13,2052           02054                           <span class="op">TC      </span> +2                                    
021709,000080: 13,2053           02046                           <span class="op">TC      </span> -5                                    
021710,000081: 13,2054           06006                           <span class="op">TC      </span> <a href="INTERPRETER.agc.html#494E5450524554">INTPRET</a>                               <span class="co">#  RETURN TO INTERPRETIVE CODE</span>
021711,000082: 13,2055           77745                           <span class="in">DLOAD   </span>                                       <span class="co">#  SET D(MPAC)=TIG IN CSEC B28</span>
021712,000083: 13,2056           03413                                    <a href="ERASABLE_ASSIGNMENTS.agc.html#544947">TIG</a>                                   
021713,000084: 13,2057           34041                           <span class="in">STCALL  </span> <a href="ORBITAL_INTEGRATION.agc.html#5444454331">TDEC1</a>                                 <span class="co">#  SET TDEC1=TIG FOR ORBITAL INTEGRATION</span>
021714,000085: 13,2060           27036                                    <a href="TAGS_FOR_RELATIVE_SETLOC.agc.html#4F544850524543">OTHPREC</a>                               
<a name="434F4D504D4154"></a>021715,000086: 13,2061           53575        <span class="sm">COMPMAT </span>           <span class="in">VLOAD   </span> <span class="in">UNIT      </span>                            
021716,000087: 13,2062           00001                                    <a href="ORBITAL_INTEGRATION.agc.html#52415454">RATT</a>                                  
021717,000088:                                                                                                  <span class="co">#  Page 505</span>
021718,000089: 13,2063           77676                           <span class="in">VCOMP   </span>                                       <span class="co">#  U(-R)</span>
021719,000090: 13,2064           00031                           <span class="in">STORE   </span> 24D                                   <span class="co">#  U(-R) TO 24D</span>
021720,000091: 13,2065           53435                           <span class="in">VXV     </span> <span class="in">UNIT      </span>                            <span class="co">#  U(-R) X V = U(V X R)</span>
021721,000092: 13,2066           00007                                    <a href="ORBITAL_INTEGRATION.agc.html#56415454">VATT</a>                                  
021722,000093: 13,2067           00023                           <span class="in">STORE   </span> 18D                                   
021723,000094: 13,2070           53435                           <span class="in">VXV     </span> <span class="in">UNIT      </span>                            <span class="co">#  U(V X R) X U(-R) = U((R X V) X R)</span>
021724,000095: 13,2071           00031                                    24D                                   
021725,000096: 13,2072           24015                           <span class="in">STOVL   </span> 12D                                   
021726,000097: 13,2073           03540                                    <a href="ERASABLE_ASSIGNMENTS.agc.html#44454C564F56">DELVOV</a>                                
021727,000098: 13,2074           76505                           <span class="in">VXM     </span> <span class="in">VSL1      </span>                            <span class="co">#  V(MPAC)=DELTA V IN REFCOSYS</span>
021728,000099: 13,2075           00015                                    12D                                   
021729,000100: 13,2076           77655                           <span class="in">VAD     </span>                                       
021730,000101: 13,2077           00007                                    <a href="ORBITAL_INTEGRATION.agc.html#56415454">VATT</a>                                  
021731,000102: 13,2100           00007                           <span class="in">STORE   </span> 6                                     <span class="co">#  V(PD6)=VATT + DELTA V</span>
021732,000103: 13,2101           77624                           <span class="in">CALL    </span>                                       <span class="co">#  PRESENT WOULD-BE USER OF ORBITAL</span>
021733,000104: 13,2102           27371                                    <a href="INTEGRATION_INITIALIZATION.agc.html#494E545354414C4C">INTSTALL</a>                              <span class="co">#  INTEG FROM INTERFERING WITH UPDATING</span>
021734,000105: 13,2103           77624                           <span class="in">CALL    </span>                                       
021735,000106: 13,2104           26165                                    <a href="#50373653554231">P76SUB1</a>                               
021736,000107: 13,2105           53775                           <span class="in">VLOAD   </span> <span class="in">VSR*      </span>                            
021737,000108: 13,2106           00007                                    6                                     
021738,000109: 13,2107           57176                                    0,2                                   
021739,000110: 13,2110           25543                           <span class="in">STOVL   </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#564356">VCV</a>                                   
021740,000111: 13,2111           00001                                    <a href="ORBITAL_INTEGRATION.agc.html#52415454">RATT</a>                                  
021741,000112: 13,2112           77657                           <span class="in">VSR*    </span>                                       
021742,000113: 13,2113           57176                                    0,2                                   
021743,000114: 13,2114           15535                           <span class="in">STODL   </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#524356">RCV</a>                                   
021744,000115: 13,2115           03413                                    <a href="ERASABLE_ASSIGNMENTS.agc.html#544947">TIG</a>                                   
021745,000116: 13,2116           01517                           <span class="in">STORE   </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#544554">TET</a>                                   
021746,000117: 13,2117           71214                           <span class="in">CLEAR   </span> <span class="in">DLOAD     </span>                            
021747,000118: 13,2120           01673                                    <a href="ERASABLE_ASSIGNMENTS.agc.html#494E545950464C47">INTYPFLG</a>                              
021748,000119: 13,2121           01571                                    <a href="ERASABLE_ASSIGNMENTS.agc.html#54455454484953">TETTHIS</a>                               
<a name="494E544F54484953"></a>021749,000120: 13,2122           34041        <span class="sm">INTOTHIS</span>           <span class="in">STCALL  </span> <a href="ORBITAL_INTEGRATION.agc.html#5444454331">TDEC1</a>                                 
021750,000121: 13,2123           27066                                    <a href="INTEGRATION_INITIALIZATION.agc.html#494E544547525653">INTEGRVS</a>                              
021751,000122: 13,2124           77624                           <span class="in">CALL    </span>                                       
021752,000123: 13,2125           27371                                    <a href="INTEGRATION_INITIALIZATION.agc.html#494E545354414C4C">INTSTALL</a>                              
021753,000124: 13,2126           77775                           <span class="in">VLOAD   </span>                                       
021754,000125: 13,2127           00017                                    <a href="ORBITAL_INTEGRATION.agc.html#5241545431">RATT1</a>                                 
021755,000126: 13,2130           01503                           <span class="in">STORE   </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#5252454354">RRECT</a>                                 
021756,000127: 13,2131           15535                           <span class="in">STODL   </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#524356">RCV</a>                                   
021757,000128: 13,2132           00015                                    <a href="ORBITAL_INTEGRATION.agc.html#544154">TAT</a>                                   
021758,000129: 13,2133           25517                           <span class="in">STOVL   </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#544554">TET</a>                                   
021759,000130: 13,2134           00025                                    <a href="ORBITAL_INTEGRATION.agc.html#5641545431">VATT1</a>                                 
021760,000131: 13,2135           77624                           <span class="in">CALL    </span>                                       
021761,000132: 13,2136           23360                                    <a href="ORBITAL_INTEGRATION.agc.html#4D494E4952454354">MINIRECT</a>                              
021762,000133: 13,2137           77776                           <span class="in">EXIT    </span>                                       
021763,000134: 13,2140           05301                           <span class="op">TC      </span> <a href="PHASE_TABLE_MAINTENANCE.agc.html#5048415343484E47">PHASCHNG</a>                              
021764,000135: 13,2141           04024                           <span class="ps">OCT     </span> 04024                                 
021765,000136: 
021766,000137: 13,2142           05435                           <span class="op">TC      </span> <a href="SERVICE_ROUTINES.agc.html#5550464C4147">UPFLAG</a>                                
021767,000138: 13,2143           00236                           <span class="ps">ADRES   </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#5245494E54464C47">REINTFLG</a>                              
021768,000139:                                                                                                  <span class="co">#  Page 506</span>
021769,000140: 
021770,000141: 13,2144           06006                           <span class="op">TC      </span> <a href="INTERPRETER.agc.html#494E5450524554">INTPRET</a>                               
021771,000142: 13,2145           77624                           <span class="in">CALL    </span>                                       
021772,000143: 13,2146           26711                                    <a href="TAGS_FOR_RELATIVE_SETLOC.agc.html#41544F504F5448">ATOPOTH</a>                               
021773,000144: 13,2147           77531                           <span class="in">SSP     </span> <span class="in">EXIT      </span>                            
021774,000145: 13,2150           00053                                    <a href="ERASABLE_ASSIGNMENTS.agc.html#5150524554">QPRET</a>                                 
021775,000146: 13,2151           26154                                    <a href="#4F5554">OUT</a>                                   
021776,000147: 13,2152           04555                           <span class="op">TC      </span> <a href="INTER-BANK_COMMUNICATION.agc.html#42414E4B43414C4C">BANKCALL</a>                              <span class="co">#  PERMIT USE OF ORBITAL INTEGRATION</span>
021777,000148: 13,2153           27426                           <span class="ps">CADR    </span> <a href="INTEGRATION_INITIALIZATION.agc.html#494E5457414B4531">INTWAKE1</a>                              
<a name="4F5554"></a>021778,000149: 13,2154           77776        <span class="sm">OUT     </span>           <span class="in">EXIT    </span>                                       
<a name="454E44503736"></a>021779,000150: 13,2155           34714        <span class="sm">ENDP76  </span>           <span class="op">CAF     </span> <a href="FIXED_FIXED_CONSTANT_POOL.agc.html#5A45524F">ZERO</a>                                  
021780,000151: 13,2156           55126                           <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4D41524B435452">MARKCTR</a>                               <span class="co">#  CLEAR RR TRACKING MARK COUNTER</span>
021781,000152: 13,2157           55125                           <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#564846434E54">VHFCNT</a>                                
021782,000153: 
021783,000154: 13,2160           37716                           <span class="op">CAF     </span> <a href="FIXED_FIXED_CONSTANT_POOL.agc.html#4E45474F4E45">NEGONE</a>                                
021784,000155: 13,2161           55734                           <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4D524B42554632">MRKBUF2</a>                               <span class="co">#  INVALIDATE MARK BUFFER</span>
021785,000156: 
021786,000157: 13,2162           14106                           <span class="op">TCF     </span> <a href="FRESH_START_AND_RESTART.agc.html#474F544F50303048">GOTOP00H</a>                              
021787,000158: 
<a name="5630364E3834"></a>021788,000159: 13,2163           01524        <span class="sm">V06N84  </span>           <span class="ps">NV      </span> 0684                                  
021789,000160: 13,2164           01441                           <span class="ps">NV      </span> 0633                                  
<a name="50373653554231"></a>021790,000161: 13,2165           43174        <span class="sm">P76SUB1 </span>           <span class="in">AXT,2   </span> <span class="in">SET       </span>                            
021791,000162: 13,2166           00002                                    2                                     
021792,000163: 13,2167           00063                                    <a href="ERASABLE_ASSIGNMENTS.agc.html#4D4F4F4E464C4147">MOONFLAG</a>                              <span class="co">#  SET MEANS MOON IS SPHERE OF INFLUENCE.</span>
021793,000164: 13,2170           77014                           <span class="in">BON     </span> <span class="in">AXT,2     </span>                            
021794,000165: 13,2171           04303                                    <a href="ERASABLE_ASSIGNMENTS.agc.html#434D4F4F4E464C47">CMOONFLG</a>                              <span class="co">#  SET MEANS PERM CM STATE IN LUNAR SPHERE.</span>
021795,000166: 13,2172           00052                                    <a href="ERASABLE_ASSIGNMENTS.agc.html#5150524554">QPRET</a>                                 
021796,000167: 13,2173           00000                                    0                                     
021797,000168: 13,2174           43414                           <span class="in">CLEAR   </span> <span class="in">RVQ       </span>                            
021798,000169: 13,2175           00263                                    <a href="ERASABLE_ASSIGNMENTS.agc.html#4D4F4F4E464C4147">MOONFLAG</a>                              
021799,000170: 
021800,000171: 
021801,000172: 
021802,000173: 
021803,000174: 

End of include-file P76.agc.  Parent file is <a href="MAIN.agc.html">MAIN.agc</a>
</pre>
</span>
</p>
</body>
</html>
