<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta content="text/html;charset=ISO-8859-1" http-equiv="Content-Type">
<title>Assembly listing generated by yaYUL</title>
<style type="text/css">
p.nobreak { white-space:nowrap; }
a { text-decoration:none; }
a:visited { COLOR: #000850; }
</style>
<style type="text/css">
.op{
font-weight: bold;
color: #993300;
}
</style>
<style type="text/css">
.dn{
color: #009900;
}
</style>
<style type="text/css">
.fe{
color: #FF0000;
}
</style>
<style type="text/css">
.in{
color: #FF6600;
}
</style>
<style type="text/css">
.ps{
color: #336600;
}
</style>
<style type="text/css">
.sm{
color: #0000FF;
}
</style>
<style type="text/css">
.wn{
color: #FF9900;
}
</style>
<style type="text/css">
.co{
font-style: italic;
color: #993399;
}
</style>
</head>
<body>
<p class="nobreak">
<span style="font-family: monospace;">
<pre>
<h1>Source Code</h1>
</pre>
</span>
</p>
<table style="text-align: left;" border="1" cellpadding="2" cellspacing="2">
<tbody>
<tr>
<td style="white-space: nowrap; vertical-align: middle;">
<img alt="" src="Apollo32.png" style="width: 32px; height: 32px;" align="left">
</td>
<td style="vertical-align: middle;">
These source-code files were obtained by digitally photographing
a Solarium 55 program listing from the American Computer Museum in
Bozeman, Montana.  The listing originally belonged to Eldon C. Hall, 
who donated it to the museum.  Volunteers then manually typed in the 
source code or else modified similar pre-existing Colossus 249 
(Apollo 9) source files to incorporate changes. Note that the page images 
<a href="http://www.ibiblio.org/apollo/ScansForConversion/Solarium055/">
presented online</a> are of reduced quality, and that additional images 
may be available.  Report any conversion errors or legibility 
problems in page images to info@sandroid.org. 
Notations on the program listing read, in part:<br>
<br>
<pre>
        YUL SYSTEM FOR AGC4: REVISION 0 OF PROGRAM SOLRUM55
	BY NASA 1021108-021                    DEC. 4, 1966
</pre>
</td></tr></tbody></table>

<p class="nobreak">
<span style="font-family: monospace;">
<pre>
011434,000002:                                                                                                  <span class="co">#  Copyright:    Public domain.</span>
011435,000003:                                                                                                  <span class="co">#  Filename:     ALARM_AND_DISPLAY_PROCEDURES.agc</span>
011436,000004:                                                                                                  <span class="co">#  Purpose:      Part of the source code for Solarium build 55. This</span>
011437,000005:                                                                                                  <span class="co">#                is for the Command Module's (CM) Apollo Guidance</span>
011438,000006:                                                                                                  <span class="co">#                Computer (AGC), for Apollo 6.</span>
011439,000007:                                                                                                  <span class="co">#  Assembler:    yaYUL --block1</span>
011440,000008:                                                                                                  <span class="co">#  Contact:      Jim Lawton &lt;jim DOT lawton AT gmail DOT com></span>
011441,000009:                                                                                                  <span class="co">#  Website:      www.ibiblio.org/apollo/index.html</span>
011442,000010:                                                                                                  <span class="co">#  Page scans:   www.ibiblio.org/apollo/ScansForConversion/Solarium055/</span>
011443,000011:                                                                                                  <span class="co">#  Mod history:  2009-09-15 JL   Created.</span>
011444,000012: 
011445,000013:                                                                                                  <span class="co"># # Page 293</span>
011446,000014: 
011447,000015:                                                                                                  <span class="co">#        THE FOLLOWING SUBROUTINE MAY BE USED TO DISPLAY A NON-ABORTIVE ALARM CONDITION. IT MAY BE CALLED</span>
011448,000016:                                                                                                  <span class="co">#  EITHER IN INTERRUPT OR UNDER EXECUTIVE CONTROL.</span>
011449,000017: 
011450,000018:                                                                                                  <span class="co">#        CALLING SEQUENCE IS AS FOLLOWS:</span>
011451,000019: 
011452,000020:                                                                                                  <span class="co">#        TC      ALARM</span>
011453,000021:                                                                                                  <span class="co">#        OCT     AAANN           ALARM NO. NN IN GENERAL AREA AAA.</span>
011454,000022:                                                                                                  <span class="co">#                                (RETURNS HERE)</span>
011455,000023: 
011456,000024:    3007                                           <span class="ps">BANK    </span> 1                                     
<a name="414C41524D"></a>011457,000025:    3007           20017        <span class="sm">ALARM   </span>           <span class="op">INHINT  </span>                                       
011458,000026:    3010           30001                           <span class="op">XCH     </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#51">Q</a>                                     
011459,000027:    3011           50577                           <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4954454D5031">ITEMP1</a>                                
011460,000028: 
011461,000029:    3012           11763                           <span class="op">CCS     </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4641494C524547">FAILREG</a>                               <span class="co">#  SEE IF ONE FAILURE HAS OCCURRED SINCE</span>
011462,000030:                                                                                                  <span class="co">#   THE LAST ERROR RESET.</span>
011463,000031:    3013           03021                           <span class="op">TC      </span> <a href="#4D554C544641494C">MULTFAIL</a>                              <span class="co">#  YES - INDICATE MULTIPLE FAILURES.</span>
011464,000032:    3014           03024                           <span class="op">TC      </span> <a href="#4E4557414C41524D">NEWALARM</a>                              <span class="co">#  FIRST SINCE RESET.</span>
<a name="4D554C5445584954"></a>011465,000033:    3015           30577        <span class="sm">MULTEXIT</span>           <span class="op">XCH     </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4954454D5031">ITEMP1</a>                                <span class="co">#  FREE ITEMP1 BEFORE RELINT.</span>
011466,000034: 
<a name="454E44414C41524D"></a>011467,000035:    3016           20016        <span class="sm">ENDALARM</span>           <span class="op">RELINT  </span>                                       
011468,000036:    3017           20000                           <span class="op">INDEX   </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#41">A</a>                                     
011469,000037:    3020           00001                           <span class="op">TC      </span> 1                                     <span class="co">#  RETURN TO CALLER.</span>
011470,000038: 
<a name="4D554C544641494C"></a>011471,000039:    3021           64664        <span class="sm">MULTFAIL</span>           <span class="op">AD      </span> <a href="FIXED-FIXED_INTERPRETER_SECTION.agc.html#435351">CSQ</a>                                   <span class="co">#  BIT 15 = 1 INDICATES MULTIPLE FAILURES.</span>
011472,000040:    3022           51763                           <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4641494C524547">FAILREG</a>                               <span class="co">#  CSQ = BIT15 + BIT1.</span>
011473,000041:    3023           03015                           <span class="op">TC      </span> <a href="#4D554C5445584954">MULTEXIT</a>                              
011474,000042: 
<a name="4E4557414C41524D"></a>011475,000043:    3024           30577        <span class="sm">NEWALARM</span>           <span class="op">XCH     </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4954454D5031">ITEMP1</a>                                <span class="co">#  SAVE RETURN ADDRESS FOR CALL TO NOVAC.</span>
011476,000044:    3025           51763                           <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4641494C524547">FAILREG</a>                               
011477,000045: 
011478,000046:    3026           03036                           <span class="op">TC      </span> <a href="#50524F474C41524D">PROGLARM</a>                              <span class="co">#  TURN ON THE PROGRAM ALARM LIGHT.</span>
011479,000047: 
011480,000048:    3027           32172                           <span class="op">CAF     </span> <a href="EXECUTIVE.agc.html#5052494F3337">PRIO37</a>                                
011481,000049:    3030           02052                           <span class="op">TC      </span> <a href="EXECUTIVE.agc.html#4E4F564143">NOVAC</a>                                 
011482,000050:    3031           23725                           <span class="ps">CADR    </span> <a href="#444F414C41524D">DOALARM</a>                               <span class="co">#  CALL (SEPARATE) JOB FOR DISPLAY.</span>
011483,000051: 
011484,000052:    3032           21763                           <span class="op">INDEX   </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4641494C524547">FAILREG</a>                               <span class="co">#  (RETURN ADDRESS AT THIS POINT).</span>
011485,000053:    3033           30000                           <span class="op">CAF     </span> 0                                     
011486,000054:    3034           31763                           <span class="op">XCH     </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4641494C524547">FAILREG</a>                               <span class="co">#  SET FAILREG AND GET BACK RETURN ADDRESS.</span>
<a name="4E4557414C4D32"></a>011487,000055:    3035           03016        <span class="sm">NEWALM2 </span>           <span class="op">TC      </span> <a href="#454E44414C41524D">ENDALARM</a>                              
011488,000056: 
011489,000057:                                                                                                  <span class="co"># # Page 294</span>
011490,000058: 
011491,000059:                                                                                                  <span class="co">#        JOB WHICH CALLS NVSUB FOR ALARM DISPLAY.</span>
011492,000060: 
011493,000061: 11,7725                                           <span class="ps">BANK    </span> 11                                    
<a name="444F414C41524D"></a>011494,000062: 11,7725           03302        <span class="sm">DOALARM </span>           <span class="op">TC      </span> <a href="PINBALL_GAME_BUTTONS_AND_LIGHTS.agc.html#47524142445350">GRABDSP</a>                               <span class="co">#  DISPLAY FAILREG.</span>
011495,000063: 11,7726           03310                           <span class="op">TC      </span> <a href="PINBALL_GAME_BUTTONS_AND_LIGHTS.agc.html#50524547425359">PREGBSY</a>                               
011496,000064: 11,7727           33043                           <span class="op">CAF     </span> <a href="#4641494C44495350">FAILDISP</a>                              
011497,000065: 11,7730           03100                           <span class="op">TC      </span> <a href="PINBALL_GAME_BUTTONS_AND_LIGHTS.agc.html#4E56535542">NVSUB</a>                                 
011498,000066: 11,7731           03315                           <span class="op">TC      </span> <a href="PINBALL_GAME_BUTTONS_AND_LIGHTS.agc.html#5052454E56425359">PRENVBSY</a>                              
011499,000067: 11,7732           03362                           <span class="op">TC      </span> <a href="PINBALL_GAME_BUTTONS_AND_LIGHTS.agc.html#46524545445350">FREEDSP</a>                               
011500,000068: 11,7733           02124                           <span class="op">TC      </span> <a href="EXECUTIVE.agc.html#454E444F464A4F42">ENDOFJOB</a>                              
011501,000069: 
011502,000070: 
011503,000071: 
011504,000072:    3036                                           <span class="ps">SETLOC  </span> <a href="#4E4557414C4D32">NEWALM2</a>    +1                         
011505,000073: 
<a name="50524F474C41524D"></a>011506,000074:    3036           44516        <span class="sm">PROGLARM</span>           <span class="op">CS      </span> <a href="FIXED-FIXED_INTERPRETER_SECTION.agc.html#4F4E45">ONE</a>                                   <span class="co">#  TURNS ON PROGRAM FAIL LIGHT ON THE</span>
011507,000075:    3037           70011                           <span class="op">MASK    </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4F555431">OUT1</a>       PANEL.     CALLED          
011508,000076:    3040           64516                           <span class="op">AD      </span> <a href="FIXED-FIXED_INTERPRETER_SECTION.agc.html#4F4E45">ONE</a>                                   
011509,000077:    3041           50011                           <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4F555431">OUT1</a>                                  
011510,000078:    3042           00001                           <span class="op">TC      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#51">Q</a>                                     
011511,000079: 
<a name="4641494C44495350"></a>011512,000080:    3043           00531        <span class="sm">FAILDISP</span>           <span class="ps">OCT     </span> 00531                                 
011513,000081: 
011514,000082:                                                                                                  <span class="co"># # Page 295</span>
011515,000083: 
011516,000084:                                                                                                  <span class="co">#        THE FOLLOWING ROUTINE IS CALLED TO INITIATE AN ABORT. FAILREG IS SET (ACCORDING TO THE MULTIPLE</span>
011517,000085:                                                                                                  <span class="co">#  FAILURES CONVENTION) AND A RE-START IS INITIATED BY TC-SELF. THIS IS CALLED ONLY UNDER RARE CIRCUMSTANCES.</span>
011518,000086: 
<a name="41424F5254"></a>011519,000087:    3044           20017        <span class="sm">ABORT   </span>           <span class="op">INHINT  </span>                                       <span class="co">#  MAY BE CALLED IN INTERRUPT OR UNDER EXEC</span>
011520,000088:    3045           20001                           <span class="op">INDEX   </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#51">Q</a>                                     <span class="co">#  PICK UP FAILURE CODE.</span>
011521,000089:    3046           30000                           <span class="op">CAF     </span> 0                                     
011522,000090:    3047           50577                           <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4954454D5031">ITEMP1</a>                                
011523,000091: 
011524,000092:    3050           11763                           <span class="op">CCS     </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4641494C524547">FAILREG</a>                               <span class="co">#  SEE IF THIS IS A MULTIPLE FAILURE.</span>
011525,000093:    3051           03054                           <span class="op">TC      </span> <a href="#5345544D554C5446">SETMULTF</a>                              <span class="co">#  SET BIT 15 TO INDICATE YES.</span>
011526,000094:    3052           03056                           <span class="op">TC      </span> <a href="#4E455741424F5254">NEWABORT</a>                              <span class="co">#  FIRST FAILURE.</span>
011527,000095: 
<a name="5748494D504552"></a>011528,000096:    3053           03053        <span class="sm">WHIMPER </span>           <span class="op">TC      </span> <a href="#5748494D504552">WHIMPER</a>                               <span class="co">#  NOT WITH A BANG...</span>
011529,000097: 
<a name="5345544D554C5446"></a>011530,000098:    3054           64664        <span class="sm">SETMULTF</span>           <span class="op">AD      </span> <a href="FIXED-FIXED_INTERPRETER_SECTION.agc.html#435351">CSQ</a>                                   <span class="co">#  RESTORE AND SET BIT15</span>
011531,000099:    3055           03060                           <span class="op">TC      </span> +3                                    
011532,000100: 
<a name="4E455741424F5254"></a>011533,000101:    3056           03036        <span class="sm">NEWABORT</span>           <span class="op">TC      </span> <a href="#50524F474C41524D">PROGLARM</a>                              <span class="co">#  FIRST FAILURE - TURN ON ALARM LIGHT.</span>
011534,000102:    3057           30577                           <span class="op">XCH     </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4954454D5031">ITEMP1</a>                                
011535,000103:    3060           51763                 +3        <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4641494C524547">FAILREG</a>                               
011536,000104:    3061           03053                           <span class="op">TC      </span> <a href="#5748494D504552">WHIMPER</a>                               <span class="co">#  UNIVERSAL ABORT LOCATION.</span>
011537,000105: 
<a name="434353484F4C45"></a>011538,000106:    3062           30001        <span class="sm">CCSHOLE </span>           <span class="op">XCH     </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#51">Q</a>                                     
011539,000107:    3063           51764                           <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#534641494C">SFAIL</a>                                 
011540,000108:    3064           03044                           <span class="op">TC      </span> <a href="#41424F5254">ABORT</a>                                 
011541,000109:    3065           01103                           <span class="ps">OCT     </span> 1103                                  
011542,000110: 
011543,000111:                                                                                                  <span class="co">#        MISSION PROGRAM DETECTED FAILURES (ERROR RETURNS TO IMUSTALL, ETC.)</span>
011544,000112: 
<a name="4355525441494E53"></a>011545,000113:    3066           30001        <span class="sm">CURTAINS</span>           <span class="op">XCH     </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#51">Q</a>                                     <span class="co">#  PROGRAM DETECTED FLUSH.</span>
011546,000114:    3067           05720                           <span class="op">TC      </span> <a href="INTER-BANK_COMMUNICATION.agc.html#504F53544A554D50">POSTJUMP</a>                              
011547,000115:    3070           10777                           <span class="ps">CADR    </span> <a href="FRESH_START_AND_RESTART.agc.html#5448415453414C4C">THATSALL</a>                              <span class="co">#  FRESH START AND PROGRAM ALARM.</span>
011548,000116: 
<a name="454E444641494C46"></a>011549,000117:    3071                        <span class="sm">ENDFAILF</span>           <span class="ps">EQUALS  </span>                                       

End of include-file ALARM_AND_DISPLAY_PROCEDURES.agc.  Parent file is <a href="MAIN.agc.html">MAIN.agc</a>
</pre>
</span>
</p>
</body>
</html>
