<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta content="text/html;charset=ISO-8859-1" http-equiv="Content-Type">
<title>Assembly listing generated by yaYUL</title>
<style type="text/css">
p.nobreak { white-space:nowrap; }
a { text-decoration:none; }
a:visited { COLOR: #000850; }
</style>
<style type="text/css">
.op{
font-weight: bold;
color: #993300;
}
</style>
<style type="text/css">
.dn{
color: #009900;
}
</style>
<style type="text/css">
.fe{
color: #FF0000;
}
</style>
<style type="text/css">
.in{
color: #FF6600;
}
</style>
<style type="text/css">
.ps{
color: #336600;
}
</style>
<style type="text/css">
.sm{
color: #0000FF;
}
</style>
<style type="text/css">
.wn{
color: #FF9900;
}
</style>
<style type="text/css">
.co{
font-style: italic;
color: #993399;
}
</style>
</head>
<body>
<p class="nobreak">
<span style="font-family: monospace;">
<pre>
<h1>Source Code</h1>
</pre>
</span>
</p>
<table style="text-align: left;" border="1" cellpadding="2" cellspacing="2">
<tbody>
<tr>
<td style="white-space: nowrap; vertical-align: middle;">
<img alt="" src="Apollo32.png" style="width: 32px; height: 32px;" align="left">
</td>
<td style="vertical-align: middle;">
These source code files have been transcribed or otherwise adapted from
digitized images of a hardcopy from the private collection of 
Don Eyles.  The digitization was performed by archive.org, and 
transcription was performed by a team of volunteers.
Note that the page images <a href="https://www.ibiblio.org/apollo/ScansForConversion/Aurora12/">
presented online</a> are of reduced quality, and that the original 
high-quality images are available at <a href="https://archive.org/details/aurora00dapg">archive.org</a>.  
Report any conversion errors or legibility problems in page images to info@sandroid.org.
Notations on the program listing read, in part:<br>
<br>
<pre>
    473423A YUL SYSTEM FOR BLK2: REVISION 12 of PROGRAM AURORA BY DAP GROUP   NOV 10, 1966
</pre>
Note that the date is the date of the printout, not the date of the program revision.
</td></tr></tbody></table>

<p class="nobreak">
<span style="font-family: monospace;">
<pre>
014642,000002:                                                                                                  <span class="co">## Copyright:    Public domain.</span>
014643,000003:                                                                                                  <span class="co">## Filename:     ALARM_AND_ABORT.agc</span>
014644,000004:                                                                                                  <span class="co">## Purpose:      Part of the source code for Aurora (revision 12).</span>
014645,000005:                                                                                                  <span class="co">## Assembler:    yaYUL</span>
014646,000006:                                                                                                  <span class="co">## Contact:      Ron Burkey &lt;info@sandroid.org>.</span>
014647,000007:                                                                                                  <span class="co">## Website:      https://www.ibiblio.org/apollo.</span>
014648,000008:                                                                                                  <span class="co">## Pages:        366-367</span>
014649,000009:                                                                                                  <span class="co">## Mod history:  2016-09-20 JL   Created.</span>
014650,000010:                                                                                                  <span class="co">##               2016-10-18 MAS  Transcribed.</span>
014651,000011: 
014652,000012:                                                                                                  <span class="co">## This source code has been transcribed or otherwise adapted from</span>
014653,000013:                                                                                                  <span class="co">## digitized images of a hardcopy from the private collection of </span>
014654,000014:                                                                                                  <span class="co">## Don Eyles.  The digitization was performed by archive.org.</span>
014655,000015: 
014656,000016:                                                                                                  <span class="co">## Notations on the hardcopy document read, in part:</span>
014657,000017: 
014658,000018:                                                                                                  <span class="co">##       473423A YUL SYSTEM FOR BLK2: REVISION 12 of PROGRAM AURORA BY DAP GROUP</span>
014659,000019:                                                                                                  <span class="co">##       NOV 10, 1966</span>
014660,000020: 
014661,000021:                                                                                                  <span class="co">##       [Note that this is the date the hardcopy was made, not the</span>
014662,000022:                                                                                                  <span class="co">##       date of the program revision or the assembly.]</span>
014663,000023: 
014664,000024:                                                                                                  <span class="co">## The scan images (with suitable reduction in storage size and consequent </span>
014665,000025:                                                                                                  <span class="co">## reduction in image quality) are available online at </span>
014666,000026:                                                                                                  <span class="co">##       https://www.ibiblio.org/apollo.  </span>
014667,000027:                                                                                                  <span class="co">## The original high-quality digital images are available at archive.org:</span>
014668,000028:                                                                                                  <span class="co">##       https://archive.org/details/aurora00dapg</span>
014669,000029: 
</pre>
</span>
</p>
<table style="text-align: left;" border="1" cellpadding="2" cellspacing="2">
<tbody>
<tr>
<td style="white-space: nowrap; vertical-align: middle;">
<img alt="" src="Apollo32.png" style="width: 32px; height: 32px;" align="left">
</td>
<td style="vertical-align: middle;">
Page 366
</td></tr></tbody></table>
<p class="nobreak">
<span style="font-family: monospace;">
<pre>
014671,000031:                                                                                                  <span class="co">#           THE FOLLOWING SUBROUTINE MAY BE CALLED TO DISPLAY A NON-ABORTIVE ALARM CONDITION. IT MAY BE CALLED</span>
014672,000032:                                                                                                  <span class="co">#  EITHER IN INTERRUPT OR UNDER EXECUTIVE CONTROL.</span>
014673,000033: 
014674,000034:                                                                                                  <span class="co">#           CALLING SEQUENCE IS AS FOLLOWS:</span>
014675,000035: 
014676,000036:                                                                                                  <span class="co">#           TC     ALARM</span>
014677,000037:                                                                                                  <span class="co">#           OCT    AAANN           ALARM NO. NN IN GENERAL AREA AAA.</span>
014678,000038:                                                                                                  <span class="co">#                                  (RETURNS HERE)</span>
014679,000039: 
014680,000040:    5413                                           <span class="ps">SETLOC  </span> <a href="PINBALL_GAME__BUTTONS_AND_LIGHTS.agc.html#454E4450494E4246">ENDPINBF</a>                              
014681,000041:    5413     1363                                  <span class="ps">EBANK=  </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4641494C524547">FAILREG</a>                               
014682,000042: 
<a name="414C41524D"></a>014683,000043:    5413           00004        <span class="sm">ALARM   </span>           <span class="op">INHINT  </span>                                       
014684,000044:    5414           56002                           <span class="op">XCH     </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#51">Q</a>                                     
014685,000045:    5415           54077                           <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#5255505452454734">RUPTREG4</a>                              
014686,000046: 
014687,000047:    5416           11363                           <span class="op">CCS     </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4641494C524547">FAILREG</a>                               <span class="co">#  SEE IF ONE FAILURE HAS OCCURRED SINCE</span>
014688,000048:                                                                                                  <span class="co">#   THE LAST ERROR RESET.</span>
014689,000049:    5417           05425                           <span class="op">TC      </span> <a href="#4D554C544641494C">MULTFAIL</a>                              <span class="co">#  YES - INDICATE MULTIPLE FAILURES.</span>
014690,000050:    5420           05430                           <span class="op">TC      </span> <a href="#4E4557414C41524D">NEWALARM</a>                              <span class="co">#  FIRST SINCE RESET.</span>
014691,000051: 
<a name="4D554C5445584954"></a>014692,000052:    5421           30077        <span class="sm">MULTEXIT</span>           <span class="op">CA      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#5255505452454734">RUPTREG4</a>                              <span class="co">#  FREE RUPTREG4 BEFORE RELINT.</span>
014693,000053:    5422           00003                           <span class="op">RELINT  </span>                                       
014694,000054:    5423           50000                           <span class="op">INDEX   </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#41">A</a>                                     
014695,000055:    5424           00001                           <span class="op">TC      </span> 1                                     <span class="co">#  RETURN TO CALLER.</span>
014696,000056: 
<a name="4D554C544641494C"></a>014697,000057:    5425           66042        <span class="sm">MULTFAIL</span>           <span class="op">AD      </span> <a href="LIST_PROCESSING_INTERPRETER.agc.html#4F43543430303031">OCT40001</a>                              <span class="co">#  BIT 15 = 1 INDICATES MULTIPLE FAILURES.</span>
014698,000058:    5426           55363                           <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4641494C524547">FAILREG</a>                               
014699,000059:    5427           05421                           <span class="op">TC      </span> <a href="#4D554C5445584954">MULTEXIT</a>                              
014700,000060: 
<a name="4E4557414C41524D"></a>014701,000061:    5430           05440        <span class="sm">NEWALARM</span>           <span class="op">TC      </span> <a href="#50524F474C41524D">PROGLARM</a>                              <span class="co">#  TURN ON THE PROGRAM ALARM LIGHT.</span>
014702,000062: 
014703,000063:    5431           34535                           <span class="op">CAF     </span> <a href="EXECUTIVE.agc.html#5052494F3337">PRIO37</a>                                
014704,000064:    5432           04363                           <span class="op">TC      </span> <a href="EXECUTIVE.agc.html#4E4F564143">NOVAC</a>                                 
014705,000065:    5433           02773 02002                     <span class="ps">2CADR   </span> <a href="#444F414C41524D">DOALARM</a>                               <span class="co">#  CALL (SEPARATE) JOB FOR DISPLAY.</span>
014706,000066: 
014707,000067:    5435           50077                           <span class="op">INDEX   </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#5255505452454734">RUPTREG4</a>                              
014708,000068:    5436           30000                           <span class="op">CAF     </span> 0                                     
014709,000069:    5437           05426                           <span class="op">TC      </span> <a href="#4D554C544641494C">MULTFAIL</a>   +1                         
014710,000070: 
</pre>
</span>
</p>
<table style="text-align: left;" border="1" cellpadding="2" cellspacing="2">
<tbody>
<tr>
<td style="white-space: nowrap; vertical-align: middle;">
<img alt="" src="Apollo32.png" style="width: 32px; height: 32px;" align="left">
</td>
<td style="vertical-align: middle;">
The "OUT0" register mentioned below was the Block 1 method of talking to the DSKY. The comment had not
yet been updated for Block 2.
</td></tr></tbody></table>
<p class="nobreak">
<span style="font-family: monospace;">
<pre>
<a name="50524F474C41524D"></a>014713,000073:    5440           45445        <span class="sm">PROGLARM</span>           <span class="op">CS      </span> <a href="#4F43543430343030">OCT40400</a>                              <span class="co">#  TURN ON PROGRAM ALARM LIGHT VIA OUT0.</span>
014714,000074:    5441           70322                           <span class="op">MASK    </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#445350544142">DSPTAB</a>     +11D                       
014715,000075:    5442           65445                           <span class="op">AD      </span> <a href="#4F43543430343030">OCT40400</a>                              
014716,000076:    5443           54322                           <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#445350544142">DSPTAB</a>     +11D                       
014717,000077:    5444           00002                           <span class="op">TC      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#51">Q</a>                                     
014718,000078: 
<a name="4F43543430343030"></a>014719,000079:    5445           40400        <span class="sm">OCT40400</span>           <span class="ps">OCT     </span> 40400                                 
014720,000080: 
</pre>
</span>
</p>
<table style="text-align: left;" border="1" cellpadding="2" cellspacing="2">
<tbody>
<tr>
<td style="white-space: nowrap; vertical-align: middle;">
<img alt="" src="Apollo32.png" style="width: 32px; height: 32px;" align="left">
</td>
<td style="vertical-align: middle;">
Page 367
</td></tr></tbody></table>
<p class="nobreak">
<span style="font-family: monospace;">
<pre>
014722,000082:                                                                                                  <span class="co">#           THE FOLLOWING ROUTINE IS CALLED TO INITIATE AN ABORT. FAILREG IS SET (ACCORDING TO THE MULTIPLE</span>
014723,000083:                                                                                                  <span class="co">#  FAILURES CONVENTION) AND A RE-START IS INITIATED BY TC-SELF. THIS IS CALLED ONLY UNDER RARE CIRCUMSTANCES.</span>
014724,000084: 
<a name="41424F5254"></a>014725,000085:    5446           00004        <span class="sm">ABORT   </span>           <span class="op">INHINT  </span>                                       <span class="co">#  MAY BE CALLED IN INTERRUPT OR UNDER EXEC</span>
014726,000086:    5447           50002                           <span class="op">INDEX   </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#51">Q</a>                                     <span class="co">#  PICK UP FAILURE CODE.</span>
014727,000087:    5450           30000                           <span class="op">CAF     </span> 0                                     
014728,000088:    5451           54065                           <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4954454D5031">ITEMP1</a>                                
014729,000089: 
014730,000090:    5452           11363                           <span class="op">CCS     </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4641494C524547">FAILREG</a>                               <span class="co">#  SEE IF THIS IS A MULTIPLE FAILURE.</span>
014731,000091:    5453           05456                           <span class="op">TC      </span> <a href="#5345544D554C5446">SETMULTF</a>                              <span class="co">#  SET BIT 15 TO INDICATE YES.</span>
014732,000092:    5454           05460                           <span class="op">TC      </span> <a href="#4E455741424F5254">NEWABORT</a>                              <span class="co">#  FIRST FAILURE.</span>
014733,000093: 
<a name="5748494D504552"></a>014734,000094:    5455           05455        <span class="sm">WHIMPER </span>           <span class="op">TC      </span> <a href="#5748494D504552">WHIMPER</a>                               <span class="co">#  NOT WITH A BANG...</span>
014735,000095: 
<a name="5345544D554C5446"></a>014736,000096:    5456           66042        <span class="sm">SETMULTF</span>           <span class="op">AD      </span> <a href="LIST_PROCESSING_INTERPRETER.agc.html#4F43543430303031">OCT40001</a>                              <span class="co">#  RESTORE AND SET BIT 15.</span>
014737,000097:    5457           05462                           <span class="op">TC      </span> +3                                    
014738,000098: 
<a name="4E455741424F5254"></a>014739,000099:    5460           05440        <span class="sm">NEWABORT</span>           <span class="op">TC      </span> <a href="#50524F474C41524D">PROGLARM</a>                              <span class="co">#  FIRST FAILURE - TURN ON ALARM LIGHT.</span>
014740,000100:    5461           56065                           <span class="op">XCH     </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4954454D5031">ITEMP1</a>                                
014741,000101:    5462           55363                 +3        <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4641494C524547">FAILREG</a>                               
014742,000102:    5463           05455                           <span class="op">TC      </span> <a href="#5748494D504552">WHIMPER</a>                               <span class="co">#  UNIVERSAL ABORT LOCATION.</span>
014743,000103: 
<a name="434353484F4C45"></a>014744,000104:    5464           56002        <span class="sm">CCSHOLE </span>           <span class="op">XCH     </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#51">Q</a>                                     
014745,000105:    5465           55364                           <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#534641494C">SFAIL</a>                                 
014746,000106: 
014747,000107:    5466           05446                           <span class="op">TC      </span> <a href="#41424F5254">ABORT</a>                                 
014748,000108:    5467           01103                           <span class="ps">OCT     </span> 1103                                  
014749,000109: 
<a name="454E444641494C46"></a>014750,000110:    5470                        <span class="sm">ENDFAILF</span>           <span class="ps">EQUALS  </span>                                       
014751,000111: 
014752,000112:                                                                                                  <span class="co">#           JOB WHICH CALLS NVSUB FOR ALARM DISPLAY.</span>
014753,000113: 
014754,000114: 01,2773                                           <span class="ps">SETLOC  </span> <a href="WAITLIST.agc.html#454E445741495453">ENDWAITS</a>                              
014755,000115: 
<a name="444F414C41524D"></a>014756,000116: 01,2773           05317        <span class="sm">DOALARM </span>           <span class="op">TC      </span> <a href="PINBALL_GAME__BUTTONS_AND_LIGHTS.agc.html#4752414257414954">GRABWAIT</a>                              <span class="co">#  DISPLAY FAILREG.</span>
014757,000117: 01,2774           32777                           <span class="op">CAF     </span> <a href="#4641494C44495350">FAILDISP</a>                              
014758,000118: 01,2775           05332                           <span class="op">TC      </span> <a href="PINBALL_GAME__BUTTONS_AND_LIGHTS.agc.html#4E56534257414954">NVSBWAIT</a>                              
014759,000119: 
014760,000120: 01,2776           04437                           <span class="op">TC      </span> <a href="EXECUTIVE.agc.html#454A46524545">EJFREE</a>                                <span class="co">#  FREE DISPLAY AND END JOB.</span>
014761,000121: 
<a name="4641494C44495350"></a>014762,000122: 01,2777           00531        <span class="sm">FAILDISP</span>           <span class="ps">OCT     </span> 00531                                 
014763,000123: 
<a name="454E444641494C53"></a>014764,000124: 01,3000                        <span class="sm">ENDFAILS</span>           <span class="ps">EQUALS  </span>                                       

End of include-file ALARM_AND_ABORT.agc.  Parent file is <a href="MAIN.agc.html">MAIN.agc</a>
</pre>
</span>
</p>
</body>
</html>
