<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta content="text/html;charset=ISO-8859-1" http-equiv="Content-Type">
<title>Assembly listing generated by yaYUL</title>
<style type="text/css">
p.nobreak { white-space:nowrap; }
a { text-decoration:none; }
a:visited { COLOR: #000850; }
</style>
<style type="text/css">
.op{
font-weight: bold;
color: #993300;
}
</style>
<style type="text/css">
.dn{
color: #009900;
}
</style>
<style type="text/css">
.fe{
color: #FF0000;
}
</style>
<style type="text/css">
.in{
color: #FF6600;
}
</style>
<style type="text/css">
.ps{
color: #336600;
}
</style>
<style type="text/css">
.sm{
color: #0000FF;
}
</style>
<style type="text/css">
.wn{
color: #FF9900;
}
</style>
<style type="text/css">
.co{
font-style: italic;
color: #993399;
}
</style>
</head>
<body>
<p class="nobreak">
<span style="font-family: monospace;">
<pre>
<h1>Source Code</h1>
013852,000001:                                                                                                 <span class="co">#  Copyright:     Public domain.</span>
013853,000002:                                                                                                 <span class="co">#  Filename:      R63.agc</span>
013854,000003:                                                                                                 <span class="co">#  Purpose:       A section of Luminary 1C, revision 131.</span>
013855,000004:                                                                                                 <span class="co">#                 It is part of the source code for the Lunar Module's (LM)</span>
013856,000005:                                                                                                 <span class="co">#                 Apollo Guidance Computer (AGC) for Apollo 13 and Apollo 14.</span>
013857,000006:                                                                                                 <span class="co">#                 This file is intended to be a faithful transcription, except</span>
013858,000007:                                                                                                 <span class="co">#                 that the code format has been changed to conform to the</span>
013859,000008:                                                                                                 <span class="co">#                 requirements of the yaYUL assembler rather than the </span>
013860,000009:                                                                                                 <span class="co">#                 original YUL assembler.</span>
013861,000010:                                                                                                 <span class="co">#  Reference:     pp. 345-348 of 1729.pdf.</span>
013862,000011:                                                                                                 <span class="co">#  Contact:       Ron Burkey &lt;info@sandroid.org>.</span>
013863,000012:                                                                                                 <span class="co">#  Website:       www.ibiblio.org/apollo/index.html</span>
013864,000013:                                                                                                 <span class="co">#  Mod history:   05/06/03 RSB.   Began transcribing.</span>
013865,000014:                                                                                                 <span class="co">#                 05/14/05 RSB    Corrected website reference above.</span>
013866,000015: 
013867,000016:                                                                                                 <span class="co">#  Page 345</span>
013868,000017:                                                                                                 <span class="co">#  SUBROUTINE NAME:       V89CALL</span>
013869,000018:                                                                                                 <span class="co">#  MOD NO:        0                       DATE:           9 JAN 1968</span>
013870,000019:                                                                                                 <span class="co">#  MOD BY:        DIGITAL DEVEL GROUP     LOG SECTION:    R63</span>
013871,000020: 
013872,000021:                                                                                                 <span class="co">#  FUNCTIONAL DESCRIPTION:</span>
013873,000022: 
013874,000023:                                                                                                 <span class="co">#  CALLED BY VERB 89 ENTER DURING P00.  PRIO 10 USED.  CALCULATES AND</span>
013875,000024:                                                                                                 <span class="co">#  DISPLAYS FINAL FDAI BALL ANGLES TO POINT LM +X OR +Z AXIS AT CSM.</span>
013876,000025: 
013877,000026:                                                                                                 <span class="co">#  1. KEY IN V 89 E ONLY IF IN PROG 00.  IF NOT IN P00, OPERATOR ERROR AND</span>
013878,000027:                                                                                                 <span class="co">#  EXIT R63, OTHERWISE CONTINUE.</span>
013879,000028: 
013880,000029:                                                                                                 <span class="co">#  2. IF IN P00, DO IMU STATUS CHECK ROUTINE (R02BOTH).  IF IMU ON AND ITS</span>
013881,000030:                                                                                                 <span class="co">#  ORIENTATION KNOWN TO LGC, CONTINUE.</span>
013882,000031: 
013883,000032:                                                                                                 <span class="co">#  3. FLASH DISPLAY V 04 N 06.  R2 INDICATES WHICH SPACECRAFT AXIS IS TO</span>
013884,000033:                                                                                                 <span class="co">#  BE POINTED AT CSM.  INITIAL CHOICE IS PREFERRED (+Z) AXIS (R2=1).</span>
013885,000034:                                                                                                 <span class="co">#  ASTRONAUT CAN CHANGE TO (+X) AXIS (R2 NOT =1) BY V 22 E 2 E.  CONTINUE</span>
013886,000035:                                                                                                 <span class="co">#  AFTER KEYING IN PROCEED.</span>
013887,000036: 
013888,000037:                                                                                                 <span class="co">#  4. BOTH VEHICLE STATE VECTORS UPDATED BY CONIC EQS.</span>
013889,000038: 
013890,000039:                                                                                                 <span class="co">#  5. HALF MAGNITUDE UNIT LOS VECTOR (IN STABLE MEMBER COORDINATES) AND</span>
013891,000040:                                                                                                 <span class="co">#  HALF MAGNITUDE UNIT SPACECRAFT AXIS VECTOR (IN BODY COORDINATES)</span>
013892,000041:                                                                                                 <span class="co">#  PREPARED FOR VECPOINT.</span>
013893,000042: 
013894,000043:                                                                                                 <span class="co">#  6. GIMBAL ANGLES FROM VECPOINT TRANSFORMED INTO FDAI BALL ANGLES BY</span>
013895,000044:                                                                                                 <span class="co">#  BALLANGS.  FLASH DISPLAY V 06 N 18 AND AWAIT RESPONSE.</span>
013896,000045: 
013897,000046:                                                                                                 <span class="co">#  7      RECYCLE -- RETURN TO STEP 4.</span>
013898,000047:                                                                                                 <span class="co">#         TERMINATE -- EXIT R63</span>
013899,000048:                                                                                                 <span class="co">#         PROCEED -- RESET 3AXISFLAG AND CALL R60LEM FOR ATTITUDE MANEUVER.</span>
013900,000049: 
013901,000050:                                                                                                 <span class="co">#  CALLING SEQUENCE:      V 89 E.</span>
013902,000051: 
013903,000052:                                                                                                 <span class="co">#  SUBROUTINES CALLED:    CHECKP00H, R02BOTH, GOXDSPF, CSMCONIC, LEMCONIC,</span>
013904,000053:                                                                                                 <span class="co">#                         VECPOINT, BALLANGS, R60LEM.</span>
013905,000054: 
013906,000055:                                                                                                 <span class="co">#  NORMAL EXIT MODES:     TC ENDEXT</span>
013907,000056: 
013908,000057:                                                                                                 <span class="co">#  ALARMS:        1. OPERATOR ERROR IF NOT IN P00.</span>
013909,000058:                                                                                                 <span class="co">#                 2. PROGRAM ALARM IF IMU IS OFF.</span>
013910,000059:                                                                                                 <span class="co">#                 3. PROGRAM ALARM IF IMU ORIENTATION IS UNKNOWN.</span>
013911,000060: 
013912,000061:                                                                                                 <span class="co">#  OUTPUT:        NONE</span>
013913,000062: 
013914,000063:                                                                                                 <span class="co">#  ERASABLE INITIALIZATION REQUIRED:  NONE</span>
013915,000064: 
013916,000065:                                                                                                 <span class="co">#  DEBRIS:        OPTION1, +1, TDEC1, PCINTVSM, SCAXIS, CPHI, CTHETA, CPSI,</span>
013917,000066:                                                                                                 <span class="co">#  Page 346</span>
013918,000067:                                                                                                 <span class="co">#                 3AXISFLAG.</span>
013919,000068: 
013920,000069: 06,3723  E4,1606                                 <span class="ps">EBANK=  </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#524F4E45">RONE</a>                                  
013921,000070: 32,2217                                          <span class="ps">BANK    </span> 32                                    
013922,000071: 26,2000                                          <span class="ps">SETLOC  </span> <a href="TAGS_FOR_RELATIVE_SETLOC.agc.html#4241574C414E4753">BAWLANGS</a>                              
013923,000072: 26,2000                                          <span class="ps">BANK    </span>                                       
013924,000073: 
013925,000074: 26,2022                                          <span class="ps">COUNT*  </span> $$/R63                                
<a name="56383943414C4C"></a>013926,000075: 26,2022           04616        <span class="sm">V89CALL </span>          <span class="op">TC      </span> <a href="INTER-BANK_COMMUNICATION.agc.html#42414E4B43414C4C">BANKCALL</a>                              <span class="co">#  IMU STATUS CHECK.  RETURNS IF ORIENTATION</span>
013927,000076: 26,2023           11233                          <span class="ps">CADR    </span> <a href="IMU_MODE_SWITCHING_ROUTINES.agc.html#523032424F5448">R02BOTH</a>                               <span class="co">#  KNOWN.  ALARMS IF NOT.</span>
013928,000077: 26,2024           36250                          <span class="op">CAF     </span> <a href="FIXED_FIXED_CONSTANT_POOL.agc.html#5448524545">THREE</a>                                 <span class="co">#  ALLOW ASTRONAUT TO SELECT DESIRED</span>
013929,000078: 26,2025           55050                          <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4F5054494F4E58">OPTIONX</a>                               <span class="co">#  TRACKING ATTITUDE AXIS.</span>
013930,000079: 26,2026           34753                          <span class="op">CAF     </span> <a href="FIXED_FIXED_CONSTANT_POOL.agc.html#4F4E45">ONE</a>                                   
013931,000080: 26,2027           55051                          <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4F5054494F4E58">OPTIONX</a>    +1                         
013932,000081: 26,2030           32117                          <span class="op">CAF     </span> <a href="#564230344E3132">VB04N12</a>                               <span class="co">#  V 04 N 12.</span>
013933,000082: 26,2031           04616                          <span class="op">TC      </span> <a href="INTER-BANK_COMMUNICATION.agc.html#42414E4B43414C4C">BANKCALL</a>                              
013934,000083: 26,2032           20477                          <span class="ps">CADR    </span> <a href="DISPLAY_INTERFACE_ROUTINES.agc.html#474F464C415348">GOFLASH</a>                               
013935,000084: 26,2033           05472                          <span class="op">TC      </span> <a href="DISPLAY_INTERFACE_ROUTINES.agc.html#454E44455854">ENDEXT</a>                                <span class="co">#  TERMINATE</span>
013936,000085: 26,2034           02036                          <span class="op">TC      </span> +2                                    <span class="co">#  PROCEED</span>
013937,000086: 26,2035           02030                          <span class="op">TC      </span> -5                                    <span class="co">#  DATA IN.  OPTION1+1 = 1 FOR Z AXIS</span>
<a name="5638395245434C"></a>013938,000087: 26,2036           06042        <span class="sm">V89RECL </span>          <span class="op">TC      </span> <a href="INTERPRETER.agc.html#494E5450524554">INTPRET</a>                               <span class="co">#                         2 FOR X AXIS</span>
013939,000088: 26,2037           43234                          <span class="in">RTB     </span> <span class="in">DAD       </span>                            
013940,000089: 26,2040           21574                                   <a href="RTB_OP_CODES.agc.html#4C4F414454494D45">LOADTIME</a>                              <span class="co">#  READ PRESENT TIME</span>
013941,000090: 26,2041           14122                                   <a href="#4450314D494E">DP1MIN</a>                                
013942,000091: 26,2042           02205                          <span class="in">STORE   </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#5453544152543832">TSTART82</a>                              <span class="co">#  SAVE TIME FOR LEMCONIC CALL</span>
013943,000092: 26,2043           34041                          <span class="in">STCALL  </span> <a href="ORBITAL_INTEGRATION.agc.html#5444454331">TDEC1</a>                                 <span class="co">#  STORE TIME FOR CSMCONIC CALL</span>
013944,000093: 26,2044           27065                                   <a href="INTEGRATION_INITIALIZATION.agc.html#43534D434F4E4943">CSMCONIC</a>                              <span class="co">#  CSM STATE VECTOR UPDATE</span>
013945,000094: 26,2045           77775                          <span class="in">VLOAD   </span>                                       <span class="co">#  CSMCONIC LEFT R VECTOR IN RATT</span>
013946,000095: 26,2046           00001                                   <a href="ORBITAL_INTEGRATION.agc.html#52415454">RATT</a>                                  
013947,000096: 26,2047           16207                          <span class="in">STODL   </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#524F4E45">RONE</a>                                  <span class="co">#  SAVE FOR LINE OF SIGHT (LOS) COMPUTATION</span>
013948,000097: 26,2050           02205                                   <a href="ERASABLE_ASSIGNMENTS.agc.html#5453544152543832">TSTART82</a>                              
013949,000098: 26,2051           34041                          <span class="in">STCALL  </span> <a href="ORBITAL_INTEGRATION.agc.html#5444454331">TDEC1</a>                                 <span class="co">#  STORE TIME FOR LEMCONIC CALL</span>
013950,000099: 26,2052           27077                                   <a href="INTEGRATION_INITIALIZATION.agc.html#4C454D434F4E4943">LEMCONIC</a>                              <span class="co">#  LEM STATE VECTOR UPDATE</span>
013951,000100: 26,2053           52375                          <span class="in">VLOAD   </span> <span class="in">VSU       </span>                            <span class="co">#  CSM POSITION -- LEM POSITION -- LOS</span>
013952,000101: 26,2054           02207                                   <a href="ERASABLE_ASSIGNMENTS.agc.html#524F4E45">RONE</a>                                  <span class="co">#  LOS VECTOR LEFT IN MPAC</span>
013953,000102: 26,2055           00001                                   <a href="ORBITAL_INTEGRATION.agc.html#52415454">RATT</a>                                  
013954,000103: 26,2056           47121                          <span class="in">MXV     </span> <span class="in">RTB       </span>                            <span class="co">#  (REFSMAT X LOS).  TRANSFORMS LOS FROM</span>
013955,000104: 26,2057           01734                                   <a href="ERASABLE_ASSIGNMENTS.agc.html#524546534D4D4154">REFSMMAT</a>                              <span class="co">#  REFERENCE COORD TO STAB MEMB COORD. (garbled)</span>
013956,000105: 26,2060           21727                                   <a href="RTB_OP_CODES.agc.html#4E4F524D554E4954">NORMUNIT</a>                              
013957,000106: 26,2061           03773                          <span class="in">STORE   </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#504F494E5456534D">POINTVSM</a>                              <span class="co">#  STORE LOS FOR VECPOINT CALCULATION</span>
013958,000107: 26,2062           77776                          <span class="in">EXIT    </span>                                       
013959,000108: 26,2063           41051                          <span class="op">CS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4F5054494F4E58">OPTIONX</a>    +1                         <span class="co">#  1 FOR Z AXIS.  2 FOR X AXIS.</span>
013960,000109: 26,2064           64753                          <span class="op">AD      </span> <a href="FIXED_FIXED_CONSTANT_POOL.agc.html#4F4E45">ONE</a>                                   
013961,000110: 26,2065           00006                          <span class="op">EXTEND  </span>                                       
013962,000111: 26,2066           12113                          <span class="op">BZF     </span> <a href="#414C494E455A">ALINEZ</a>                                
<a name="414C494E4558"></a>013963,000112: 26,2067           06042        <span class="sm">ALINEX  </span>          <span class="op">TC      </span> <a href="INTERPRETER.agc.html#494E5450524554">INTPRET</a>                               <span class="co">#  X AXIS ALIGNMENT</span>
013964,000113: 26,2070           77775                          <span class="in">VLOAD   </span>                                       
013965,000114: 26,2071           06522                                   <a href="INTERPRETIVE_CONSTANT.agc.html#554E495458">UNITX</a>                                 <span class="co">#  READ (.5, 0, 0)</span>
013966,000115:                                                                                                 <span class="co">#  Page 347</span>
<a name="56383943414C4C31"></a>013967,000116: 26,2072           37765        <span class="sm">V89CALL1</span>          <span class="in">STCALL  </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#534341584953">SCAXIS</a>                                <span class="co">#  STORE SELECTED ALIGNMENT AXIS</span>
013968,000117: 26,2073           56040                                   <a href="R60_62.agc.html#564543504F494E54">VECPOINT</a>                              <span class="co">#  PUTS DESIRED GIM ANG (OG,IG,MG) IN TMPAC</span>
013969,000118: 26,2074           00322                          <span class="in">STORE   </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#43504849">CPHI</a>                                  <span class="co">#  STOR GIMBAL ANGLES FOR BALLANGS CALL</span>
013970,000119: 26,2075           77776                          <span class="in">EXIT    </span>                                       
013971,000120: 26,2076           04616                          <span class="op">TC      </span> <a href="INTER-BANK_COMMUNICATION.agc.html#42414E4B43414C4C">BANKCALL</a>                              
013972,000121: 26,2077           54272                          <span class="ps">CADR    </span> <a href="R60_62.agc.html#42414C4C414E4753">BALLANGS</a>                              <span class="co">#  PUTS DESIRED BALL ANGLE IN FDAIX,Y,Z</span>
013973,000122: 26,2100           32120                          <span class="op">CAF     </span> <a href="#564230364E3138">VB06N18</a>                               <span class="co">#  V 06 N 18</span>
013974,000123: 26,2101           04616                          <span class="op">TC      </span> <a href="INTER-BANK_COMMUNICATION.agc.html#42414E4B43414C4C">BANKCALL</a>                              <span class="co">#  NOUN 18 REFERS TO FDAIX,Y,Z</span>
013975,000124: 26,2102           20477                          <span class="ps">CADR    </span> <a href="DISPLAY_INTERFACE_ROUTINES.agc.html#474F464C415348">GOFLASH</a>                               
013976,000125: 26,2103           05472                          <span class="op">TC      </span> <a href="DISPLAY_INTERFACE_ROUTINES.agc.html#454E44455854">ENDEXT</a>                                <span class="co">#  TERMINATE</span>
013977,000126: 26,2104           02106                          <span class="op">TC      </span> +2                                    <span class="co">#  PROCEED</span>
013978,000127: 26,2105           02036                          <span class="op">TC      </span> <a href="#5638395245434C">V89RECL</a>                               <span class="co">#  RECYCLE</span>
013979,000128: 26,2106           05516                          <span class="op">TC      </span> <a href="SERVICE_ROUTINES.agc.html#444F574E464C4147">DOWNFLAG</a>                              <span class="co">#  RESET 3 AXIS FLAG</span>
013980,000129: 26,2107           00124                          <span class="ps">ADRES   </span> <a href="FLAGWORD_ASSIGNMENTS.agc.html#3341584953464C47">3AXISFLG</a>                              <span class="co">#  RESET BIT6 FLAG WORD 5</span>
013981,000130: 26,2110           04616                          <span class="op">TC      </span> <a href="INTER-BANK_COMMUNICATION.agc.html#42414E4B43414C4C">BANKCALL</a>                              <span class="co">#  PERFORMS LEM MANEUVER TO ALIGN SELECTED</span>
013982,000131: 26,2111           54123                          <span class="ps">CADR    </span> <a href="R60_62.agc.html#5236304C454D">R60LEM</a>                                <span class="co">#  SPACECRAFT AXIS TO CSM.</span>
013983,000132: 26,2112           15472                          <span class="op">TCF     </span> <a href="DISPLAY_INTERFACE_ROUTINES.agc.html#454E44455854">ENDEXT</a>                                <span class="co">#  TERMINATE R63</span>
013984,000133: 
<a name="414C494E455A"></a>013985,000134: 26,2113           06042        <span class="sm">ALINEZ  </span>          <span class="op">TC      </span> <a href="INTERPRETER.agc.html#494E5450524554">INTPRET</a>                               <span class="co">#  Z AXIS ALIGNMENT</span>
013986,000135: 26,2114           52175                          <span class="in">VLOAD   </span> <span class="in">GOTO      </span>                            
013987,000136: 26,2115           06516                                   <a href="INTERPRETIVE_CONSTANT.agc.html#554E49545A">UNITZ</a>                                 <span class="co">#  READ (0, 0, .5)</span>
013988,000137: 26,2116           54072                                   <a href="#56383943414C4C31">V89CALL1</a>                              
013989,000138: 
<a name="564230344E3132"></a>013990,000139: 26,2117           01014        <span class="sm">VB04N12 </span>          <span class="ps">VN      </span> 412                                   
<a name="564230364E3138"></a>013991,000140: 26,2120           01422        <span class="sm">VB06N18 </span>          <span class="ps">VN      </span> 0618                                  
013992,000141:                                                                                                 <span class="co">#  Page 348</span>
<a name="4450314D494E"></a>013993,000142: 26,2121           00000 13560  <span class="sm">DP1MIN  </span>          <span class="ps">2DEC    </span> 6000       B-28                       
013994,000143: 

End of include-file R63.agc.  Parent file is <a href="MAIN.agc.html">MAIN.agc</a>
</pre>
</span>
</p>
</body>
</html>
