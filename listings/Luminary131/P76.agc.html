<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta content="text/html;charset=ISO-8859-1" http-equiv="Content-Type">
<title>Assembly listing generated by yaYUL</title>
<style type="text/css">
p.nobreak { white-space:nowrap; }
a { text-decoration:none; }
a:visited { COLOR: #000850; }
</style>
<style type="text/css">
.op{
font-weight: bold;
color: #993300;
}
</style>
<style type="text/css">
.dn{
color: #009900;
}
</style>
<style type="text/css">
.fe{
color: #FF0000;
}
</style>
<style type="text/css">
.in{
color: #FF6600;
}
</style>
<style type="text/css">
.ps{
color: #336600;
}
</style>
<style type="text/css">
.sm{
color: #0000FF;
}
</style>
<style type="text/css">
.wn{
color: #FF9900;
}
</style>
<style type="text/css">
.co{
font-style: italic;
color: #993399;
}
</style>
</head>
<body>
<p class="nobreak">
<span style="font-family: monospace;">
<pre>
<h1>Source Code</h1>
029672,000001:                                                                                                 <span class="co">#  Copyright:     Public domain.</span>
029673,000002:                                                                                                 <span class="co">#  Filename:      P76.agc</span>
029674,000003:                                                                                                 <span class="co">#  Purpose:       A section of Luminary 1C, revision 131.</span>
029675,000004:                                                                                                 <span class="co">#                 It is part of the source code for the Lunar Module's (LM)</span>
029676,000005:                                                                                                 <span class="co">#                 Apollo Guidance Computer (AGC) for Apollo 13 and Apollo 14.</span>
029677,000006:                                                                                                 <span class="co">#                 This file is intended to be a faithful transcription, except</span>
029678,000007:                                                                                                 <span class="co">#                 that the code format has been changed to conform to the</span>
029679,000008:                                                                                                 <span class="co">#                 requirements of the yaYUL assembler rather than the</span>
029680,000009:                                                                                                 <span class="co">#                 original YUL assembler.</span>
029681,000010:                                                                                                 <span class="co">#  Reference:     pp. 716-718 of 1729.pdf.</span>
029682,000011:                                                                                                 <span class="co">#  Contact:       Ron Burkey &lt;info@sandroid.org>.</span>
029683,000012:                                                                                                 <span class="co">#  Website:       www.ibiblio.org/apollo</span>
029684,000013:                                                                                                 <span class="co">#  Mod history:   05/24/03 RSB.   Began transcribing.</span>
029685,000014: 
029686,000015:                                                                                                 <span class="co">#  Page 716</span>
029687,000016:                                                                                                 <span class="co">#  1)     PROGRAM NAME -- TARGET DELTA V PROGRAM (P76).</span>
029688,000017:                                                                                                 <span class="co">#  2)     FUNCTIONAL DESCRIPTION -- UPON ENTRY BY ASTRONAUT ACTION, P76 FLASHES DSKY REQUESTS TO THE ASTRONAUT</span>
029689,000018:                                                                                                 <span class="co">#         TO PROVIDE VIA DSKY (1) THE DELTA V TO BE APPLIED TO THE OTHER VEHICLE STATE VECTOR AND (2) THE</span>
029690,000019:                                                                                                 <span class="co">#         TIME (TIG) AT WHICH THE OTHER VEHICLE VELOCITY WAS CHANGED BY EXECUTION OF A THRUSTING MANEUVER. THE</span>
029691,000020:                                                                                                 <span class="co">#         OTHER VEHICLE STATE VECTOR IS INTEGRATED TO TIG AND UPDATED BY THE ADDITION OF DELTA V (DELTA V HAVING</span>
029692,000021:                                                                                                 <span class="co">#         BEEN TRANSFORMED FROM LV TO REF COSYS).  USING INTEGRVS, THE PROGRAM THEN INTEGRATES THE OTHER</span>
029693,000022:                                                                                                 <span class="co">#         VEHICLE STATE VECTOR TO THE STATE VECTOR OF THIS VEHICLE, THUS INSURING THAT THE W-MATRIX AND BOTH VEHICLE</span>
029694,000023:                                                                                                 <span class="co">#         STATES CORRESPOND TO THE SAME TIME.</span>
029695,000024:                                                                                                 <span class="co">#  3)     ERASABLE INIITIALIZATION REQUIRED -- NONE.</span>
029696,000025:                                                                                                 <span class="co">#  4)     CALLING SEQUENCES AND EXIT MODES -- CALLED BY ASTRONAUT REQUEST THRU DSKY V 37 E 76E.</span>
029697,000026:                                                                                                 <span class="co">#         EXITS BY TCF ENDOFJOB.</span>
029698,000027:                                                                                                 <span class="co">#  5)     OUTPUT -- OTHER VEHICLE STATE VECTOR INTEGRATED TO TIG AND INCREMENTED BY DELTA V IN REF COSYS.</span>
029699,000028:                                                                                                 <span class="co">#         THE PUSHLIST CONTAINS THE MATRIX BY WHICH THE INPUT DELTA V MUST BE POST-MULTIPLIED TO CONVERT FROM LV</span>
029700,000029:                                                                                                 <span class="co">#         TO REF COSYS.</span>
029701,000030:                                                                                                 <span class="co">#  6)     DEBRIS -- OTHER VEHICLE STATE VECTOR.</span>
029702,000031:                                                                                                 <span class="co">#  7)     SUBROUTINES CALLED -- BANKCALL, GOXDSPF, CSMPREC (OR LEMPREC), ATOPCSM (OR ATOPLEM), INTSTALL, INTWAKE, PHASCHNG</span>
029703,000032:                                                                                                 <span class="co">#         INTPRET, INTEGRVS, AND MINIRECT.</span>
029704,000033:                                                                                                 <span class="co">#  8)     FLAG USE -- MOONFLAG, CMOONFLG, INTYPFLG, RASFLAG, AND MARKCT.</span>
029705,000034: 
029706,000035: 30,2061                                          <span class="ps">BANK    </span> 30                                    
029707,000036: 13,2000                                          <span class="ps">SETLOC  </span> <a href="TAGS_FOR_RELATIVE_SETLOC.agc.html#5037364C4F43">P76LOC</a>                                
029708,000037: 13,2000                                          <span class="ps">BANK    </span>                                       
029709,000038: 
029710,000039: 13,2207                                          <span class="ps">COUNT*  </span> $$/<a href="#503736">P76</a>                                
029711,000040: 
029712,000041: 13,2207  E7,1441                                 <span class="ps">EBANK=  </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#544947">TIG</a>                                   
029713,000042: 
<a name="503736"></a>029714,000043: 13,2207           05504        <span class="sm">P76     </span>          <span class="op">TC      </span> <a href="SERVICE_ROUTINES.agc.html#5550464C4147">UPFLAG</a>                                
029715,000044: 13,2210           00031                          <span class="ps">ADRES   </span> <a href="FLAGWORD_ASSIGNMENTS.agc.html#545241434B464C47">TRACKFLG</a>                              
029716,000045: 
029717,000046: 13,2211           06042                          <span class="op">TC      </span> <a href="INTERPRETER.agc.html#494E5450524554">INTPRET</a>                               
029718,000047: 13,2212           77775                          <span class="in">VLOAD   </span>                                       
029719,000048: 13,2213           03434                                   <a href="ERASABLE_ASSIGNMENTS.agc.html#44454C564C5643">DELVLVC</a>                               
029720,000049: 13,2214           02223                          <span class="in">STORE   </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#44454C564F56">DELVOV</a>                                
029721,000050: 13,2215           77776                          <span class="in">EXIT    </span>                                       
029722,000051: 
029723,000052: 13,2216           32335                          <span class="op">CAF     </span> <a href="#5630364E3834">V06N84</a>     +1                         <span class="co">#  FLASH VERB 06 NOUN 33, DISPLAY LAST TIG,</span>
029724,000053: 13,2217           04616                          <span class="op">TC      </span> <a href="INTER-BANK_COMMUNICATION.agc.html#42414E4B43414C4C">BANKCALL</a>                              <span class="co">#  AND WAIT FOR KEYBOARD ACTION.</span>
029725,000054: 13,2220           20477                          <span class="ps">CADR    </span> <a href="DISPLAY_INTERFACE_ROUTINES.agc.html#474F464C415348">GOFLASH</a>                               
029726,000055: 13,2221           12331                          <span class="op">TCF     </span> <a href="#454E44503736">ENDP76</a>                                
029727,000056: 13,2222           02224                          <span class="op">TC      </span> +2                                    <span class="co">#  PROCEED</span>
029728,000057: 13,2223           02216                          <span class="op">TC      </span> -5                                    <span class="co">#  STORE DATA AND REPEAT FLASHING</span>
029729,000058: 13,2224           32334                          <span class="op">CAF     </span> <a href="#5630364E3834">V06N84</a>                                <span class="co">#  FLASH LAST DELTA V,</span>
029730,000059: 13,2225           04616                          <span class="op">TC      </span> <a href="INTER-BANK_COMMUNICATION.agc.html#42414E4B43414C4C">BANKCALL</a>                              <span class="co">#  AND WAIT FOR KEYBOARD ACTION.</span>
029731,000060: 13,2226           20477                          <span class="ps">CADR    </span> <a href="DISPLAY_INTERFACE_ROUTINES.agc.html#474F464C415348">GOFLASH</a>                               
029732,000061: 13,2227           12331                          <span class="op">TCF     </span> <a href="#454E44503736">ENDP76</a>                                
029733,000062: 13,2230           02232                          <span class="op">TC      </span> +2                                    
029734,000063: 13,2231           02224                          <span class="op">TC      </span> -5                                    
029735,000064: 13,2232           06042                          <span class="op">TC      </span> <a href="INTERPRETER.agc.html#494E5450524554">INTPRET</a>                               <span class="co">#  RETURN TO INTERPRETIVE CODE</span>
029736,000065:                                                                                                 <span class="co">#  Page 717</span>
029737,000066: 13,2233           43145                          <span class="in">DLOAD   </span> <span class="in">SET       </span>                            
029738,000067: 13,2234           03442                                   <a href="ERASABLE_ASSIGNMENTS.agc.html#544947">TIG</a>                                   
029739,000068: 13,2235           01076                                   <a href="FLAGWORD_ASSIGNMENTS.agc.html#4E4F444F464C4147">NODOFLAG</a>                              
029740,000069: 13,2236           34041                          <span class="in">STCALL  </span> <a href="ORBITAL_INTEGRATION.agc.html#5444454331">TDEC1</a>                                 <span class="co">#  SET TDEC1=TIG FOR ORBITAL INTEGRATION</span>
029741,000070: 13,2237           27042                                   <a href="TAGS_FOR_RELATIVE_SETLOC.agc.html#4F544850524543">OTHPREC</a>                               
<a name="434F4D504D4154"></a>029742,000071: 13,2240           53575        <span class="sm">COMPMAT </span>          <span class="in">VLOAD   </span> <span class="in">UNIT      </span>                            
029743,000072: 13,2241           00001                                   <a href="ORBITAL_INTEGRATION.agc.html#52415454">RATT</a>                                  
029744,000073: 13,2242           77676                          <span class="in">VCOMP   </span>                                       <span class="co">#  U(-R)</span>
029745,000074: 13,2243           00031                          <span class="in">STORE   </span> 24D                                   <span class="co">#  U(-R) TO 24D</span>
029746,000075: 13,2244           53435                          <span class="in">VXV     </span> <span class="in">UNIT      </span>                            <span class="co">#  U(-R) X V = U(V X R)</span>
029747,000076: 13,2245           00007                                   <a href="ORBITAL_INTEGRATION.agc.html#56415454">VATT</a>                                  
029748,000077: 13,2246           00023                          <span class="in">STORE   </span> 18D                                   
029749,000078: 13,2247           53435                          <span class="in">VXV     </span> <span class="in">UNIT      </span>                            <span class="co">#  U(V X R) X U(-R) = U((R X V) X R)</span>
029750,000079: 13,2250           00031                                   24D                                   
029751,000080: 13,2251           24015                          <span class="in">STOVL   </span> 12D                                   
029752,000081: 13,2252           02223                                   <a href="ERASABLE_ASSIGNMENTS.agc.html#44454C564F56">DELVOV</a>                                
029753,000082: 13,2253           76505                          <span class="in">VXM     </span> <span class="in">VSL1      </span>                            <span class="co">#  V(MPAC)=DELTA V IN REFCOSYS</span>
029754,000083: 13,2254           00015                                   12D                                   
029755,000084: 13,2255           77655                          <span class="in">VAD     </span>                                       
029756,000085: 13,2256           00007                                   <a href="ORBITAL_INTEGRATION.agc.html#56415454">VATT</a>                                  
029757,000086: 13,2257           00007                          <span class="in">STORE   </span> 6                                     <span class="co">#  V(PD6)=VATT + DELTA V</span>
029758,000087: 13,2260           77624                          <span class="in">CALL    </span>                                       <span class="co">#  PRESENT WOULD-BE USER OF ORBITAL</span>
029759,000088: 13,2261           27410                                   <a href="INTEGRATION_INITIALIZATION.agc.html#494E545354414C4C">INTSTALL</a>                              <span class="co">#  INTEG FROM INTERFERING WITH UPDATING</span>
029760,000089: 13,2262           77624                          <span class="in">CALL    </span>                                       
029761,000090: 13,2263           26336                                   <a href="#50373653554231">P76SUB1</a>                               
029762,000091: 13,2264           53775                          <span class="in">VLOAD   </span> <span class="in">VSR*      </span>                            
029763,000092: 13,2265           00007                                   6                                     
029764,000093: 13,2266           57176                                   0,2                                   
029765,000094: 13,2267           25543                          <span class="in">STOVL   </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#564356">VCV</a>                                   
029766,000095: 13,2270           00001                                   <a href="ORBITAL_INTEGRATION.agc.html#52415454">RATT</a>                                  
029767,000096: 13,2271           77657                          <span class="in">VSR*    </span>                                       
029768,000097: 13,2272           57176                                   0,2                                   
029769,000098: 13,2273           15535                          <span class="in">STODL   </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#524356">RCV</a>                                   
029770,000099: 13,2274           03442                                   <a href="ERASABLE_ASSIGNMENTS.agc.html#544947">TIG</a>                                   
029771,000100: 13,2275           01517                          <span class="in">STORE   </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#544554">TET</a>                                   
029772,000101: 13,2276           71214                          <span class="in">CLEAR   </span> <span class="in">DLOAD     </span>                            
029773,000102: 13,2277           01673                                   <a href="FLAGWORD_ASSIGNMENTS.agc.html#494E545950464C47">INTYPFLG</a>                              
029774,000103: 13,2300           01643                                   <a href="ERASABLE_ASSIGNMENTS.agc.html#54455454484953">TETTHIS</a>                               
<a name="494E544F54484953"></a>029775,000104: 13,2301           34041        <span class="sm">INTOTHIS</span>          <span class="in">STCALL  </span> <a href="ORBITAL_INTEGRATION.agc.html#5444454331">TDEC1</a>                                 
029776,000105: 13,2302           27106                                   <a href="INTEGRATION_INITIALIZATION.agc.html#494E544547525653">INTEGRVS</a>                              
029777,000106: 13,2303           77624                          <span class="in">CALL    </span>                                       
029778,000107: 13,2304           27410                                   <a href="INTEGRATION_INITIALIZATION.agc.html#494E545354414C4C">INTSTALL</a>                              
029779,000108: 13,2305           77775                          <span class="in">VLOAD   </span>                                       
029780,000109: 13,2306           00017                                   <a href="ORBITAL_INTEGRATION.agc.html#5241545431">RATT1</a>                                 
029781,000110: 13,2307           01503                          <span class="in">STORE   </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#5252454354">RRECT</a>                                 
029782,000111: 13,2310           15535                          <span class="in">STODL   </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#524356">RCV</a>                                   
029783,000112: 13,2311           00015                                   <a href="ORBITAL_INTEGRATION.agc.html#544154">TAT</a>                                   
029784,000113: 13,2312           25517                          <span class="in">STOVL   </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#544554">TET</a>                                   
029785,000114: 13,2313           00025                                   <a href="ORBITAL_INTEGRATION.agc.html#5641545431">VATT1</a>                                 
029786,000115: 13,2314           77624                          <span class="in">CALL    </span>                                       
029787,000116:                                                                                                 <span class="co">#  Page 718</span>
029788,000117: 13,2315           27705                                   <a href="ORBITAL_INTEGRATION.agc.html#4D494E4952454354">MINIRECT</a>                              
029789,000118: 13,2316           77776                          <span class="in">EXIT    </span>                                       
029790,000119: 13,2317           05353                          <span class="op">TC      </span> <a href="PHASE_TABLE_MAINTENANCE.agc.html#5048415343484E47">PHASCHNG</a>                              
029791,000120: 13,2320           04024                          <span class="ps">OCT     </span> 04024                                 
029792,000121: 
029793,000122: 13,2321           06042                          <span class="op">TC      </span> <a href="INTERPRETER.agc.html#494E5450524554">INTPRET</a>                               
029794,000123: 13,2322           45014                          <span class="in">SET     </span> <span class="in">CALL      </span>                            
029795,000124: 13,2323           05070                                   <a href="FLAGWORD_ASSIGNMENTS.agc.html#5245494E54464C47">REINTFLG</a>                              
029796,000125: 13,2324           26660                                   <a href="TAGS_FOR_RELATIVE_SETLOC.agc.html#41544F504F5448">ATOPOTH</a>                               
029797,000126: 13,2325           77624                          <span class="in">CALL    </span>                                       
029798,000127: 13,2326           27417                                   <a href="INTEGRATION_INITIALIZATION.agc.html#494E5457414B4530">INTWAKE0</a>                              
<a name="4F5554"></a>029799,000128: 13,2327           77414        <span class="sm">OUT     </span>          <span class="in">CLEAR   </span> <span class="in">EXIT      </span>                            <span class="co">#  ALLOW V37.  NO NEED TO CLEAR NODOFLAG AT</span>
029800,000129: 13,2330           01276                                   <a href="FLAGWORD_ASSIGNMENTS.agc.html#4E4F444F464C4147">NODOFLAG</a>                              <span class="co">#  ENDP76 SINCE FLAG NOT SET WHEN DISPLAY</span>
029801,000130:                                                                                                 <span class="co">#  RESPONSES TRANSFER THERE FROM P76+.</span>
<a name="454E44503736"></a>029802,000131: 13,2331           34755        <span class="sm">ENDP76  </span>          <span class="op">CAF     </span> <a href="FIXED_FIXED_CONSTANT_POOL.agc.html#5A45524F">ZERO</a>                                  
029803,000132: 13,2332           55462                          <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4D41524B435452">MARKCTR</a>                               <span class="co">#  CLEAR RR TRACKING MARK COUNTER</span>
029804,000133: 13,2333           16001                          <span class="op">TCF     </span> <a href="FRESH_START_AND_RESTART.agc.html#474F544F50303048">GOTOP00H</a>                              
029805,000134: 
<a name="5630364E3834"></a>029806,000135: 13,2334           01524        <span class="sm">V06N84  </span>          <span class="ps">NV      </span> 0684                                  
029807,000136: 13,2335           01441                          <span class="ps">NV      </span> 0633                                  
<a name="50373653554231"></a>029808,000137: 13,2336           43174        <span class="sm">P76SUB1 </span>          <span class="in">AXT,2   </span> <span class="in">SET       </span>                            
029809,000138: 13,2337           00002                                   2                                     
029810,000139: 13,2340           00063                                   <a href="FLAGWORD_ASSIGNMENTS.agc.html#4D4F4F4E464C4147">MOONFLAG</a>                              <span class="co">#  SET MEANS MOON IS SPHERE OF INFLUENCE.</span>
029811,000140: 13,2341           77014                          <span class="in">BON     </span> <span class="in">AXT,2     </span>                            
029812,000141: 13,2342           04303                                   <a href="FLAGWORD_ASSIGNMENTS.agc.html#434D4F4F4E464C47">CMOONFLG</a>                              <span class="co">#  SET MEANS PERM CM STATE IN LUNAR SPHERE.</span>
029813,000142: 13,2343           00052                                   <a href="ERASABLE_ASSIGNMENTS.agc.html#5150524554">QPRET</a>                                 
029814,000143: 13,2344           00000                                   0                                     
029815,000144: 13,2345           43414                          <span class="in">CLEAR   </span> <span class="in">RVQ       </span>                            
029816,000145: 13,2346           00263                                   <a href="FLAGWORD_ASSIGNMENTS.agc.html#4D4F4F4E464C4147">MOONFLAG</a>                              
029817,000146: 
029818,000147: 
029819,000148: 

End of include-file P76.agc.  Parent file is <a href="MAIN.agc.html">MAIN.agc</a>
</pre>
</span>
</p>
</body>
</html>
