<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta content="text/html;charset=ISO-8859-1" http-equiv="Content-Type">
<title>Assembly listing generated by yaYUL</title>
<style type="text/css">
p.nobreak { white-space:nowrap; }
a { text-decoration:none; }
a:visited { COLOR: #000850; }
</style>
<style type="text/css">
.op{
font-weight: bold;
color: #993300;
}
</style>
<style type="text/css">
.dn{
color: #009900;
}
</style>
<style type="text/css">
.fe{
color: #FF0000;
}
</style>
<style type="text/css">
.in{
color: #FF6600;
}
</style>
<style type="text/css">
.ps{
color: #336600;
}
</style>
<style type="text/css">
.sm{
color: #0000FF;
}
</style>
<style type="text/css">
.wn{
color: #FF9900;
}
</style>
<style type="text/css">
.co{
font-style: italic;
color: #993399;
}
</style>
</head>
<body>
<p class="nobreak">
<span style="font-family: monospace;">
<pre>
<h1>Source Code</h1>
015273,000001:                                                                                                 <span class="co">#  Copyright:     Public domain.</span>
015274,000002:                                                                                                 <span class="co">#  Filename:      SYSTEM_TEST_STANDARD_LEAD_INS.agc</span>
015275,000003:                                                                                                 <span class="co">#  Purpose:       A section of Luminary 1C, revision 131.</span>
015276,000004:                                                                                                 <span class="co">#                 It is part of the source code for the Lunar Module's (LM)</span>
015277,000005:                                                                                                 <span class="co">#                 Apollo Guidance Computer (AGC) for Apollo 13 and Apollo 14.</span>
015278,000006:                                                                                                 <span class="co">#                 This file is intended to be a faithful transcription, except</span>
015279,000007:                                                                                                 <span class="co">#                 that the code format has been changed to conform to the</span>
015280,000008:                                                                                                 <span class="co">#                 requirements of the yaYUL assembler rather than the </span>
015281,000009:                                                                                                 <span class="co">#                 original YUL assembler.</span>
015282,000010:                                                                                                 <span class="co">#  Reference:     pp. 377-379 of 1729.pdf.</span>
015283,000011:                                                                                                 <span class="co">#  Contact:       Ron Burkey &lt;info@sandroid.org>.</span>
015284,000012:                                                                                                 <span class="co">#  Website:       www.ibiblio.org/apollo/index.html</span>
015285,000013:                                                                                                 <span class="co">#  Mod history:   05/11/03 RSB.   Began transcribing.</span>
015286,000014:                                                                                                 <span class="co">#                 05/14/05 RSB    Corrected website reference above.</span>
015287,000015: 
015288,000016:                                                                                                 <span class="co">#  Page 377</span>
015289,000017: 22,3242  E5,1642                                 <span class="ps">EBANK=  </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#58534D">XSM</a>                                   
015290,000018: 
015291,000019: 33,2045                                          <span class="ps">BANK    </span> 33                                    
015292,000020: 04,2000                                          <span class="ps">SETLOC  </span> <a href="TAGS_FOR_RELATIVE_SETLOC.agc.html#452F50524F47">E/PROG</a>                                
015293,000021: 04,2000                                          <span class="ps">BANK    </span>                                       
015294,000022: 
015295,000023: 04,2562                                          <span class="ps">COUNT*  </span> $$/P07                                
015296,000024: 
015297,000025:                                                                                                 <span class="co">#  SPECIAL PROGRAMS TO EASE THE PANGS OF ERASABLE MEMORY PROGRAMS.</span>
015298,000026: 
015299,000027:                                                                                                 <span class="co">#  E/BKCALL       FOR DOING BANKCALLS FROM AND RETURNING TO ERASABLE.</span>
015300,000028: 
015301,000029:                                                                                                 <span class="co">#  THIS ROUTINE IS CALLABLE FROM ERASABLE RO FIXED.  LIKE BANKCALL, HOWEVER, SWITCHING BETWEEN S3 AND S4</span>
015302,000030:                                                                                                 <span class="co">#  IS NOT POSSIBLE.</span>
015303,000031: 
015304,000032:                                                                                                 <span class="co">#  THE CALLING SEQUENCE IS</span>
015305,000033: 
015306,000034:                                                                                                 <span class="co">#         TC      BANKCALL</span>
015307,000035:                                                                                                 <span class="co">#         CADR    E/BKCALL</span>
015308,000036:                                                                                                 <span class="co">#         CADR    ROUTINE         # WHERE TO WANT TO GO IN FIXED.</span>
015309,000037:                                                                                                 <span class="co">#         RETURN HERE FROM DISPLAY TERMINATE, BADD STALL OR TC Q.</span>
015310,000038:                                                                                                 <span class="co">#         RETURN HERE FROM DISPLAY PROCEED OR GOOD RETURN FROM STALL.</span>
015311,000039:                                                                                                 <span class="co">#         RETURN HERE FROM DISPLAY ENTER OR RECYCLE.</span>
015312,000040: 
015313,000041:                                                                                                 <span class="co">#  THIS ROUTINE REQUIRES TWO ERASABLES (EBUF2, +1) IN UNSWITCHED WHICH ARE UNSHARED BY INTERRUPTS AND</span>
015314,000042:                                                                                                 <span class="co">#  OTHER EMEMORY PROGRAMS.</span>
015315,000043: 
015316,000044:                                                                                                 <span class="co">#  A + L ARE PRESERVED THROUGH BANKCALL AND E/BKCALL.</span>
015317,000045: 
<a name="452F424B43414C4C"></a>015318,000046: 04,2562           52134        <span class="sm">E/BKCALL</span>          <span class="op">DXCH    </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#42554632">BUF2</a>                                  <span class="co">#  SAVE A,L AND GET DP RETURN</span>
015319,000047: 04,2563           53167                          <span class="op">DXCH    </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4542554632">EBUF2</a>                                 <span class="co">#  SAVE DP RETURN.</span>
015320,000048: 04,2564           25166                          <span class="op">INCR    </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4542554632">EBUF2</a>                                 <span class="co">#  RETURN +1 BECAUSE DOUBLE CADR.</span>
015321,000049: 04,2565           30006                          <span class="op">CA      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4242414E4B">BBANK</a>                                 
015322,000050: 04,2566           75012                          <span class="op">MASK    </span> <a href="FIXED_FIXED_CONSTANT_POOL.agc.html#4C4F573130">LOW10</a>                                 <span class="co">#  GET CURRENT EBANK.  (SBANK SOMEDAY)</span>
015323,000051: 04,2567           27167                          <span class="op">ADS     </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4542554632">EBUF2</a>      +1                         <span class="co">#  FORM BBCON.  (WAS FBANK)</span>
015324,000052: 04,2570           51166                          <span class="op">NDX     </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4542554632">EBUF2</a>                                 
015325,000053: 04,2571           27777                          <span class="op">CA      </span> 0          -1                         <span class="co">#  GET CADR OF ROUTINE.</span>
015326,000054: 04,2572           04622                          <span class="op">TC      </span> <a href="INTER-BANK_COMMUNICATION.agc.html#535743414C4C">SWCALL</a>                                <span class="co">#  GO TO ROUTINE, SETTING Q TO SWRETURN</span>
015327,000055:                                                                                                 <span class="co">#  AND RESTORING A + L.</span>
015328,000056: 04,2573           02577                          <span class="op">TC      </span> +4                                    <span class="co">#  TX Q, V34, OR BADD STALL RETURN.</span>
015329,000057: 04,2574           02576                          <span class="op">TC      </span> +2                                    <span class="co">#  PROCEED OR GOOD STALL RETURN.</span>
015330,000058: 04,2575           25166                          <span class="op">INCR    </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4542554632">EBUF2</a>                                 <span class="co">#  ENTER OR RECYCLE RETURN</span>
015331,000059: 04,2576           25166                          <span class="op">INCR    </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4542554632">EBUF2</a>                                 
<a name="452F535749544348"></a>015332,000060: 04,2577           53167        <span class="sm">E/SWITCH</span>          <span class="op">DXCH    </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4542554632">EBUF2</a>                                 
015333,000061: 04,2600           52006                          <span class="op">DTCB    </span>                                       
015334,000062: 
015335,000063:                                                                                                 <span class="co">#  Page 378</span>
015336,000064:                                                                                                 <span class="co">#  E/CALL FOR CALLING A FIXED MEMORY INTERPRETIVE SUBROUTINE FROM ERASABLE AND RETURNING TO ERASABLE.</span>
015337,000065: 
015338,000066:                                                                                                 <span class="co">#  THE CALLING SEQUENCE IS...</span>
015339,000067: 
015340,000068:                                                                                                 <span class="co">#         RTB</span>
015341,000069:                                                                                                 <span class="co">#                 E/CALL</span>
015342,000070:                                                                                                 <span class="co">#         CADR    ROUTINE                 # THE INTERPRETIVE SUBROUTINE YOU WANT</span>
015343,000071:                                                                                                 <span class="co">#                                         # RETURNS HERE IN INTERPRETIVE.</span>
015344,000072: 
<a name="452F43414C4C"></a>015345,000073: 04,2601           22164        <span class="sm">E/CALL  </span>          <span class="op">LXCH    </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4C4F43">LOC</a>                                   <span class="co">#  ADRES -1 OF CADR.</span>
015346,000074: 04,2602           50001                          <span class="op">INDEX   </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4C">L</a>                                     
015347,000075: 04,2603           30001                          <span class="op">CA      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4C">L</a>                                     <span class="co">#  CADR IN A.</span>
015348,000076: 04,2604           24001                          <span class="op">INCR    </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4C">L</a>                                     
015349,000077: 04,2605           24001                          <span class="op">INCR    </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4C">L</a>                                     <span class="co">#  RETURN ADRES IN L.</span>
015350,000078: 04,2606           53167                          <span class="op">DXCH    </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4542554632">EBUF2</a>                                 <span class="co">#  STORE CADR AND RETURN</span>
015351,000079: 04,2607           06042                          <span class="op">TC      </span> <a href="INTERPRETER.agc.html#494E5450524554">INTPRET</a>                               
015352,000080: 04,2610           77624                          <span class="in">CALL    </span>                                       
015353,000081: 04,2611           01166                                   <a href="ERASABLE_ASSIGNMENTS.agc.html#4542554632">EBUF2</a>                                 <span class="co">#  INDIRECTLY EXECUTE ROUTING.  IT MUST</span>
015354,000082: 04,2612           77776                          <span class="in">EXIT    </span>                                       <span class="co">#  LEAVE VIA RVQ OR EQUIVALENT.</span>
015355,000083: 04,2613           23167                          <span class="op">LXCH    </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4542554632">EBUF2</a>      +1                         <span class="co">#  PICK UP RETURN.</span>
015356,000084: 04,2614           16044                          <span class="op">TCF     </span> <a href="INTERPRETER.agc.html#494E5450524554">INTPRET</a>    +2                         <span class="co">#  SET LOC AND RETURN TO CALLER.</span>
015357,000085: 
015358,000086:                                                                                                 <span class="co">#  Page 379</span>
015359,000087:                                                                                                 <span class="co">#  E/JOBWAK       FOR WAKING UP ERASABLE MEMORY JOBS.</span>
015360,000088: 
015361,000089:                                                                                                 <span class="co">#  THIS ROUTINE MUST BE CALLED IN INTERRUPT OR WITH INTERRUPTS INHIBITED.</span>
015362,000090: 
015363,000091:                                                                                                 <span class="co">#  THE CALLING SEQUENCE IS</span>
015364,000092: 
015365,000093:                                                                                                 <span class="co">#         INHINT</span>
015366,000094:                                                                                                 <span class="co">#         ...</span>
015367,000095:                                                                                                 <span class="co">#         CA      WAKEADR         # ADDRESS OF SLEEPING JOB</span>
015368,000096:                                                                                                 <span class="co">#         TC      IBNKCALL</span>
015369,000097:                                                                                                 <span class="co">#         CADR    E/JOBWAK</span>
015370,000098:                                                                                                 <span class="co">#         ...                     # RETURNS HERE</span>
015371,000099:                                                                                                 <span class="co">#         RELINT                  # IF YOU DID AND INHINT</span>
015372,000100: 
015373,000101: 33,2045                                          <span class="ps">BANK    </span> 33                                    
015374,000102: 04,2000                                          <span class="ps">SETLOC  </span> <a href="TAGS_FOR_RELATIVE_SETLOC.agc.html#452F50524F47">E/PROG</a>                                
015375,000103: 04,2000                                          <span class="ps">BANK    </span>                                       
015376,000104: 
015377,000105: 04,2615                                          <span class="ps">COUNT*  </span> $$/P07                                
015378,000106: 
<a name="452F4A4F4257414B"></a>015379,000107: 04,2615           05137        <span class="sm">E/JOBWAK</span>          <span class="op">TC      </span> <a href="EXECUTIVE.agc.html#4A4F4257414B45">JOBWAKE</a>                               <span class="co">#  ARRIVE WITH ADRES IN A (?garbled)</span>
015380,000108: 04,2616           44741                          <span class="op">CS      </span> <a href="FIXED_FIXED_CONSTANT_POOL.agc.html#4249543131">BIT11</a>                                 
015381,000109: 04,2617           50064                          <span class="op">NDX     </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4C4F43435452">LOCCTR</a>                                
015382,000110: 04,2620           26164                          <span class="op">ADS     </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4C4F43">LOC</a>                                   <span class="co">#  KNOCK FIXED MEMORY BIT OUT OF ADRES.</span>
015383,000111: 04,2621           00072                          <span class="op">TC      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#5255505452454733">RUPTREG3</a>                              <span class="co">#  RETURN</span>
015384,000112: 

End of include-file SYSTEM_TEST_STANDARD_LEAD_INS.agc.  Parent file is <a href="MAIN.agc.html">MAIN.agc</a>
</pre>
</span>
</p>
</body>
</html>
