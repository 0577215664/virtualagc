<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta content="text/html;charset=ISO-8859-1" http-equiv="Content-Type">
<title>Assembly listing generated by yaYUL</title>
<style type="text/css">
p.nobreak { white-space:nowrap; }
a { text-decoration:none; }
a:visited { COLOR: #000850; }
</style>
<style type="text/css">
.op{
font-weight: bold;
color: #993300;
}
</style>
<style type="text/css">
.dn{
color: #009900;
}
</style>
<style type="text/css">
.fe{
color: #FF0000;
}
</style>
<style type="text/css">
.in{
color: #FF6600;
}
</style>
<style type="text/css">
.ps{
color: #336600;
}
</style>
<style type="text/css">
.sm{
color: #0000FF;
}
</style>
<style type="text/css">
.wn{
color: #FF9900;
}
</style>
<style type="text/css">
.co{
font-style: italic;
color: #993399;
}
</style>
</head>
<body>
<p class="nobreak">
<span style="font-family: monospace;">
<pre>
<h1>Source Code</h1>
</pre>
</span>
</p>
<table style="text-align: left;" border="1" cellpadding="2" cellspacing="2">
<tbody>
<tr>
<td style="white-space: nowrap; vertical-align: middle;">
<img alt="" src="Apollo32.png" style="width: 32px; height: 32px;" align="left">
</td>
<td style="vertical-align: middle;">
This source code is very close to the Apollo Guidance Computer software for the 
Apollo 13 Lunar module.  This revision of the Luminary 131 program is from December
of 1969, whereas there was a later revision in January of 1970, and still another
revision in February, which is the code that flew on the mission.
As far as this transcription is concerned, it was originally from a copy made in 1991 of 
a printout from the collection of AGC developer Don Eyles for collector David Craig.
It was subsequently scanned by Gary Neff, reprocessed for online 
presentation at the now-discontinued History of Recent Science and Technology (HRST) website
of MIT's Dibner Institute (the full-quality scans being discarded in the process),
and finally transcribed by Ron Burkey for the Virtual AGC Project.  Although a
high-quality replacement scan for a completely illegible page was later provided by Gary
Neff, the reduced legibility of the reprocessed HRST posting nevertheless caused many 
errors to be introduced into the transcription.  Accordingly, a second scan of the same physical
printout was made in 2017 for the Virtual AGC Project's collection at the Internet Archive,
and used to correct the transcription errors. All of the scanned materials mentioned,
as well as other Luminary 131 related material, are <a href="../../Luminary.html#Luminary131">available online</a>.
Don Eyles apprently made additional hand-written notes in printout between 1991 and 2017,
so the two scans are not identical in that respect. The page-headings in the printout read, in part:<br>
<pre>
	GAP:  ASSEMBLE REVISION 131 OF AGC PROGRAM LUMINARY BY NASA 2021112-091
	17:53 DEC. 19, 1969
</pre>
Note that the date is the date the printout was made, not the date on which the program
revision was released, although these happen to be very close together.
</td></tr></tbody></table>

<p class="nobreak">
<span style="font-family: monospace;">
<pre>
033421,000002:                                                                                                  <span class="co">## Copyright:   Public domain.</span>
033422,000003:                                                                                                  <span class="co">## Filename:    THROTTLE_CONTROL_ROUTINES.agc</span>
033423,000004:                                                                                                  <span class="co">## Purpose:     A section of Luminary 1C, revision 131.</span>
033424,000005:                                                                                                  <span class="co">##              It is part of the source code for the Lunar Module's (LM)</span>
033425,000006:                                                                                                  <span class="co">##              Apollo Guidance Computer (AGC) for Apollo 13.</span>
033426,000007:                                                                                                  <span class="co">##              This file is intended to be a faithful transcription, except</span>
033427,000008:                                                                                                  <span class="co">##              that the code format has been changed to conform to the</span>
033428,000009:                                                                                                  <span class="co">##              requirements of the yaYUL assembler rather than the</span>
033429,000010:                                                                                                  <span class="co">##              original YUL assembler.</span>
033430,000011:                                                                                                  <span class="co">## Reference:   pp. 788-792</span>
033431,000012:                                                                                                  <span class="co">## Contact:     Ron Burkey &lt;info@sandroid.org>.</span>
033432,000013:                                                                                                  <span class="co">## Website:     www.ibiblio.org/apollo/index.html</span>
033433,000014:                                                                                                  <span class="co">## Mod history: 05/24/03 RSB.   Began transcribing.</span>
033434,000015:                                                                                                  <span class="co">##              05/14/05 RSB    Corrected website reference above.</span>
033435,000016:                                                                                                  <span class="co">##              2017-01-06 RSB  Page numbers now agree with those on the</span>
033436,000017:                                                                                                  <span class="co">##                              original hardcopy, as opposed to the PDF page</span>
033437,000018:                                                                                                  <span class="co">##                              numbers in 1701.pdf.</span>
033438,000019:                                                                                                  <span class="co">##              2017-02-25 RSB  Proofed comment text using octopus/ProoferComments.</span>
033439,000020: 
</pre>
</span>
</p>
<table style="text-align: left;" border="1" cellpadding="2" cellspacing="2">
<tbody>
<tr>
<td style="white-space: nowrap; vertical-align: middle;">
<img alt="" src="Apollo32.png" style="width: 32px; height: 32px;" align="left">
</td>
<td style="vertical-align: middle;">
Page 788
</td></tr></tbody></table>
<p class="nobreak">
<span style="font-family: monospace;">
<pre>
033441,000022: 31,2144                                           <span class="ps">BANK    </span> 31                                    
033442,000023: 31,2000                                           <span class="ps">SETLOC  </span> <a href="TAGS_FOR_RELATIVE_SETLOC_AND_BLANK_BANK_CARDS.agc.html#465448524F54">FTHROT</a>                                
033443,000024: 31,2000                                           <span class="ps">BANK    </span>                                       
033444,000025: 31,2144  E7,1612                                  <span class="ps">EBANK=  </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#504946">PIF</a>                                   
033445,000026: 31,2144                                           <span class="ps">COUNT*  </span> $$/THROT                              
033446,000027: 
033447,000028:                                                                                                  <span class="co">#  * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *</span>
033448,000029:                                                                                                  <span class="co">#  HERE FC, DESIRED THRUST, AND FP, PRESENT THRUST, UNWEIGHTED, ARE COMPUTED.</span>
033449,000030: 
<a name="5448524F54544C45"></a>033450,000031: 31,2144           31245        <span class="sm">THROTTLE</span>           <span class="op">CA      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#414244454C56">ABDELV</a>                                <span class="co">#  COMPUTE PRESENT ACCELERATION IN UNITS OF</span>
033451,000032: 31,2145           00006                           <span class="op">EXTEND  </span>                                       <span class="co">#  2(-4) M/CS/CS, SAVING SERVICER TROUBLE</span>
033452,000033: 31,2146           72356                           <span class="op">MP      </span> <a href="#2F41462F434E5354">/AF/CNST</a>                              
033453,000034: 31,2147           00006                 +3        <span class="op">EXTEND  </span>                                       
033454,000035: 31,2150           23607                           <span class="op">QXCH    </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#52544E484F4C44">RTNHOLD</a>                               
<a name="414644554D50"></a>033455,000036: 31,2151           02337        <span class="sm">AFDUMP  </span>           <span class="op">TC      </span> <a href="#4D4153534D554C54">MASSMULT</a>                              
033456,000037: 31,2152           53470                           <span class="op">DXCH    </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4650">FP</a>                                    <span class="co">#  FP = PRESENT THRUST</span>
033457,000038: 31,2153           00006                           <span class="op">EXTEND  </span>                                       
033458,000039: 31,2154           31464                           <span class="op">DCA     </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#2F4146432F">/AFC/</a>                                 
033459,000040: 31,2155           02337                           <span class="op">TC      </span> <a href="#4D4153534D554C54">MASSMULT</a>                              
033460,000041: 31,2156           55615                           <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4643">FC</a>                                    <span class="co">#  FC = THRUST DESIRED BY GUIDANCE</span>
033461,000042: 31,2157           53466                           <span class="op">DXCH    </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#46434F4444">FCODD</a>                                 <span class="co">#  FCODD = WHAT IT IS GOING TO GET</span>
033462,000043: 
033463,000044:                                                                                                  <span class="co">#  COMPUTE DESIRED THRUST FOR DISPLAY AS A PERCENTAGE OF 10,500 POUNDS</span>
033464,000045: 
033465,000046: 31,2160           32360                           <span class="op">CAF     </span> <a href="#34464D41584E4F4D">4FMAXNOM</a>                              <span class="co">#  MOVE 4FMAXNOM TO ERASABLE FOR DV BELOW</span>
033466,000047: 31,2161           54002                           <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#51">Q</a>                                     
033467,000048: 31,2162           31615                           <span class="op">CA      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4643">FC</a>                                    
033468,000049: 31,2163           72357                           <span class="op">MASK    </span> <a href="#4F43543137373737">OCT17777</a>                              <span class="co">#  FOR SAFETY</span>
033469,000050: 31,2164           00006                           <span class="op">EXTEND  </span>                                       
033470,000051: 31,2165           10002                           <span class="op">DV      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#51">Q</a>                                     
033471,000052: 31,2166           00006                           <span class="op">EXTEND  </span>                                       
033472,000053: 31,2167           75003                           <span class="op">MP      </span> <a href="FIXED-FIXED_CONSTANT_POOL.agc.html#3453454353">4SECS</a>                                 
033473,000054: 31,2170           55750                           <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#54485244495350">THRDISP</a>                               <span class="co">#  FOR DISPLAY IN N92</span>
033474,000055: 
033475,000056:                                                                                                  <span class="co">#  IF IT HAS BEEN LESS THAN 3 SECONDS SINCE THE LAST THROTTLING, AUGMENT FP USING THE FWEIGHT CALCULATED THEN.</span>
033476,000057: 
033477,000058: 31,2171           41617                           <span class="op">CS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#545448524F54">TTHROT</a>                                <span class="co">#  THIS CODING ASSUMES A FLATOUT WITHIN</span>
033478,000059: 31,2172           60025                           <span class="op">AD      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#54494D4531">TIME1</a>                                 <span class="co">#        80 SECONDS BEFORE FIRST THROTTLE CALL</span>
033479,000060: 31,2173           74733                           <span class="op">MASK    </span> <a href="FIXED-FIXED_CONSTANT_POOL.agc.html#504F534D4158">POSMAX</a>                                
033480,000061: 31,2174           40000                           <span class="op">COM     </span>                                       
033481,000062: 31,2175           65002                           <span class="op">AD      </span> <a href="FIXED-FIXED_CONSTANT_POOL.agc.html#3353454353">3SECS</a>                                 
033482,000063: 31,2176           00006                           <span class="op">EXTEND  </span>                                       
033483,000064: 31,2177           62203                           <span class="op">BZMF    </span> <a href="#5748455245544F">WHERETO</a>                               <span class="co">#  BRANCH IF (TIME1-TTHROT +1) > 3 SECONDS</span>
</pre>
</span>
</p>
<table style="text-align: left;" border="1" cellpadding="2" cellspacing="2">
<tbody>
<tr>
<td style="white-space: nowrap; vertical-align: middle;">
<img alt="" src="Apollo32.png" style="width: 32px; height: 32px;" align="left">
</td>
<td style="vertical-align: middle;">
Page 789
</td></tr></tbody></table>
<p class="nobreak">
<span style="font-family: monospace;">
<pre>
033485,000066: 31,2200           00006                           <span class="op">EXTEND  </span>                                       
033486,000067: 31,2201           31611                           <span class="op">DCA     </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#46574549474854">FWEIGHT</a>                               
033487,000068: 31,2202           21470                           <span class="op">DAS     </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4650">FP</a>                                    
033488,000069: 
033489,000070:                                                                                                  <span class="co">#  THIS LOGIC DETERMINES THE THROTTLING IN THE REGION 10% - 94%.  THE MANUAL THROTTLE, NOMINALLY SET AT</span>
033490,000071:                                                                                                  <span class="co">#  MINIMUM BY ASTRONAUT OR MISSION CONTROL PROGRAMS, PROVIDES THE LOWER BOUND.  A STOP IN THE THROTTLE HARDWARE</span>
033491,000072:                                                                                                  <span class="co">#  PROVIDES THE UPPER.</span>
033492,000073: 
<a name="5748455245544F"></a>033493,000074: 31,2203           35014        <span class="sm">WHERETO </span>           <span class="op">CA      </span> <a href="FIXED-FIXED_CONSTANT_POOL.agc.html#4542414E4B35">EBANK5</a>                                <span class="co">#  INITIALIZE L*WCR*T AND H*GHCR*T FROM</span>
033494,000075: 31,2204           54003                           <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4542414E4B">EBANK</a>                                 <span class="co">#        PAD LOADED ERASABLES IN W-MATRIX</span>
033495,000076: 31,2205  E5,1506                                  <span class="ps">EBANK=  </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4C4F5743524954">LOWCRIT</a>                               
033496,000077: 31,2205           00006                           <span class="op">EXTEND  </span>                                       
033497,000078: 31,2206           31507                           <span class="op">DCA     </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4C4F5743524954">LOWCRIT</a>                               
033498,000079: 31,2207           52131                           <span class="op">DXCH    </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4C2A5743522A54">L*WCR*T</a>                               
033499,000080: 31,2210           35016                           <span class="op">CA      </span> <a href="FIXED-FIXED_CONSTANT_POOL.agc.html#4542414E4B37">EBANK7</a>                                
033500,000081: 31,2211           54003                           <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4542414E4B">EBANK</a>                                 
033501,000082: 31,2212  E7,1612                                  <span class="ps">EBANK=  </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#504946">PIF</a>                                   
033502,000083: 31,2212           44755                           <span class="op">CS      </span> <a href="FIXED-FIXED_CONSTANT_POOL.agc.html#5A45524F">ZERO</a>                                  <span class="co">#  INITIALIZE PIFPSET</span>
033503,000084: 31,2213           55606                           <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#50494650534554">PIFPSET</a>                               
033504,000085: 31,2214           40131                           <span class="op">CS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#482A474843522A54">H*GHCR*T</a>                              
033505,000086: 31,2215           61620                           <span class="op">AD      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#46434F4C44">FCOLD</a>                                 
033506,000087: 31,2216           00006                           <span class="op">EXTEND  </span>                                       
033507,000088: 31,2217           62231                           <span class="op">BZMF    </span> <a href="#4C4F5746434F4C44">LOWFCOLD</a>                              <span class="co">#  BRANCH IF FCOLD &lt; OR = HIGHCRIT</span>
033508,000089: 31,2220           40130                           <span class="op">CS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4C2A5743522A54">L*WCR*T</a>                               
033509,000090: 31,2221           61465                           <span class="op">AD      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#46434F4444">FCODD</a>                                 
033510,000091: 31,2222           00006                           <span class="op">EXTEND  </span>                                       
033511,000092: 31,2223           62226                           <span class="op">BZMF    </span> <a href="#46434F4D50534554">FCOMPSET</a>                              <span class="co">#  BRANCH IF FC &lt; OR = LOWCRIT</span>
033512,000093: 31,2224           31467                           <span class="op">CA      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4650">FP</a>                                    <span class="co">#  SEE NOTE 1</span>
033513,000094: 31,2225           12236                           <span class="op">TCF     </span> <a href="#464C41544F555431">FLATOUT1</a>                              
033514,000095: 
<a name="46434F4D50534554"></a>033515,000096: 31,2226           42002        <span class="sm">FCOMPSET</span>           <span class="op">CS      </span> <a href="CONTROLLED_CONSTANTS.agc.html#464D41584F4444">FMAXODD</a>                               <span class="co">#  SEE NOTE 2</span>
033516,000097: 31,2227           61467                           <span class="op">AD      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4650">FP</a>                                    
033517,000098: 31,2230           12240                           <span class="op">TCF     </span> <a href="#464C41544F555432">FLATOUT2</a>                              
033518,000099: 
<a name="4C4F5746434F4C44"></a>033519,000100: 31,2231           40131        <span class="sm">LOWFCOLD</span>           <span class="op">CS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#482A474843522A54">H*GHCR*T</a>                              
033520,000101: 31,2232           61465                           <span class="op">AD      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#46434F4444">FCODD</a>                                 
033521,000102: 31,2233           00006                           <span class="op">EXTEND  </span>                                       
033522,000103: 31,2234           62241                           <span class="op">BZMF    </span> <a href="#444F504946">DOPIF</a>                                 <span class="co">#  BRANCH IF FC &lt; OR = HIGHCRIT</span>
033523,000104: 
033524,000105: 31,2235           32003                           <span class="op">CA      </span> <a href="CONTROLLED_CONSTANTS.agc.html#464D4158504F53">FMAXPOS</a>                               <span class="co">#  NO:  THROTTLE-UP</span>
<a name="464C41544F555431"></a>033525,000106: 31,2236           53466        <span class="sm">FLATOUT1</span>           <span class="op">DXCH    </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#46434F4444">FCODD</a>                                 
033526,000107: 31,2237           34737                           <span class="op">CA      </span> <a href="#464558545241">FEXTRA</a>                                
<a name="464C41544F555432"></a>033527,000108: 31,2240           55606        <span class="sm">FLATOUT2</span>           <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#50494650534554">PIFPSET</a>                               
033528,000109: 
033529,000110:                                                                                                  <span class="co">#  NOTE 1        FC IS SET EQUAL TO FP SO PIF WILL BE ZERO.  THIS IS DESIRABLE</span>
033530,000111:                                                                                                  <span class="co">#                AS THERE IS ACTUALLY NO THROTTLE CHANGE.</span>
033531,000112: 
033532,000113:                                                                                                  <span class="co">#  NOTE2         HERE, SINCE WE ARE ABOUT TO RETURN TO THE THROTTLEABLE REGION</span>
</pre>
</span>
</p>
<table style="text-align: left;" border="1" cellpadding="2" cellspacing="2">
<tbody>
<tr>
<td style="white-space: nowrap; vertical-align: middle;">
<img alt="" src="Apollo32.png" style="width: 32px; height: 32px;" align="left">
</td>
<td style="vertical-align: middle;">
Page 790
</td></tr></tbody></table>
<p class="nobreak">
<span style="font-family: monospace;">
<pre>
033534,000115:                                                                                                  <span class="co">#                (BELOW 55%) THE QUANTITY -(FMAXODD-FP) IS COMPUTED AND PUT</span>
033535,000116:                                                                                                  <span class="co">#                INTO PIFPSET TO COMPENSATE FOR THE DIFFERENCE BETWEEN THE</span>
033536,000117:                                                                                                  <span class="co">#                NUMBER OF BITS CORRESPONDING TO FULL THROTTLE (FMAXODD) AND THE</span>
033537,000118:                                                                                                  <span class="co">#                NUMBER CORRESPONDING TO ACTUAL THRUST (FP).  THUS THE TOTAL</span>
033538,000119:                                                                                                  <span class="co">#                THROTTLE COMMAND PIF = FC - FP - (FMAXODD - FP) = FC - FMAXODD.</span>
033539,000120: 
<a name="444F504946"></a>033540,000121: 31,2241           03677        <span class="sm">DOPIF   </span>           <span class="op">TC      </span> <a href="LUNAR_LANDING_GUIDANCE_EQUATIONS.agc.html#4641535443484E47">FASTCHNG</a>                              
033541,000122: 31,2242           00006                           <span class="op">EXTEND  </span>                                       
033542,000123: 31,2243           31466                           <span class="op">DCA     </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#46434F4444">FCODD</a>                                 
033543,000124: 31,2244           55620                           <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#46434F4C44">FCOLD</a>                                 
033544,000125: 31,2245           53613                           <span class="op">DXCH    </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#504946">PIF</a>                                   
033545,000126: 31,2246           00006                           <span class="op">EXTEND  </span>                                       
033546,000127: 31,2247           41470                           <span class="op">DCS     </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4650">FP</a>                                    
033547,000128: 31,2250           21613                           <span class="op">DAS     </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#504946">PIF</a>                                   <span class="co">#  PIF = FC - FP, NEVER EQUALS +0</span>
033548,000129: 
<a name="444F4954"></a>033549,000130: 31,2251           31612        <span class="sm">DOIT    </span>           <span class="op">CA      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#504946">PIF</a>                                   
033550,000131: 31,2252           61606                           <span class="op">AD      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#50494650534554">PIFPSET</a>                               <span class="co">#  ADD IN PIFPSET, WITHOUT CHANGING PIF</span>
033551,000132: 31,2253           55614                           <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#50534555444F3535">PSEUDO55</a>                              
033552,000133: 31,2254           54055                           <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#544852555354">THRUST</a>                                
033553,000134: 31,2255           34750                           <span class="op">CAF     </span> <a href="FIXED-FIXED_CONSTANT_POOL.agc.html#42495434">BIT4</a>                                  
033554,000135: 31,2256           00006                           <span class="op">EXTEND  </span>                                       
033555,000136: 31,2257           05014                           <span class="op">WOR     </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4348414E3134">CHAN14</a>                                
033556,000137: 31,2260           30025                           <span class="op">CA      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#54494D4531">TIME1</a>                                 
033557,000138: 31,2261           55617                           <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#545448524F54">TTHROT</a>                                
033558,000139: 
033559,000140:                                                                                                  <span class="co">#  SINCE /AF/ IS NOT AN INSTANTANEOUS ACCELERATION, BUT RATHER AN "AVERAGE" OF THE ACCELERATION LEVELS DURING</span>
033560,000141:                                                                                                  <span class="co">#  THE PRECEEDING PIPA INTERVAL, AND SINCE FP IS COMPUTED DIRECTLY FROM /AF/, FP IN ORDER TO CORRESPOND TO THE</span>
033561,000142:                                                                                                  <span class="co">#  ACTUAL THRUST LEVEL AT THE END OF THE INTERVAL MUST BE WEIGHTED BY</span>
033562,000143:                                                                                                  <span class="co">#                  PIF(PPROCESS + TL)     PIF /PIF/</span>
033563,000144:                                                                                                  <span class="co">#        FWEIGHT = ------------------ + -------------</span>
033564,000145:                                                                                                  <span class="co">#                       PGUID           2 PGUID FRATE</span>
033565,000146:                                                                                                  <span class="co">#  WHERE PPROCESS IS THE TIME BETWEEN PIPA READING AND THE START OF THROTTLING, PGUID IS THE GUIDANCE PERIOD, AND</span>
033566,000147:                                                                                                  <span class="co">#  FRATE IS THE THROTTLING RATE (32 UNITS PER CENTISECOND).  PGUID IS EITHER 1 OR 2 SECONDS.  THE "TL" IN THE</span>
033567,000148:                                                                                                  <span class="co">#  FIRST TERM REPRESENTS THE ENGINE'S RESPONSE LAG.  HERE FWEIGHT IS COMPUTED FOR USE NEXT PASS.</span>
033568,000149: 
033569,000150: 31,2262           31762                           <span class="op">CA      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#5448495354504950">THISTPIP</a>   +1                         <span class="co">#  INITIALIZE FWEIGHT COMP AS IF FOR P66</span>
033570,000151: 31,2263           54130                           <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#425546">BUF</a>                                   
033571,000152: 
033572,000153: 31,2264           41010                           <span class="op">CS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4D4F44524547">MODREG</a>                                <span class="co">#  ARE WE IN FACT IN P66?</span>
033573,000154: 31,2265           62452                           <span class="op">AD      </span> <a href="LUNAR_LANDING_GUIDANCE_EQUATIONS.agc.html#4445433636">DEC66</a>                                 
033574,000155: 31,2266           00006                           <span class="op">EXTEND  </span>                                       
033575,000156: 31,2267           12274                           <span class="op">BZF     </span> <a href="#4657434F4D50">FWCOMP</a>                                <span class="co">#  YES</span>
033576,000157: 
033577,000158: 31,2270           31234                           <span class="op">CA      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#50495054494D45">PIPTIME</a>    +1                         <span class="co">#  NO:  INITIALIZE FOR TWO SECOND PERIOD</span>
033578,000159: 31,2271           54130                           <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#425546">BUF</a>                                   
033579,000160: 31,2272           35003                           <span class="op">CAF     </span> <a href="FIXED-FIXED_CONSTANT_POOL.agc.html#3453454353">4SECS</a>                                 
033580,000161: 31,2273           12275                           <span class="op">TCF     </span> <a href="#4657434F4D50">FWCOMP</a>     +1                         
</pre>
</span>
</p>
<table style="text-align: left;" border="1" cellpadding="2" cellspacing="2">
<tbody>
<tr>
<td style="white-space: nowrap; vertical-align: middle;">
<img alt="" src="Apollo32.png" style="width: 32px; height: 32px;" align="left">
</td>
<td style="vertical-align: middle;">
Page 791
</td></tr></tbody></table>
<p class="nobreak">
<span style="font-family: monospace;">
<pre>
033582,000163: 
<a name="4657434F4D50"></a>033583,000164: 31,2274           35000        <span class="sm">FWCOMP  </span>           <span class="op">CAF     </span> <a href="FIXED-FIXED_CONSTANT_POOL.agc.html#3253454353">2SECS</a>                                 
033584,000165: 31,2275           54002                 +1        <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#51">Q</a>                                     
033585,000166: 31,2276           00006                           <span class="op">EXTEND  </span>                                       
033586,000167: 31,2277           74746                           <span class="op">MP      </span> <a href="FIXED-FIXED_CONSTANT_POOL.agc.html#42495436">BIT6</a>                                  
033587,000168: 31,2300           22131                           <span class="op">LXCH    </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#425546">BUF</a>        +1                         
033588,000169: 31,2301           40130                           <span class="op">CS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#425546">BUF</a>                                   <span class="co">#  TIME OF LAST PIPA READING.</span>
033589,000170: 31,2302           60025                           <span class="op">AD      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#54494D4531">TIME1</a>                                 
033590,000171: 31,2303           62004                           <span class="op">AD      </span> <a href="CONTROLLED_CONSTANTS.agc.html#5448524F544C4147">THROTLAG</a>                              <span class="co">#  COMPENSATE FOR ENGINE RESPONSE LAG</span>
033591,000172: 31,2304           74357                           <span class="op">MASK    </span> <a href="PINBALL_GAME__BUTTONS_AND_LIGHTS.agc.html#4C4F5738">LOW8</a>                                  <span class="co">#  MAKE SURE SMALL AND POSITIVE</span>
033592,000173: 31,2305           22007                           <span class="op">ZL      </span>                                       
033593,000174: 31,2306           00006                           <span class="op">EXTEND  </span>                                       
033594,000175: 31,2307           10002                           <span class="op">DV      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#51">Q</a>                                     
033595,000176: 31,2310           00006                           <span class="op">EXTEND  </span>                                       
033596,000177: 31,2311           71612                           <span class="op">MP      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#504946">PIF</a>                                   
033597,000178: 31,2312           60000                           <span class="op">DOUBLE  </span>                                       
033598,000179: 31,2313           53611                           <span class="op">DXCH    </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#46574549474854">FWEIGHT</a>                               
033599,000180: 31,2314           11612                           <span class="op">CCS     </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#504946">PIF</a>                                   
033600,000181: 31,2315           64753                           <span class="op">AD      </span> <a href="FIXED-FIXED_CONSTANT_POOL.agc.html#4F4E45">ONE</a>                                   
033601,000182: 31,2316           12320                           <span class="op">TCF     </span> +2                                    
033602,000183: 31,2317           64753                           <span class="op">AD      </span> <a href="FIXED-FIXED_CONSTANT_POOL.agc.html#4F4E45">ONE</a>                                   
033603,000184: 31,2320           00006                           <span class="op">EXTEND  </span>                                       
033604,000185: 31,2321           71612                           <span class="op">MP      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#504946">PIF</a>                                   
033605,000186: 31,2322           00006                           <span class="op">EXTEND  </span>                                       
033606,000187: 31,2323           10131                           <span class="op">DV      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#425546">BUF</a>        +1                         
033607,000188: 31,2324           22007                           <span class="op">ZL      </span>                                       
033608,000189: 31,2325           21611                           <span class="op">DAS     </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#46574549474854">FWEIGHT</a>                               
033609,000190: 
<a name="544844554D50"></a>033610,000191: 31,2326           01607        <span class="sm">THDUMP  </span>           <span class="op">TC      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#52544E484F4C44">RTNHOLD</a>                               
033611,000192: 
033612,000193:                                                                                                  <span class="co">#  FLATOUT THROTTLES UP THE DESCENT ENGINE, AND IS CALLED AS A BASIC SUBROUTINE.</span>
033613,000194: 
<a name="464C41544F5554"></a>033614,000195: 31,2327           34737        <span class="sm">FLATOUT </span>           <span class="op">CAF     </span> <a href="FIXED-FIXED_CONSTANT_POOL.agc.html#4249543133">BIT13</a>                                 <span class="co">#  4096 PULSES</span>
<a name="574841544F5554"></a>033615,000196: 31,2330           55606        <span class="sm">WHATOUT </span>           <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#50494650534554">PIFPSET</a>                               <span class="co">#  USE PIFPSET SO FWEIGHT WILL BE ZERO</span>
033616,000197: 31,2331           44755                           <span class="op">CS      </span> <a href="FIXED-FIXED_CONSTANT_POOL.agc.html#5A45524F">ZERO</a>                                  
033617,000198: 31,2332           55620                           <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#46434F4C44">FCOLD</a>                                 
033618,000199: 31,2333           55612                           <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#504946">PIF</a>                                   
033619,000200: 31,2334           00006                           <span class="op">EXTEND  </span>                                       
033620,000201: 31,2335           23607                           <span class="op">QXCH    </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#52544E484F4C44">RTNHOLD</a>                               
033621,000202: 31,2336           12251                           <span class="op">TCF     </span> <a href="#444F4954">DOIT</a>                                  
033622,000203: 
033623,000204:                                                                                                  <span class="co">#  MASSMULT SCALES ACCELERATION, ARRIVING IN A AND L IN UNITS OF 2(-4) M/CS/CS, TO FORCE IN PULSE UNITS.</span>
033624,000205: 
<a name="4D4153534D554C54"></a>033625,000206: 31,2337           00006        <span class="sm">MASSMULT</span>           <span class="op">EXTEND  </span>                                       
033626,000207: 31,2340           22130                           <span class="op">QXCH    </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#425546">BUF</a>                                   
033627,000208: 31,2341           52155                           <span class="op">DXCH    </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4D504143">MPAC</a>                                  
033628,000209: 31,2342           07106                           <span class="op">TC      </span> <a href="INTERPRETER.agc.html#444D50">DMP</a>                                   
033629,000210: 31,2343           01243                           <span class="ps">ADRES   </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4D415353">MASS</a>                                  
</pre>
</span>
</p>
<table style="text-align: left;" border="1" cellpadding="2" cellspacing="2">
<tbody>
<tr>
<td style="white-space: nowrap; vertical-align: middle;">
<img alt="" src="Apollo32.png" style="width: 32px; height: 32px;" align="left">
</td>
<td style="vertical-align: middle;">
Page 792
</td></tr></tbody></table>
<p class="nobreak">
<span style="font-family: monospace;">
<pre>
033631,000212: 31,2344           07106                           <span class="op">TC      </span> <a href="INTERPRETER.agc.html#444D50">DMP</a>                                   <span class="co">#  LEAVES PROPERLY SCALED FORCE IN MPAC</span>
033632,000213: 31,2345           02005                           <span class="ps">ADRES   </span> <a href="CONTROLLED_CONSTANTS.agc.html#5343414C45464143">SCALEFAC</a>                              
033633,000214: 31,2346           07262                           <span class="op">TC      </span> <a href="INTERPRETER.agc.html#54504147524545">TPAGREE</a>                               
033634,000215: 31,2347           30154                           <span class="op">CA      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4D504143">MPAC</a>                                  
033635,000216: 31,2350           00006                           <span class="op">EXTEND  </span>                                       
033636,000217: 31,2351           12354                           <span class="op">BZF     </span> +3                                    
033637,000218: 31,2352           34733                           <span class="op">CAF     </span> <a href="FIXED-FIXED_CONSTANT_POOL.agc.html#504F534D4158">POSMAX</a>                                
033638,000219: 31,2353           00130                           <span class="op">TC      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#425546">BUF</a>                                   
033639,000220: 31,2354           52156                           <span class="op">DXCH    </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4D504143">MPAC</a>       +1                         
033640,000221: 31,2355           00130                           <span class="op">TC      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#425546">BUF</a>                                   
033641,000222: 
033642,000223:                                                                                                  <span class="co">#  CONSTANTS:-</span>
033643,000224: 
<a name="464558545241"></a>033644,000225: 31,2356     4737               <span class="sm">FEXTRA  </span>           <span class="ps">=       </span> <a href="FIXED-FIXED_CONSTANT_POOL.agc.html#4249543133">BIT13</a>                                 <span class="co">#  FEXT +5.13309020 E+4</span>
033645,000226: 
<a name="2F41462F434E5354"></a>033646,000227: 31,2356           04143        <span class="sm">/AF/CNST</span>           <span class="ps">DEC     </span> .13107                                
033647,000228: 
<a name="4F43543137373737"></a>033648,000229: 31,2357           17777        <span class="sm">OCT17777</span>           <span class="ps">OCT     </span> 17777                                 
<a name="34464D41584E4F4D"></a>033649,000230: 31,2360           35074        <span class="sm">4FMAXNOM</span>           <span class="ps">DEC     </span> 14908      B-14                       <span class="co">#  EQUIVALENT TO 10,500 LBS.</span>
033650,000231: 
033651,000232:                                                                                                  <span class="co">#  * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *</span>

End of include-file THROTTLE_CONTROL_ROUTINES.agc.  Parent file is <a href="MAIN.agc.html">MAIN.agc</a>
</pre>
</span>
</p>
</body>
</html>
