<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta content="text/html;charset=ISO-8859-1" http-equiv="Content-Type">
<title>Assembly listing generated by yaYUL</title>
<style type="text/css">
p.nobreak { white-space:nowrap; }
a { text-decoration:none; }
a:visited { COLOR: #000850; }
</style>
<style type="text/css">
.op{
font-weight: bold;
color: #993300;
}
</style>
<style type="text/css">
.dn{
color: #009900;
}
</style>
<style type="text/css">
.fe{
color: #FF0000;
}
</style>
<style type="text/css">
.in{
color: #FF6600;
}
</style>
<style type="text/css">
.ps{
color: #336600;
}
</style>
<style type="text/css">
.sm{
color: #0000FF;
}
</style>
<style type="text/css">
.wn{
color: #FF9900;
}
</style>
<style type="text/css">
.co{
font-style: italic;
color: #993399;
}
</style>
</head>
<body>
<p class="nobreak">
<span style="font-family: monospace;">
<pre>
<h1>Source Code</h1>
</pre>
</span>
</p>
<table style="text-align: left;" border="1" cellpadding="2" cellspacing="2">
<tbody>
<tr>
<td style="white-space: nowrap; vertical-align: middle;">
<img alt="" src="Apollo32.png" style="width: 32px; height: 32px;" align="left">
</td>
<td style="vertical-align: middle;">
These source-code files derive from a printout of Luminary 210 (Apollo 15-17
Lunar Module guidance computer program), from the personal library of 
original AGC developer Don Eyles, digitally photographed at archive.org, 
financially sponsored by Jim Lawton, and transcribed to source code by a
team of volunteers.  This colorized, syntax-highlighted form was created
by assembling that transcribed source code.  Note that the full page images
are available <a href="https://archive.org/details/luminary21000miti">on the
Virtual AGC project page at archive.org</a>, while reduced-size images
<a href="http://www.ibiblio.org/apollo/ScansForConversion/Luminary210/">
are presented at the VirtualAGC project website</a>.  Report or fix any 
transcription errors at <a href="https://github.com/virtualagc/virtualagc/issues/">
the Virtual AGC project code repository</a>.<br><br> 
Notations on the program listing read, in part:<br>
<br>
<pre>
	GAP: ASSEMBLE REVISION 210 OF AGC PROGRAM LUMINARY 
	BY NASA 2021112-161 17:11 MAR. 19,1971
</pre>
Note that the date is the date of the printout, not the date of the program revision.
</td></tr></tbody></table>

<p class="nobreak">
<span style="font-family: monospace;">
<pre>
034474,000002:                                                                                                  <span class="co">## Copyright:   Public domain.</span>
034475,000003:                                                                                                  <span class="co">## Filename:    THROTTLE_CONTROL_ROUTINES.agc</span>
034476,000004:                                                                                                  <span class="co">## Purpose:     A section of Luminary revision 210.</span>
034477,000005:                                                                                                  <span class="co">##              It is part of the source code for the Lunar Module's (LM)</span>
034478,000006:                                                                                                  <span class="co">##              Apollo Guidance Computer (AGC) for Apollo 15-17.</span>
034479,000007:                                                                                                  <span class="co">##              This file is intended to be a faithful transcription, except</span>
034480,000008:                                                                                                  <span class="co">##              that the code format has been changed to conform to the</span>
034481,000009:                                                                                                  <span class="co">##              requirements of the yaYUL assembler rather than the</span>
034482,000010:                                                                                                  <span class="co">##              original YUL assembler.</span>
034483,000011:                                                                                                  <span class="co">## Reference:   pp. 789-793</span>
034484,000012:                                                                                                  <span class="co">## Assembler:   yaYUL</span>
034485,000013:                                                                                                  <span class="co">## Contact:     Ron Burkey &lt;info@sandroid.org>.</span>
034486,000014:                                                                                                  <span class="co">## Website:     www.ibiblio.org/apollo/index.html</span>
034487,000015:                                                                                                  <span class="co">## Mod history: 2016-11-17 JL   Created from Luminary131 version.</span>
034488,000016:                                                                                                  <span class="co">##              2016-12-01 RSB  Completed transcription</span>
034489,000017:                                                                                                  <span class="co">##              2016-12-10 HG   fix operator DXCH  -> XCH</span>
034490,000018:                                                                                                  <span class="co">##                                           DOUBLE -> DDOUBL</span>
034491,000019: 
</pre>
</span>
</p>
<table style="text-align: left;" border="1" cellpadding="2" cellspacing="2">
<tbody>
<tr>
<td style="white-space: nowrap; vertical-align: middle;">
<img alt="" src="Apollo32.png" style="width: 32px; height: 32px;" align="left">
</td>
<td style="vertical-align: middle;">
Page 789
</td></tr></tbody></table>
<p class="nobreak">
<span style="font-family: monospace;">
<pre>
034493,000021: 31,2144                                           <span class="ps">BANK    </span> 31                                    
034494,000022: 
034495,000023: 31,2000                                           <span class="ps">SETLOC  </span> <a href="TAGS_FOR_RELATIVE_SETLOC_AND_BLANK_BANK_CARDS.agc.html#465448524F54">FTHROT</a>                                
034496,000024: 
034497,000025: 31,2000                                           <span class="ps">BANK    </span>                                       
034498,000026: 
034499,000027: 31,2144  E7,1612                                  <span class="ps">EBANK=  </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#504946">PIF</a>                                   
034500,000028: 
034501,000029: 31,2144                                           <span class="ps">COUNT*  </span> $$/THROT                              
034502,000030:                                                                                                  <span class="co">#  * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *</span>
034503,000031:                                                                                                  <span class="co">#  HERE FC, DESIRED THRUST, AND FP, PRESENT THRUST, UNWEIGHTED, ARE COMPUTED.</span>
034504,000032: 
<a name="5448524F54544C45"></a>034505,000033: 31,2144           31245        <span class="sm">THROTTLE</span>           <span class="op">CA      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#414244454C56">ABDELV</a>                                <span class="co">#  COMPUTE PRESENT ACCELERATION IN UNITS OF</span>
034506,000034: 31,2145           00006                           <span class="op">EXTEND  </span>                                       <span class="co">#   2(-4) M/CS/CS, SAVING SERVICER TROUBLE</span>
034507,000035: 31,2146           72363                           <span class="op">MP      </span> <a href="#2F41462F434E5354">/AF/CNST</a>                              
034508,000036: 31,2147           00006                 +3        <span class="op">EXTEND  </span>                                       
034509,000037: 31,2150           23607                           <span class="op">QXCH    </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#52544E484F4C44">RTNHOLD</a>                               
<a name="414644554D50"></a>034510,000038: 31,2151           02344        <span class="sm">AFDUMP  </span>           <span class="op">TC      </span> <a href="#4D4153534D554C54">MASSMULT</a>                              
034511,000039: 31,2152           53470                           <span class="op">DXCH    </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4650">FP</a>                                    <span class="co">#  FP = PRESENT THRUST</span>
034512,000040: 31,2153           00006                           <span class="op">EXTEND  </span>                                       
034513,000041: 31,2154           31464                           <span class="op">DCA     </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#2F4146432F">/AFC/</a>                                 
034514,000042: 31,2155           02344                           <span class="op">TC      </span> <a href="#4D4153534D554C54">MASSMULT</a>                              
034515,000043: 31,2156           00004                           <span class="op">INHINT  </span>                                       <span class="co">#  PREVENT A DOWNRUPT</span>
034516,000044: 31,2157           55615                           <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4643">FC</a>                                    <span class="co">#  FC = THRUST DESIRED BY GUIDANCE</span>
034517,000045: 31,2160           53466                           <span class="op">DXCH    </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#46434F4444">FCODD</a>                                 <span class="co">#  FCODD = WHAT IT IS GOING TO GET</span>
034518,000046: 
034519,000047: 
034520,000048: 31,2161           00006                           <span class="op">EXTEND  </span>                                       
034521,000049: 31,2162           31234                           <span class="op">DCA     </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#50495054494D45">PIPTIME</a>                               
034522,000050: 31,2163           53753                           <span class="op">DXCH    </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#47544354494D45">GTCTIME</a>                               <span class="co">#  DOWNLINK TIME AGREEMENT</span>
034523,000051: 31,2164           00003                           <span class="op">RELINT  </span>                                       
034524,000052: 
034525,000053:                                                                                                  <span class="co">#  COMPUTE DESIRED THRUST FOR DISPLAY AS A PERCENTAGE OF 10,500 POUNDS</span>
034526,000054: 
034527,000055: 31,2165           32365                           <span class="op">CAF     </span> <a href="#34464D41584E4F4D">4FMAXNOM</a>                              <span class="co">#  MOVE 4FMAXNOM TO ERASABLE FOR DV BELOW</span>
034528,000056: 31,2166           54002                           <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#51">Q</a>                                     
034529,000057: 31,2167           31615                           <span class="op">CA      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4643">FC</a>                                    
034530,000058: 31,2170           72364                           <span class="op">MASK    </span> <a href="#4F43543137373737">OCT17777</a>                              <span class="co">#  FOR SAFETY</span>
034531,000059: 31,2171           00006                           <span class="op">EXTEND  </span>                                       
034532,000060: 31,2172           10002                           <span class="op">DV      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#51">Q</a>                                     
034533,000061: 31,2173           00006                           <span class="op">EXTEND  </span>                                       
034534,000062: 31,2174           74774                           <span class="op">MP      </span> <a href="FIXED-FIXED_CONSTANT_POOL.agc.html#3453454353">4SECS</a>                                 
034535,000063: 31,2175           55750                           <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#54485244495350">THRDISP</a>                               <span class="co">#  FOR DISPLAY IN  N92</span>
034536,000064: 
034537,000065:                                                                                                  <span class="co">#  IF IT HAS BEEN LESS THAN 3 SECONDS SINCE THE LAST THROTTLING, AUGMENT FP USING THE FWEIGHT CALCULATED THEN.</span>
034538,000066: 
034539,000067: 31,2176           41617                           <span class="op">CS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#545448524F54">TTHROT</a>                                <span class="co">#  THIS CODING ASSUMES A FLATOUT WITHIN</span>
</pre>
</span>
</p>
<table style="text-align: left;" border="1" cellpadding="2" cellspacing="2">
<tbody>
<tr>
<td style="white-space: nowrap; vertical-align: middle;">
<img alt="" src="Apollo32.png" style="width: 32px; height: 32px;" align="left">
</td>
<td style="vertical-align: middle;">
Page 790		
</td></tr></tbody></table>
<p class="nobreak">
<span style="font-family: monospace;">
<pre>
034541,000069: 31,2177           60025                           <span class="op">AD      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#54494D4531">TIME1</a>                                 <span class="co">#    80 SECONDS BEFORE FIRST THROTTLE CALL</span>
034542,000070: 31,2200           74724                           <span class="op">MASK    </span> <a href="FIXED-FIXED_CONSTANT_POOL.agc.html#504F534D4158">POSMAX</a>                                
034543,000071: 31,2201           40000                           <span class="op">COM     </span>                                       
034544,000072: 31,2202           64773                           <span class="op">AD      </span> <a href="FIXED-FIXED_CONSTANT_POOL.agc.html#3353454353">3SECS</a>                                 
034545,000073: 31,2203           00006                           <span class="op">EXTEND  </span>                                       
034546,000074: 31,2204           62210                           <span class="op">BZMF    </span> <a href="#5748455245544F">WHERETO</a>                               <span class="co">#  BRANCH IF (TIME1-TTHROT +1) > 3 SECONDS</span>
034547,000075: 31,2205           00006                           <span class="op">EXTEND  </span>                                       
034548,000076: 31,2206           31611                           <span class="op">DCA     </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#46574549474854">FWEIGHT</a>                               
034549,000077: 31,2207           21470                           <span class="op">DAS     </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4650">FP</a>                                    
034550,000078: 
034551,000079: 
034552,000080:                                                                                                  <span class="co">#      THIS LOGIC DETERMINES THE THROTTLING IN THE REGION 10% - 94%.   THE MANUAL THROTTLE, NOMINALLY SET AT</span>
034553,000081:                                                                                                  <span class="co">#  MINIMUM BY ASTRONAUT OR MISSION CONTROL PROGRAMS, PROVIDES THE LOWER BOUND.   A STOP IN THE THROTTLE HARDWARE</span>
034554,000082:                                                                                                  <span class="co">#  PROVIDES THE UPPER.</span>
034555,000083: 
<a name="5748455245544F"></a>034556,000084: 31,2210           35005        <span class="sm">WHERETO </span>           <span class="op">CA      </span> <a href="FIXED-FIXED_CONSTANT_POOL.agc.html#4542414E4B35">EBANK5</a>                                <span class="co">#  INITIALIZE L*WCR*T AND H*GHCR*T FROM</span>
034557,000085: 31,2211           54003                           <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4542414E4B">EBANK</a>                                 <span class="co">#   PAD LOADED ERASABLES IN W-MATRIX</span>
034558,000086: 31,2212  E5,1472                                  <span class="ps">EBANK=  </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4C4F5743524954">LOWCRIT</a>                               
034559,000087: 31,2212           00006                           <span class="op">EXTEND  </span>                                       
034560,000088: 31,2213           31473                           <span class="op">DCA     </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4C4F5743524954">LOWCRIT</a>                               
034561,000089: 31,2214           52131                           <span class="op">DXCH    </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4C2A5743522A54">L*WCR*T</a>                               
034562,000090: 31,2215           35007                           <span class="op">CA      </span> <a href="FIXED-FIXED_CONSTANT_POOL.agc.html#4542414E4B37">EBANK7</a>                                
034563,000091: 31,2216           54003                           <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4542414E4B">EBANK</a>                                 
034564,000092: 31,2217  E7,1612                                  <span class="ps">EBANK=  </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#504946">PIF</a>                                   
034565,000093: 31,2217           44746                           <span class="op">CS      </span> <a href="FIXED-FIXED_CONSTANT_POOL.agc.html#5A45524F">ZERO</a>                                  <span class="co">#  INITIALIZE PIFPSET</span>
034566,000094: 31,2220           55606                           <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#50494650534554">PIFPSET</a>                               
034567,000095: 31,2221           40131                           <span class="op">CS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#482A474843522A54">H*GHCR*T</a>                              
034568,000096: 31,2222           61620                           <span class="op">AD      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#46434F4C44">FCOLD</a>                                 
034569,000097: 31,2223           00006                           <span class="op">EXTEND  </span>                                       
034570,000098: 31,2224           62236                           <span class="op">BZMF    </span> <a href="#4C4F5746434F4C44">LOWFCOLD</a>                              <span class="co">#  BRANCH IF FCOLD &lt; OR = HIGHCRIT</span>
034571,000099: 31,2225           40130                           <span class="op">CS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4C2A5743522A54">L*WCR*T</a>                               
034572,000100: 31,2226           61465                           <span class="op">AD      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#46434F4444">FCODD</a>                                 
034573,000101: 31,2227           00006                           <span class="op">EXTEND  </span>                                       
034574,000102: 31,2230           62233                           <span class="op">BZMF    </span> <a href="#46434F4D50534554">FCOMPSET</a>                              <span class="co">#  BRANCH IF FC &lt; OR = LOWCRIT</span>
034575,000103: 31,2231           31467                           <span class="op">CA      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4650">FP</a>                                    <span class="co">#  SEE NOTE 1</span>
034576,000104: 31,2232           12243                           <span class="op">TCF     </span> <a href="#464C41544F555431">FLATOUT1</a>                              
034577,000105: 
<a name="46434F4D50534554"></a>034578,000106: 31,2233           42002        <span class="sm">FCOMPSET</span>           <span class="op">CS      </span> <a href="CONTROLLED_CONSTANTS.agc.html#464D41584F4444">FMAXODD</a>                               <span class="co">#  SEE NOTE 2</span>
034579,000107: 31,2234           61467                           <span class="op">AD      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4650">FP</a>                                    
034580,000108: 31,2235           12245                           <span class="op">TCF     </span> <a href="#464C41544F555432">FLATOUT2</a>                              
034581,000109: 
<a name="4C4F5746434F4C44"></a>034582,000110: 31,2236           40131        <span class="sm">LOWFCOLD</span>           <span class="op">CS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#482A474843522A54">H*GHCR*T</a>                              
034583,000111: 31,2237           61465                           <span class="op">AD      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#46434F4444">FCODD</a>                                 
034584,000112: 31,2240           00006                           <span class="op">EXTEND  </span>                                       
034585,000113: 31,2241           62246                           <span class="op">BZMF    </span> <a href="#444F504946">DOPIF</a>                                 <span class="co">#  BRANCH IF FC &lt; OR = HIGHCRIT</span>
034586,000114: 
034587,000115: 31,2242           32003                           <span class="op">CA      </span> <a href="CONTROLLED_CONSTANTS.agc.html#464D4158504F53">FMAXPOS</a>                               <span class="co">#  NO:   THROTTLE-UP</span>
<a name="464C41544F555431"></a>034588,000116: 31,2243           57465        <span class="sm">FLATOUT1</span>           <span class="op">XCH     </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#46434F4444">FCODD</a>                                 
034589,000117: 31,2244           34730                           <span class="op">CA      </span> <a href="#464558545241">FEXTRA</a>                                
</pre>
</span>
</p>
<table style="text-align: left;" border="1" cellpadding="2" cellspacing="2">
<tbody>
<tr>
<td style="white-space: nowrap; vertical-align: middle;">
<img alt="" src="Apollo32.png" style="width: 32px; height: 32px;" align="left">
</td>
<td style="vertical-align: middle;">
Page 791
</td></tr></tbody></table>
<p class="nobreak">
<span style="font-family: monospace;">
<pre>
<a name="464C41544F555432"></a>034591,000119: 31,2245           55606        <span class="sm">FLATOUT2</span>           <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#50494650534554">PIFPSET</a>                               
034592,000120: 
034593,000121:                                                                                                  <span class="co">#  NOTE 1   FC IS SET EQUAL TO FP SO PIF WILL BE ZERO.   THIS IS DESIRABLE</span>
034594,000122:                                                                                                  <span class="co">#           AS THERE IS ACTUALLY NO THROTTLE CHANGE.</span>
034595,000123: 
034596,000124:                                                                                                  <span class="co">#  NOTE 2   HERE, SINCE WE ARE ABOUT TO RETURN TO THE THROTTLEABLE REGION</span>
034597,000125:                                                                                                  <span class="co">#           (BELOW 55%) THE QUANTITY -(FMAXODD - FP) IS COMPUTED AND PUT</span>
034598,000126:                                                                                                  <span class="co">#           INTO PIFPSET TO COMPENSATE FOR THE DIFFERENCE BETWEEN THE</span>
034599,000127:                                                                                                  <span class="co">#           NUMBER OF BITS CORRESPONDING TO FULL THROTTLE (FMAXODD) AND THE</span>
034600,000128:                                                                                                  <span class="co">#           NUMBER CORRESPONDING TO ACTUAL THRUST (FP).   THUS THE TOTAL</span>
034601,000129:                                                                                                  <span class="co">#           THROTTLE COMMAND PIF = FC - FP -(FMAXODD - FP) = FC - FMAXODD.</span>
034602,000130: 
<a name="444F504946"></a>034603,000131: 31,2246           03751        <span class="sm">DOPIF   </span>           <span class="op">TC      </span> <a href="LUNAR_LANDING_GUIDANCE_EQUATIONS.agc.html#4641535443484E47">FASTCHNG</a>                              
034604,000132: 31,2247           00006                           <span class="op">EXTEND  </span>                                       
034605,000133: 31,2250           31466                           <span class="op">DCA     </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#46434F4444">FCODD</a>                                 
034606,000134: 31,2251           55620                           <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#46434F4C44">FCOLD</a>                                 
034607,000135: 31,2252           53613                           <span class="op">DXCH    </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#504946">PIF</a>                                   
034608,000136: 31,2253           00006                           <span class="op">EXTEND  </span>                                       
034609,000137: 31,2254           41470                           <span class="op">DCS     </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4650">FP</a>                                    
034610,000138: 31,2255           21613                           <span class="op">DAS     </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#504946">PIF</a>                                   <span class="co">#  PIF = FC - FP, NEVER EQUALS +0</span>
034611,000139: 
034612,000140: 
<a name="444F4954"></a>034613,000141: 31,2256           31612        <span class="sm">DOIT    </span>           <span class="op">CA      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#504946">PIF</a>                                   
034614,000142: 31,2257           61606                           <span class="op">AD      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#50494650534554">PIFPSET</a>                               <span class="co">#  ADD IN PIFPSET, WITHOUT CHANGING PIF</span>
034615,000143: 31,2260           55614                           <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#50534555444F3535">PSEUDO55</a>                              
034616,000144: 31,2261           54055                           <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#544852555354">THRUST</a>                                
034617,000145: 31,2262           34741                           <span class="op">CAF     </span> <a href="FIXED-FIXED_CONSTANT_POOL.agc.html#42495434">BIT4</a>                                  
034618,000146: 31,2263           00006                           <span class="op">EXTEND  </span>                                       
034619,000147: 31,2264           05014                           <span class="op">WOR     </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4348414E3134">CHAN14</a>                                
034620,000148: 31,2265           30025                           <span class="op">CA      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#54494D4531">TIME1</a>                                 
034621,000149: 31,2266           55617                           <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#545448524F54">TTHROT</a>                                
034622,000150: 
034623,000151:                                                                                                  <span class="co">#      SINCE /AF/ IS NOT AN INSTANTANEOUS ACELERATION, BUT RATHER AN "AVERAGE" OF THE ACCELERATION LEVELS DURING</span>
034624,000152:                                                                                                  <span class="co">#  THE PRECEEDING PIPA INTERVAL, AND SINCE FP IS COMPUTED DIRECTLY FROM /AF/, FP IN ORDER TO CORRESPOND TO THE</span>
034625,000153:                                                                                                  <span class="co">#  ACTUAL THRUST LEVEL AT THE END OF THE INTERVAL MUST BE WEIGHTED BY</span>
034626,000154: 
034627,000155:                                                                                                  <span class="co">#                                    PIF(PPROCESS + TL)     PIF /PIF/</span>
034628,000156:                                                                                                  <span class="co">#                          FWEIGHT = ------------------ + -------------</span>
034629,000157:                                                                                                  <span class="co">#                                          PGUID          2 PGUID FRATE</span>
034630,000158: 
034631,000159:                                                                                                  <span class="co">#  WHERE PPROCESS IS THE TIME BETWEEN PIPA READING AND THE START OF THROTTLING, PGUID IS THE GUIDANCE PERIOD, AND</span>
034632,000160:                                                                                                  <span class="co">#  FRATE IS THE THROTTLING RATE (32 UNITS PER CENTISECOND).  PGUID IS EITHER 1 OR 2 SECONDS. THE "TL" IN THE</span>
034633,000161:                                                                                                  <span class="co">#  FIRST TERM REPRESENTS THE ENGINE'S RESPONSE LAG.   HERE FWEIGHT IS COMPUTED FOR USE NEXT PASS.</span>
034634,000162: 
034635,000163: 31,2267           31762                           <span class="op">CA      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#5448495354504950">THISTPIP</a>   +1                         <span class="co">#  INITIALIZE FWEIGHT COMP AS IF FOR P66</span>
034636,000164: 31,2270           54130                           <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#425546">BUF</a>                                   
034637,000165: 
034638,000166: 31,2271           41010                           <span class="op">CS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4D4F44524547">MODREG</a>                                <span class="co">#  ARE WE IN FACT IN P66?</span>
034639,000167: 31,2272           62454                           <span class="op">AD      </span> <a href="LUNAR_LANDING_GUIDANCE_EQUATIONS.agc.html#4445433636">DEC66</a>                                 
034640,000168: 31,2273           00006                           <span class="op">EXTEND  </span>                                       
</pre>
</span>
</p>
<table style="text-align: left;" border="1" cellpadding="2" cellspacing="2">
<tbody>
<tr>
<td style="white-space: nowrap; vertical-align: middle;">
<img alt="" src="Apollo32.png" style="width: 32px; height: 32px;" align="left">
</td>
<td style="vertical-align: middle;">
Page 792
</td></tr></tbody></table>
<p class="nobreak">
<span style="font-family: monospace;">
<pre>
034642,000170: 31,2274           12301                           <span class="op">BZF     </span> <a href="#4657434F4D50">FWCOMP</a>                                <span class="co">#  YES</span>
034643,000171: 
034644,000172: 31,2275           31234                           <span class="op">CA      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#50495054494D45">PIPTIME</a>    +1                         <span class="co">#  NO:   INITIALIZE FOR TWO SECOND PERIOD</span>
034645,000173: 31,2276           54130                           <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#425546">BUF</a>                                   
034646,000174: 31,2277           34774                           <span class="op">CAF     </span> <a href="FIXED-FIXED_CONSTANT_POOL.agc.html#3453454353">4SECS</a>                                 
034647,000175: 31,2300           12302                           <span class="op">TCF     </span> <a href="#4657434F4D50">FWCOMP</a>     +1                         
034648,000176: 
<a name="4657434F4D50"></a>034649,000177: 31,2301           34771        <span class="sm">FWCOMP  </span>           <span class="op">CAF     </span> <a href="FIXED-FIXED_CONSTANT_POOL.agc.html#3253454353">2SECS</a>                                 
034650,000178: 31,2302           54002                 +1        <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#51">Q</a>                                     
034651,000179: 31,2303           00006                           <span class="op">EXTEND  </span>                                       
034652,000180: 31,2304           74737                           <span class="op">MP      </span> <a href="FIXED-FIXED_CONSTANT_POOL.agc.html#42495436">BIT6</a>                                  
034653,000181: 31,2305           22131                           <span class="op">LXCH    </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#425546">BUF</a>        +1                         
034654,000182: 31,2306           40130                           <span class="op">CS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#425546">BUF</a>                                   <span class="co">#  TIME OF LAST PIPA READING.</span>
034655,000183: 31,2307           60025                           <span class="op">AD      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#54494D4531">TIME1</a>                                 
034656,000184: 31,2310           62004                           <span class="op">AD      </span> <a href="CONTROLLED_CONSTANTS.agc.html#5448524F544C4147">THROTLAG</a>                              <span class="co">#  COMPENSATE FOR ENGINE RESPONSE LAG</span>
034657,000185: 31,2311           74350                           <span class="op">MASK    </span> <a href="PINBALL_GAME__BUTTONS_AND_LIGHTS.agc.html#4C4F5738">LOW8</a>                                  <span class="co">#  MAKE SURE SMALL AND POSITIVE</span>
034658,000186: 31,2312           22007                           <span class="op">ZL      </span>                                       
034659,000187: 31,2313           00006                           <span class="op">EXTEND  </span>                                       
034660,000188: 31,2314           10002                           <span class="op">DV      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#51">Q</a>                                     
034661,000189: 31,2315           00006                           <span class="op">EXTEND  </span>                                       
034662,000190: 31,2316           71612                           <span class="op">MP      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#504946">PIF</a>                                   
034663,000191: 31,2317           20001                           <span class="op">DDOUBL  </span>                                       
034664,000192: 31,2320           53611                           <span class="op">DXCH    </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#46574549474854">FWEIGHT</a>                               
034665,000193: 31,2321           11612                           <span class="op">CCS     </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#504946">PIF</a>                                   
034666,000194: 31,2322           64744                           <span class="op">AD      </span> <a href="FIXED-FIXED_CONSTANT_POOL.agc.html#4F4E45">ONE</a>                                   
034667,000195: 31,2323           12325                           <span class="op">TCF     </span> +2                                    
034668,000196: 31,2324           64744                           <span class="op">AD      </span> <a href="FIXED-FIXED_CONSTANT_POOL.agc.html#4F4E45">ONE</a>                                   
034669,000197: 31,2325           00006                           <span class="op">EXTEND  </span>                                       
034670,000198: 31,2326           71612                           <span class="op">MP      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#504946">PIF</a>                                   
034671,000199: 31,2327           00006                           <span class="op">EXTEND  </span>                                       
034672,000200: 31,2330           10131                           <span class="op">DV      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#425546">BUF</a>        +1                         
034673,000201: 31,2331           22007                           <span class="op">ZL      </span>                                       
034674,000202: 31,2332           21611                           <span class="op">DAS     </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#46574549474854">FWEIGHT</a>                               
034675,000203: 
034676,000204: 
<a name="544844554D50"></a>034677,000205: 31,2333           01607        <span class="sm">THDUMP  </span>           <span class="op">TC      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#52544E484F4C44">RTNHOLD</a>                               
034678,000206: 
034679,000207: 
034680,000208:                                                                                                  <span class="co">#  FLATOUT THROTTLES UP THE DESCENT ENGINE, AND IS CALLED AS A BASIC SUBROUTINE.</span>
034681,000209: 
<a name="464C41544F5554"></a>034682,000210: 31,2334           34730        <span class="sm">FLATOUT </span>           <span class="op">CAF     </span> <a href="FIXED-FIXED_CONSTANT_POOL.agc.html#4249543133">BIT13</a>                                 <span class="co">#  4096 PULSES</span>
<a name="574841544F5554"></a>034683,000211: 31,2335           55606        <span class="sm">WHATOUT </span>           <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#50494650534554">PIFPSET</a>                               <span class="co">#  USE PIFPSET SO FWEIGHT WILL BE ZERO</span>
034684,000212: 31,2336           44746                           <span class="op">CS      </span> <a href="FIXED-FIXED_CONSTANT_POOL.agc.html#5A45524F">ZERO</a>                                  
034685,000213: 31,2337           55620                           <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#46434F4C44">FCOLD</a>                                 
034686,000214: 31,2340           55612                           <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#504946">PIF</a>                                   
034687,000215: 31,2341           00006                           <span class="op">EXTEND  </span>                                       
034688,000216: 31,2342           23607                           <span class="op">QXCH    </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#52544E484F4C44">RTNHOLD</a>                               
034689,000217: 31,2343           12256                           <span class="op">TCF     </span> <a href="#444F4954">DOIT</a>                                  
034690,000218: 
</pre>
</span>
</p>
<table style="text-align: left;" border="1" cellpadding="2" cellspacing="2">
<tbody>
<tr>
<td style="white-space: nowrap; vertical-align: middle;">
<img alt="" src="Apollo32.png" style="width: 32px; height: 32px;" align="left">
</td>
<td style="vertical-align: middle;">
Page 793
</td></tr></tbody></table>
<p class="nobreak">
<span style="font-family: monospace;">
<pre>
034692,000220:                                                                                                  <span class="co">#  MASSMULT SCALES ACCELERATION, ARRIVING IN A AND L IN UNITS OF 2(-4) M/CS/CS, TO FORCE IN PULSE UNITS.</span>
034693,000221: 
<a name="4D4153534D554C54"></a>034694,000222: 31,2344           00006        <span class="sm">MASSMULT</span>           <span class="op">EXTEND  </span>                                       
034695,000223: 31,2345           22130                           <span class="op">QXCH    </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#425546">BUF</a>                                   
034696,000224: 31,2346           52155                           <span class="op">DXCH    </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4D504143">MPAC</a>                                  
034697,000225: 31,2347           07124                           <span class="op">TC      </span> <a href="INTERPRETER.agc.html#444D50">DMP</a>                                   
034698,000226: 31,2350           01243                           <span class="ps">ADRES   </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4D415353">MASS</a>                                  
034699,000227: 31,2351           07124                           <span class="op">TC      </span> <a href="INTERPRETER.agc.html#444D50">DMP</a>                                   <span class="co">#  LEAVES PROPERLY SCALED FORCE IN MPAC</span>
034700,000228: 31,2352           02005                           <span class="ps">ADRES   </span> <a href="CONTROLLED_CONSTANTS.agc.html#5343414C45464143">SCALEFAC</a>                              
034701,000229: 31,2353           07300                           <span class="op">TC      </span> <a href="INTERPRETER.agc.html#54504147524545">TPAGREE</a>                               
034702,000230: 31,2354           30154                           <span class="op">CA      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4D504143">MPAC</a>                                  
034703,000231: 31,2355           00006                           <span class="op">EXTEND  </span>                                       
034704,000232: 31,2356           12361                           <span class="op">BZF     </span> +3                                    
034705,000233: 31,2357           34724                           <span class="op">CAF     </span> <a href="FIXED-FIXED_CONSTANT_POOL.agc.html#504F534D4158">POSMAX</a>                                
034706,000234: 31,2360           00130                           <span class="op">TC      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#425546">BUF</a>                                   
034707,000235: 31,2361           52156                           <span class="op">DXCH    </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4D504143">MPAC</a>       +1                         
034708,000236: 31,2362           00130                           <span class="op">TC      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#425546">BUF</a>                                   
034709,000237: 
034710,000238: 
034711,000239:                                                                                                  <span class="co">#  CONSTANTS:-</span>
034712,000240: 
<a name="464558545241"></a>034713,000241: 31,2363     4730               <span class="sm">FEXTRA  </span>           <span class="ps">=       </span> <a href="FIXED-FIXED_CONSTANT_POOL.agc.html#4249543133">BIT13</a>                                 <span class="co">#         FEXT +5.13309020 E+4</span>
034714,000242: 
<a name="2F41462F434E5354"></a>034715,000243: 31,2363           04143        <span class="sm">/AF/CNST</span>           <span class="ps">DEC     </span> .13107                                
034716,000244: 
<a name="4F43543137373737"></a>034717,000245: 31,2364           17777        <span class="sm">OCT17777</span>           <span class="ps">OCT     </span> 17777                                 
<a name="34464D41584E4F4D"></a>034718,000246: 31,2365           35074        <span class="sm">4FMAXNOM</span>           <span class="ps">DEC     </span> 14908      B-14                       <span class="co">#  EQUIVALENT TO 10,500 LBS.</span>
034719,000247:                                                                                                  <span class="co">#  * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *</span>

End of include-file THROTTLE_CONTROL_ROUTINES.agc.  Parent file is <a href="MAIN.agc.html">MAIN.agc</a>
</pre>
</span>
</p>
</body>
</html>
