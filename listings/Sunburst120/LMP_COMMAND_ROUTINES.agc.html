<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta content="text/html;charset=ISO-8859-1" http-equiv="Content-Type">
<title>Assembly listing generated by yaYUL</title>
<style type="text/css">
p.nobreak { white-space:nowrap; }
a { text-decoration:none; }
a:visited { COLOR: #000850; }
</style>
<style type="text/css">
.op{
font-weight: bold;
color: #993300;
}
</style>
<style type="text/css">
.dn{
color: #009900;
}
</style>
<style type="text/css">
.fe{
color: #FF0000;
}
</style>
<style type="text/css">
.in{
color: #FF6600;
}
</style>
<style type="text/css">
.ps{
color: #336600;
}
</style>
<style type="text/css">
.sm{
color: #0000FF;
}
</style>
<style type="text/css">
.wn{
color: #FF9900;
}
</style>
<style type="text/css">
.co{
font-style: italic;
color: #993399;
}
</style>
</head>
<body>
<p class="nobreak">
<span style="font-family: monospace;">
<pre>
<h1>Source Code</h1>
</pre>
</span>
</p>
<table style="text-align: left;" border="1" cellpadding="2" cellspacing="2">
<tbody>
<tr>
<td style="white-space: nowrap; vertical-align: middle;">
<img alt="" src="Apollo32.png" style="width: 32px; height: 32px;" align="left">
</td>
<td style="vertical-align: middle;">
These source-code files were transcribed from scans made from Don Eyles's personal
copy of BURST120 (SUNBURST 120).  They were scanned at archive.org's Boston 
facility, and the scanning was sponsored by Mike Stewart.  The code was transcribed
from these scans by a team of volunteers who are referenced in the program 
comments.  Comments from the original source code are in ALL-CAPS, whereas 
comments added later in transcription are in Mixed-Case.  In some cases, where
similar code blocks exist in previously-transcribed AGC programs (primarily
Luminary 99, from Apollo 11) those code blocks were used as a starting point and
then corrected to agree with the BURST120 scans.  The full scans are available
at <a href="http://www.archive.org/details/virtualagcproject/">the Virtual AGC
project's collection at archive.org</a>, while more-convenient reduced-size (but reduced-quality)
images are available at <a href="http://www.ibiblio.org/apollo/ScansForConversion/Sunburst120/">
the main Virtual AGC website</a>.  Report any errors noted by creating an 
issue report at <a href="https://github.com/rburkey2005/virtualagc/issues">the Virtual AGC
project's GitHub repository</a>. Notations on the program listing read, in part:<br>
<br>
<pre>
	YUL SYSTEM FOR AGC: REVISION 0 OF PROGRAM BURST120 
	BY NASA 2021106-031 DEC 7, 1967

	THIS LISTING IS A COPY OF A VERSION OF THE PROGRAM INTENDED 
	FOR USE IN THE ON-BOARD PRIMARY GUIDANCE COMPUTER IN THE 
	UNMANNED FLIGHT OF APOLLO LUNAR MODULE 1 --- THE AS206 MISSION.
</pre>
Note that the date is the date of the printout, not the date of the program revision.
</td></tr></tbody></table>

<p class="nobreak">
<span style="font-family: monospace;">
<pre>
033887,000002:                                                                                                  <span class="co">## Copyright:    Public domain.</span>
033888,000003:                                                                                                  <span class="co">## Filename:     LMP_COMMAND_ROUTINES.agc</span>
033889,000004:                                                                                                  <span class="co">## Purpose:      A module for revision 0 of BURST120 (Sunburst). It</span>
033890,000005:                                                                                                  <span class="co">##               is part of the source code for the Lunar Module's</span>
033891,000006:                                                                                                  <span class="co">##               (LM) Apollo Guidance Computer (AGC) for Apollo 5.</span>
033892,000007:                                                                                                  <span class="co">## Assembler:    yaYUL</span>
033893,000008:                                                                                                  <span class="co">## Contact:      Ron Burkey &lt;info@sandroid.org>.</span>
033894,000009:                                                                                                  <span class="co">## Website:      www.ibiblio.org/apollo/index.html</span>
033895,000010:                                                                                                  <span class="co">## Mod history:  2016-09-30 RSB  Created draft version.</span>
033896,000011:                                                                                                  <span class="co">##               2016-10-28 HG   transcribed</span>
033897,000012: 
</pre>
</span>
</p>
<table style="text-align: left;" border="1" cellpadding="2" cellspacing="2">
<tbody>
<tr>
<td style="white-space: nowrap; vertical-align: middle;">
<img alt="" src="Apollo32.png" style="width: 32px; height: 32px;" align="left">
</td>
<td style="vertical-align: middle;">
Page 799
</td></tr></tbody></table>
<p class="nobreak">
<span style="font-family: monospace;">
<pre>
033899,000014:                                                                                                  <span class="co">#           THE FOLLOWING SUBROUTINES ALLOW MISSION PROGRAMS TO REQUEST LMP (LEM MISSION PROGRAMMER) OUTPUTS.</span>
033900,000015:                                                                                                  <span class="co">#  THE PROPER DECIMAL CODE IS ENTERED INTO A TABLE AND FROM THENCE TO CHANNEL 10 VIA T4RUPT AND ARE INCLUDED IN</span>
033901,000016:                                                                                                  <span class="co">#  THE DOWNLINK.</span>
033902,000017: 
033903,000018:                                                                                                  <span class="co">#           FOUR ROUTINES ARE PROVIDED:</span>
033904,000019: 
033905,000020:                                                                                                  <span class="co">#                                                   TC     1LMP            CALLED UNDER EXEC OR RUPT. DELIVERS CODE</span>
033906,000021:                                                                                                  <span class="co">#                                                   DEC    LMPCODE         AND RETURNS IMMEDIATELY.</span>
033907,000022: 
033908,000023:                                                                                                  <span class="co">#                                                   TC     2LMP            SAME AS 1LMP BUT TWO CODES ARE</span>
033909,000024:                                                                                                  <span class="co">#                                                   DEC    LMPCODE1        SENT.</span>
033910,000025:                                                                                                  <span class="co">#                                                   DEC    LMPCODE2</span>
033911,000026: 
033912,000027:                                                                                                  <span class="co">#                                                   TC     1LMP+DT         ASSUMES CALLED AS PART OF WAITLIST TASK.</span>
033913,000028:                                                                                                  <span class="co">#                                                   DEC    LMPCODE         DELIVERS LMP CODE, DOES A VARDELAY FOR</span>
033914,000029:                                                                                                  <span class="co">#                                                   DEC    DT              DT, AND THEN RETURNS UNDER WL CONTROL.</span>
033915,000030: 
033916,000031:                                                                                                  <span class="co">#                                                   TC     2LMP+DT         SAME AS 1LMP+DT BUT TWO CODES SENT.</span>
033917,000032:                                                                                                  <span class="co">#                                                   DEC    LMPCODE1</span>
033918,000033:                                                                                                  <span class="co">#                                                   DEC    LMPCODE2</span>
033919,000034:                                                                                                  <span class="co">#                                                   DEC    DT</span>
033920,000035: 
033921,000036:                                                                                                  <span class="co">#  WARNING  ***** PROGRAMS UNDER EXEC WHICH CALL 1LMP + 2LMP MUST FIRST</span>
033922,000037:                                                                                                  <span class="co">#                 INHIBIT INTERRUPT....RETURNS STILL INHIBITED.</span>
033923,000038: 
033924,000039: 
033925,000040: 
033926,000041:    5052                                           <span class="ps">BLOCK   </span> 02                                    
<a name="324C4D50"></a>033927,000042:    5052           50002        <span class="sm">2LMP    </span>           <span class="op">INDEX   </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#51">Q</a>                                     <span class="co">#  PICK UP 1ST CODE</span>
033928,000043:    5053           30000                           <span class="op">CA      </span> 0                                     
033929,000044:    5054           24002                           <span class="op">INCR    </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#51">Q</a>                                     
033930,000045:    5055           22002                           <span class="op">LXCH    </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#51">Q</a>                                     <span class="co">#  SAVE 2ND CODE ADDRESS IN L</span>
033931,000046: 
<a name="4C4D5047524F5550"></a>033932,000047:    5056                        <span class="sm">LMPGROUP</span>           <span class="ps">EQUALS  </span> 2                                     
<a name="4C4D505442415345"></a>033933,000048:    5056     1115               <span class="sm">LMPTBASE</span>           <span class="ps">EQUALS  </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#544241534532">TBASE2</a>                                
<a name="4C4D505048415345"></a>033934,000049:    5056     1102               <span class="sm">LMPPHASE</span>           <span class="ps">EQUALS  </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#504841534532">PHASE2</a>                                
033935,000050: 
033936,000051:    5056           05063                           <span class="op">TC      </span> <a href="#53544F52434F4D">STORCOM</a>    -1                         <span class="co">#  TO STORE IN BUFFER AND UPDATE POINTER</span>
033937,000052: 
033938,000053:    5057           22002                           <span class="op">LXCH    </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#51">Q</a>                                     <span class="co">#  RETRIEVE 2ND CODE ADDRESS FROM L.</span>
033939,000054: 
<a name="314C4D50"></a>033940,000055:    5060           50002        <span class="sm">1LMP    </span>           <span class="op">INDEX   </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#51">Q</a>                                     
033941,000056:    5061           30000                           <span class="op">CA      </span> 0                                     <span class="co">#  GET LMP CODE</span>
033942,000057:    5062           24002                           <span class="op">INCR    </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#51">Q</a>                                     <span class="co">#  SET RETURN.</span>
033943,000058:    5063           67745                           <span class="op">AD      </span> <a href="INTERPRETER.agc.html#4249543135">BIT15</a>                                 <span class="co">#  SET SIGN TO SHOW NEW COMMAND IN BUFFER</span>
<a name="53544F52434F4D"></a>033944,000059:    5064           51143        <span class="sm">STORCOM </span>           <span class="op">INDEX   </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4C4D50494E">LMPIN</a>                                 
033945,000060:    5065           55133                           <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4C4D50434D44">LMPCMD</a>                                <span class="co">#  INSERT IN NEXT SLOT IN BUFFER</span>
033946,000061: 
<a name="55504C4D50494E"></a>033947,000062:    5066           11143        <span class="sm">UPLMPIN </span>           <span class="op">CCS     </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4C4D50494E">LMPIN</a>                                 <span class="co">#  UPDATE POINTER</span>
033948,000063: 
</pre>
</span>
</p>
<table style="text-align: left;" border="1" cellpadding="2" cellspacing="2">
<tbody>
<tr>
<td style="white-space: nowrap; vertical-align: middle;">
<img alt="" src="Apollo32.png" style="width: 32px; height: 32px;" align="left">
</td>
<td style="vertical-align: middle;">
Page 800
</td></tr></tbody></table>
<p class="nobreak">
<span style="font-family: monospace;">
<pre>
033950,000065:    5067           15071                           <span class="op">TCF     </span> +2                                    
033951,000066:    5070           37765                           <span class="op">CAF     </span> <a href="INTERPRETER.agc.html#534556454E">SEVEN</a>                                 
033952,000067:    5071           55143                           <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4C4D50494E">LMPIN</a>                                 
033953,000068:    5072           00002                           <span class="op">TC      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#51">Q</a>                                     
033954,000069: 
<a name="324C4D502B4454"></a>033955,000070:    5073           50002        <span class="sm">2LMP+DT </span>           <span class="op">INDEX   </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#51">Q</a>                                     
033956,000071:    5074           30000                           <span class="op">CA      </span> 0                                     <span class="co">#  PICK UP 1ST CODE</span>
033957,000072:    5075           24002                           <span class="op">INCR    </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#51">Q</a>                                     
033958,000073:    5076           22002                           <span class="op">LXCH    </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#51">Q</a>                                     <span class="co">#  2ND CODE ADDRESS IN L.</span>
033959,000074: 
033960,000075:    5077           05063                           <span class="op">TC      </span> <a href="#53544F52434F4D">STORCOM</a>    -1                         <span class="co">#  STORE IN BUFFER AND UPDATE POINTER</span>
033961,000076: 
033962,000077:    5100           15102                           <span class="op">TCF     </span> +2                                    
033963,000078: 
<a name="314C4D502B4454"></a>033964,000079:    5101           00006        <span class="sm">1LMP+DT </span>           <span class="op">EXTEND  </span>                                       <span class="co">#  SAVE RETURN FOR RESTARTS</span>
033965,000080:    5102           23146                           <span class="op">QXCH    </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4C4D50524554">LMPRET</a>                                
033966,000081:    5103           30006                           <span class="op">CA      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4242414E4B">BBANK</a>                                 
033967,000082:    5104           55147                           <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4C4D504242414E4B">LMPBBANK</a>                              
033968,000083: 
033969,000084:    5105           00006                           <span class="op">EXTEND  </span>                                       
033970,000085:    5106           51146                           <span class="op">INDEX   </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4C4D50524554">LMPRET</a>                                
033971,000086:    5107           30001                           <span class="op">DCA     </span> 0                                     <span class="co">#  PICK UP CODE AND DT</span>
033972,000087:    5110           05063                           <span class="op">TC      </span> <a href="#53544F52434F4D">STORCOM</a>    -1                         <span class="co">#  GO TO STORE CODE AND UPDATE POINTER</span>
033973,000088: 
033974,000089:    5111           23150                           <span class="op">LXCH    </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#5341564454">SAVDT</a>                                 <span class="co">#  SAVE FOR RESTART</span>
033975,000090:    5112           04161                           <span class="op">TC      </span> <a href="PHASE_TABLE_MAINTENANCE.agc.html#5048415343484E47">PHASCHNG</a>                              <span class="co">#  RESTART PROTECT DELAY</span>
033976,000091:    5113           47012                           <span class="ps">OCT     </span> 47012                                 
033977,000092:    5114           76627                           <span class="ps">-GENADR </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#5341564454">SAVDT</a>                                 
033978,000093:    5115     1115                                  <span class="ps">EBANK=  </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#544241534532">TBASE2</a>                                
033979,000094:    5115           05123 04062                     <span class="ps">2CADR   </span> <a href="#4C4D50525354">LMPRST</a>                                
033980,000095: 
033981,000096:    5117           31150                           <span class="op">CA      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#5341564454">SAVDT</a>                                 <span class="co">#  WAIT DT SECONDS</span>
033982,000097:    5120           05704                           <span class="op">TC      </span> <a href="WAITLIST.agc.html#56415244454C4159">VARDELAY</a>                              
033983,000098: 
<a name="4C4D5045584954"></a>033984,000099:    5121           51146        <span class="sm">LMPEXIT </span>           <span class="op">INDEX   </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4C4D50524554">LMPRET</a>                                
033985,000100:    5122           00002                           <span class="op">TC      </span> 2                                     
033986,000101: 
<a name="4C4D50525354"></a>033987,000102:    5123           31147        <span class="sm">LMPRST  </span>           <span class="op">CA      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4C4D504242414E4B">LMPBBANK</a>                              <span class="co">#  LMP+DT RESTARTS COME HERE</span>
033988,000103:    5124           54006                           <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4242414E4B">BBANK</a>                                 <span class="co">#  AFTER DELAY.</span>
033989,000104:    5125           05121                           <span class="op">TC      </span> <a href="#4C4D5045584954">LMPEXIT</a>                               

End of include-file LMP_COMMAND_ROUTINES.agc.  Parent file is <a href="MAIN.agc.html">MAIN.agc</a>
</pre>
</span>
</p>
</body>
</html>
