<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta content="text/html;charset=ISO-8859-1" http-equiv="Content-Type">
<title>Assembly listing generated by yaYUL</title>
<style type="text/css">
p.nobreak { white-space:nowrap; }
a { text-decoration:none; }
a:visited { COLOR: #000850; }
</style>
<style type="text/css">
.op{
font-weight: bold;
color: #993300;
}
</style>
<style type="text/css">
.dn{
color: #009900;
}
</style>
<style type="text/css">
.fe{
color: #FF0000;
}
</style>
<style type="text/css">
.in{
color: #FF6600;
}
</style>
<style type="text/css">
.ps{
color: #336600;
}
</style>
<style type="text/css">
.sm{
color: #0000FF;
}
</style>
<style type="text/css">
.wn{
color: #FF9900;
}
</style>
<style type="text/css">
.co{
font-style: italic;
color: #993399;
}
</style>
</head>
<body>
<p class="nobreak">
<span style="font-family: monospace;">
<pre>
<h1>Source Code</h1>
</pre>
</span>
</p>
<table style="text-align: left;" border="1" cellpadding="2" cellspacing="2">
<tbody>
<tr>
<td style="white-space: nowrap; vertical-align: middle;">
<img alt="" src="Apollo32.png" style="width: 32px; height: 32px;" align="left">
</td>
<td style="vertical-align: middle;">
These source-code files were transcribed from scans made from Don Eyles's personal
copy of BURST120 (SUNBURST 120).  They were scanned at archive.org's Boston 
facility, and the scanning was sponsored by Mike Stewart.  The code was transcribed
from these scans by a team of volunteers who are referenced in the program 
comments.  Comments from the original source code are in ALL-CAPS, whereas 
comments added later in transcription are in Mixed-Case.  In some cases, where
similar code blocks exist in previously-transcribed AGC programs (primarily
Luminary 99, from Apollo 11) those code blocks were used as a starting point and
then corrected to agree with the BURST120 scans.  The full scans are available
at <a href="http://www.archive.org/details/virtualagcproject/">the Virtual AGC
project's collection at archive.org</a>, while more-convenient reduced-size (but reduced-quality)
images are available at <a href="http://www.ibiblio.org/apollo/ScansForConversion/Sunburst120/">
the main Virtual AGC website</a>.  Report any errors noted by creating an 
issue report at <a href="https://github.com/rburkey2005/virtualagc/issues">the Virtual AGC
project's GitHub repository</a>. Notations on the program listing read, in part:<br>
<br>
<pre>
	YUL SYSTEM FOR AGC: REVISION 0 OF PROGRAM BURST120 
	BY NASA 2021106-031 DEC 7, 1967

	THIS LISTING IS A COPY OF A VERSION OF THE PROGRAM INTENDED 
	FOR USE IN THE ON-BOARD PRIMARY GUIDANCE COMPUTER IN THE 
	UNMANNED FLIGHT OF APOLLO LUNAR MODULE 1 --- THE AS206 MISSION.
</pre>
Note that the date is the date of the printout, not the date of the program revision.
</td></tr></tbody></table>

<p class="nobreak">
<span style="font-family: monospace;">
<pre>
019909,000002:                                                                                                  <span class="co">## Copyright:    Public domain.</span>
019910,000003:                                                                                                  <span class="co">## Filename:     T6-RUPT_PROGRAMS.agc</span>
019911,000004:                                                                                                  <span class="co">## Purpose:      A module for revision 0 of BURST120 (Sunburst). It</span>
019912,000005:                                                                                                  <span class="co">##               is part of the source code for the Lunar Module's</span>
019913,000006:                                                                                                  <span class="co">##               (LM) Apollo Guidance Computer (AGC) for Apollo 5.</span>
019914,000007:                                                                                                  <span class="co">## Assembler:    yaYUL</span>
019915,000008:                                                                                                  <span class="co">## Contact:      Ron Burkey &lt;info@sandroid.org>.</span>
019916,000009:                                                                                                  <span class="co">## Website:      www.ibiblio.org/apollo/index.html</span>
019917,000010:                                                                                                  <span class="co">## Mod history:  2016-09-30 RSB  Created draft version.</span>
019918,000011:                                                                                                  <span class="co">##               2016-10-21 HG   Transcribed</span>
019919,000012: 
</pre>
</span>
</p>
<table style="text-align: left;" border="1" cellpadding="2" cellspacing="2">
<tbody>
<tr>
<td style="white-space: nowrap; vertical-align: middle;">
<img alt="" src="Apollo32.png" style="width: 32px; height: 32px;" align="left">
</td>
<td style="vertical-align: middle;">
Page 483
</td></tr></tbody></table>
<p class="nobreak">
<span style="font-family: monospace;">
<pre>
019921,000014:                                                                                                  <span class="co">#  PROGRAM NAMES: (1) DOT6RUPT     MOD. NO. 4  DATE: FEBRUARY 9. 1967</span>
019922,000015: 
019923,000016:                                                                                                  <span class="co">#                 (2) T6JOBCHK</span>
019924,000017: 
019925,000018:                                                                                                  <span class="co">#  MODIFICATION BY: JONATHAN D. ADDELSTON (ADAMS ASSOCIATES)</span>
019926,000019: 
019927,000020:                                                                                                  <span class="co">#  THESE PROGRAMS ENABLE THE LM DAP TO CONTROL THE THRUST TIMES OF THE REACTION CONTROL SYSTEM JETS BY USING TIME6.</span>
019928,000021:                                                                                                  <span class="co">#  SINCE THE LM DAP MAINTAINS EXCLUSIVE CONTROL OVER TIME6 AND ITS INTERRUPTS, THE FOLLOWING CONVENTIONS HAVE BEEN</span>
019929,000022:                                                                                                  <span class="co">#  ESTABLISHED AND MUST NOT BE TAMPERED WITH:</span>
019930,000023:                                                                                                  <span class="co">#           1. NO NUMBER IS EVER PLACED INTO TIME6 EXCEPT BY LM DAP.</span>
019931,000024:                                                                                                  <span class="co">#           2. NO PROGRAM OTHER THAN LM DAP ENABLES THE TIME6 COUNTER.</span>
019932,000025:                                                                                                  <span class="co">#           3. ONLY POSITIVE NUMBERS ARE ENTERED INTO TIME6, SO IT COUNTS DOWN TO -0 (MINUS ZERO) TO INTERRUPT.</span>
019933,000026:                                                                                                  <span class="co">#           4. IF -0 IS NOT IN TIME6 WHEN THE INTERRUPT OCCURS, THEN THE INTERRUPT HAS ALREADY BEEN PROCESSED.</span>
019934,000027:                                                                                                  <span class="co">#           5  ALL PROGRAMS WHICH OPERATE IN EITHER INTERRUPT MODE OR WITH INTERRUPT INHIBITED MUST CALL T6JOBCHK</span>
019935,000028:                                                                                                  <span class="co">#              EVERY 6 MILLISECONDS TO PROCESS A POSSIBLE WAITING T6RUPT BEFORE IT CAN BE HONORED BY THE HARDWARE.</span>
019936,000029: 
019937,000030:                                                                                                  <span class="co">#  DOT6RUPT CALLING SEQUENCE:</span>
019938,000031: 
019939,000032:                                                                                                  <span class="co">#  REF   1                 4004  52 011 0           DXCH   ARUPT           T6RUPT</span>
019940,000033:                                                                                                  <span class="co">#                          4005  0 0006 1           EXTEND</span>
019941,000034:                                                                                                  <span class="co">#  REF   1                 4006  3 5045 0           DCA    T6ADR</span>
019942,000035:                                                                                                  <span class="co">#                          4007  52 006 0           DTCB</span>
019943,000036: 
019944,000037:                                                                                                  <span class="co">#  T6JOBCHK CALLING SEQUENCE:</span>
019945,000038: 
019946,000039:                                                                                                  <span class="co">#  REF   0              23,1000  0 4200 1           TC     T6JOBCHK</span>
019947,000040:                                                                                                  <span class="co">#                L+1     (RETURN)</span>
019948,000041: 
019949,000042:                                                                                                  <span class="co">#  SUBROUTINES CALLED:   DOT6RUPT CALLS T6JOBCHK.</span>
019950,000043: 
019951,000044:                                                                                                  <span class="co">#  NORMAL EXIT MODES:    DOT6RUPT TRANSFERS CONTROL TO RESUME.</span>
019952,000045:                                                                                                  <span class="co">#                        T6JOBCHK TRANSFERS CONTROL TO CALLER AT LOCATION AFTER CALL.</span>
019953,000046: 
019954,000047:                                                                                                  <span class="co">#  ALARM/ABORT MODES:    NONE.</span>
019955,000048: 
019956,000049:                                                                                                  <span class="co">#  INPUT: TIME6,T6NEXT REGS,T6NEXTJT REGS.</span>
019957,000050: 
019958,000051:                                                                                                  <span class="co">#  OUTPUT: (SAME AS INPUT.)</span>
019959,000052: 
019960,000053:                                                                                                  <span class="co">#  DEBRIS: DOT6RUPT: NONE.  T6JOBCHK: A,L</span>
019961,000054:                                                                                                  <span class="co">#  *** NOTE: AS OF MOD. NO. 2, T6NEXT AND T6NEXTJT LISTS ARE IN UNSWITCHED ERASABLE. ***</span>
019962,000055: 
</pre>
</span>
</p>
<table style="text-align: left;" border="1" cellpadding="2" cellspacing="2">
<tbody>
<tr>
<td style="white-space: nowrap; vertical-align: middle;">
<img alt="" src="Apollo32.png" style="width: 32px; height: 32px;" align="left">
</td>
<td style="vertical-align: middle;">
Page 484
</td></tr></tbody></table>
<p class="nobreak">
<span style="font-family: monospace;">
<pre>
019964,000057: 
019965,000058:    5050                                           <span class="ps">BLOCK   </span> 02                                    
019966,000059:    5050     1002                                  <span class="ps">EBANK=  </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#54364E455854">T6NEXT</a>                                
019967,000060: 
019968,000061:    5050     1002                                  <span class="ps">EBANK=  </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#54364E455854">T6NEXT</a>                                
<a name="5436414452"></a>019969,000062:    5050           02000 34062  <span class="sm">T6ADR   </span>           <span class="ps">2CADR   </span> <a href="#444F543652555054">DOT6RUPT</a>                              <span class="co">#  2CADR OF INTERRUPT PROCESSOR.</span>
019970,000063: 
019971,000064: 16,2000                                           <span class="ps">BANK    </span> 16                                    
019972,000065: 16,2000     1002                                  <span class="ps">EBANK=  </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#54364E455854">T6NEXT</a>                                
019973,000066: 
<a name="444F543652555054"></a>019974,000067: 16,2000           22016        <span class="sm">DOT6RUPT</span>           <span class="op">LXCH    </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#42414E4B52555054">BANKRUPT</a>                              <span class="co">#  (INTERRUPT LEAD IN CONTINUED)</span>
019975,000068: 16,2001           00006                           <span class="op">EXTEND  </span>                                       
019976,000069: 16,2002           22012                           <span class="op">QXCH    </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#5152555054">QRUPT</a>                                 
019977,000070: 
019978,000071: 16,2003           06013                           <span class="op">TC      </span> <a href="#54364A4F4243484B">T6JOBCHK</a>                              <span class="co">#  CALL T6JOBCHK</span>
019979,000072: 
019980,000073: 16,2004           15733                           <span class="op">TCF     </span> <a href="WAITLIST.agc.html#524553554D45">RESUME</a>                                <span class="co">#  END TIME6 RUPT</span>
019981,000074: 
019982,000075: 
019983,000076: 
019984,000077:    6013                                           <span class="ps">BLOCK   </span> 03                                    
019985,000078:    6013     1002                                  <span class="ps">EBANK=  </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#54364E455854">T6NEXT</a>                                
019986,000079: 
<a name="54364A4F4243484B"></a>019987,000080:    6013           10031        <span class="sm">T6JOBCHK</span>           <span class="op">CCS     </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#54494D4536">TIME6</a>                                 <span class="co">#  CHECK TIME6 FOR WAITING T6RUPT:</span>
019988,000081:    6014           00002                           <span class="op">TC      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#51">Q</a>                                     <span class="co">#  NONE: CLOCK COUTING DOWN.</span>
019989,000082:    6015           00002                           <span class="op">TC      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#51">Q</a>                                     <span class="co">#  NONE: T6RUPT ALREADY PROCESSED.</span>
019990,000083:    6016           00002                           <span class="op">TC      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#51">Q</a>                                     <span class="co">#  NONE: INVALID VALUE. (POSSIBLE ABORT.)</span>
019991,000084: 
019992,000085:                                                                                                  <span class="co">#  CONTROL PASSES TO T6JOB ONLY WHEN C(TIME6) = -0 (I.E. WHEN A T6RUPT MUST BE PROCESSED).</span>
019993,000086: 
<a name="54364A4F42"></a>019994,000087:    6017           37743        <span class="sm">T6JOB   </span>           <span class="op">CAF     </span> <a href="INTERPRETER.agc.html#504F534D4158">POSMAX</a>                                <span class="co">#  DISABLE CLOCK: NEEDED SINCE RUPT OCCURS</span>
019995,000088:    6020           00006                           <span class="op">EXTEND  </span>                                       <span class="co">#  1 DINC AFTER T6 = 77777.  FOR 625 MUSECS</span>
019996,000089:    6021           03013                           <span class="op">WAND    </span> 13                                    <span class="co">#  MUST NOT HAVE T6 = +0 WITH ENABLE SET.</span>
019997,000090: 
019998,000091:    6022           37767                           <span class="op">CAF     </span> <a href="INTERPRETER.agc.html#5A45524F">ZERO</a>                                  <span class="co">#  UPDATE ORDERED LIST OF T6NEXT REGISTERS</span>
019999,000092:    6023           57003                           <span class="op">XCH     </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#54364E455854">T6NEXT</a>     +1                         <span class="co">#  1) PUSH FIRST ENTRY INTO TIME6.</span>
020000,000093:    6024           57002                           <span class="op">XCH     </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#54364E455854">T6NEXT</a>                                <span class="co">#  2) PUSH SECOND ENTRY INTO FIRST PLACE.</span>
020001,000094:    6025           54031                           <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#54494D4536">TIME6</a>                                 <span class="co">#  3) ZERO LAST (SECOND) DT IN LIST.</span>
020002,000095: 
020003,000096:    6026           10031                           <span class="op">CCS     </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#54494D4536">TIME6</a>                                 <span class="co">#  TIME6 EITHER POSITIVE OR PLUS ZERO:</span>
020004,000097:    6027           16032                           <span class="op">TCF     </span> <a href="#54364E5A45524F">T6NZERO</a>                               <span class="co">#  (BRANCH IF TIME6 STILL ACTIVE.)</span>
020005,000098: 
020006,000099:    6030           31004                           <span class="op">CAE     </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#54364E4558544A54">T6NEXTJT</a>                              <span class="co">#  THESE ARE TRANSLATION JETS (NO DT),</span>
020007,000100:    6031           16041                           <span class="op">TCF     </span> <a href="#57524954454A5453">WRITEJTS</a>                              <span class="co">#  DETERMINE CHANNEL AND WRITE.</span>
020008,000101: 
<a name="54364E5A45524F"></a>020009,000102:    6032           37745        <span class="sm">T6NZERO </span>           <span class="op">CAF     </span> <a href="INTERPRETER.agc.html#4249543135">BIT15</a>                                 <span class="co">#  ENABLE TIME6 COUNTER TO START TIMING</span>
020010,000103:    6033           00006                           <span class="op">EXTEND  </span>                                       <span class="co">#  THIS JET FIRING (PROPER JETS NOT YET</span>
020011,000104:    6034           05013                           <span class="op">WOR     </span> 13                                    <span class="co">#  WRITTEN INTO CHANNEL, BUT WILL BE SOON).</span>
020012,000105: 
020013,000106:    6035           37767                           <span class="op">CAF     </span> <a href="INTERPRETER.agc.html#5A45524F">ZERO</a>                                  <span class="co">#  UPDATE ORDERED LIST OF JET POLICIES:</span>
020014,000107:    6036           57006                           <span class="op">XCH     </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#54364E4558544A54">T6NEXTJT</a>   +2                         <span class="co">#  1) LEAVE JETS TO GO ON NOW IN A.</span>
020015,000108: 
</pre>
</span>
</p>
<table style="text-align: left;" border="1" cellpadding="2" cellspacing="2">
<tbody>
<tr>
<td style="white-space: nowrap; vertical-align: middle;">
<img alt="" src="Apollo32.png" style="width: 32px; height: 32px;" align="left">
</td>
<td style="vertical-align: middle;">
Page 485
</td></tr></tbody></table>
<p class="nobreak">
<span style="font-family: monospace;">
<pre>
020017,000110:    6037           57005                           <span class="op">XCH     </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#54364E4558544A54">T6NEXTJT</a>   +1                         <span class="co">#  2) CYCLE LIST UP TOWARD TOP.</span>
020018,000111:    6040           57004                           <span class="op">XCH     </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#54364E4558544A54">T6NEXTJT</a>                              <span class="co">#  3) ZERO LAST ENTRY IN LIST.</span>
020019,000112: 
</pre>
</span>
</p>
<table style="text-align: left;" border="1" cellpadding="2" cellspacing="2">
<tbody>
<tr>
<td style="white-space: nowrap; vertical-align: middle;">
<img alt="" src="Apollo32.png" style="width: 32px; height: 32px;" align="left">
</td>
<td style="vertical-align: middle;">
Page 486
</td></tr></tbody></table>
<p class="nobreak">
<span style="font-family: monospace;">
<pre>
020021,000114:                                                                                                  <span class="co">#  THE FOLLOWING JET-ON LOGIC MAY BE USED AS A SUBROUTINE (3 ENTRY POINTS):</span>
020022,000115: 
020023,000116:                                                                                                  <span class="co">#  FIRST, LET SGN(A) DETERMINE THE JET CHANNEL:</span>
020024,000117:                                                                                                  <span class="co">#           POSITIVE IMPLIES P-AXIS POLICY.</span>
020025,000118:                                                                                                  <span class="co">#           NEGATIVE IMPLIES Q,R-AXIS POLICY.</span>
020026,000119: 
<a name="57524954454A5453"></a>020027,000120:    6041           00006        <span class="sm">WRITEJTS</span>           <span class="op">EXTEND  </span>                                       <span class="co">#  TEST FOR CHANNEL TO WRITE POLICY IN:</span>
020028,000121:    6042           66046                           <span class="op">BZMF    </span> <a href="#57524954455152">WRITEQR</a>                               <span class="co">#  NEG: Q,R-AXES JETS IN CHANNEL 5</span>
020029,000122: 
020030,000123:                                                                                                  <span class="co">#  SECOND, FOR P-AXIS JET POLICIES:</span>
020031,000124: 
<a name="575249544550"></a>020032,000125:    6043           00006        <span class="sm">WRITEP  </span>           <span class="op">EXTEND  </span>                                       <span class="co">#  POS: P-AXIS   JETS IN CHANNEL 6</span>
020033,000126:    6044           01006                           <span class="op">WRITE   </span> 6                                     
020034,000127:    6045           00002                           <span class="op">TC      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#51">Q</a>                                     <span class="co">#  RETURN.</span>
020035,000128: 
020036,000129:                                                                                                  <span class="co">#  THIRD, FOR Q,R-AXES JET POLICIES:</span>
020037,000130: 
<a name="57524954455152"></a>020038,000131:    6046           00006        <span class="sm">WRITEQR </span>           <span class="op">EXTEND  </span>                                       <span class="co">#  Q,R-AXES JETS IN CHANNEL 5</span>
020039,000132:    6047           01005                           <span class="op">WRITE   </span> 5                                     
020040,000133:    6050           00002                           <span class="op">TC      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#51">Q</a>                                     <span class="co">#  RETURN.</span>

End of include-file T6-RUPT_PROGRAMS.agc.  Parent file is <a href="MAIN.agc.html">MAIN.agc</a>
</pre>
</span>
</p>
</body>
</html>
